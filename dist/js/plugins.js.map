{"version":3,"sources":["easyautocomplete.js","fancybox.js","formstyler.js","input-mask.js","jquery.validate.js","messages_ru.js","select-width.js","slickjs.js","sticky-kit.js"],"names":["EasyAutocomplete","scope","main","$input","options","requestDelayTimeoutId","consts","Constans","config","Configuration","logger","Logger","template","Template","listBuilderService","ListBuilderService","proccess","checkParam","equals","$field","$container","elementsList","selectedElement","prepareField","$elements_container","highlight","string","phrase","get","escapedPhrase","replace","RegExp","parent","hasClass","getValue","next","remove","unwrap","$wrapper","$","classes","getTemplateClass","addClass","wrap","fieldWidth","outerWidth","css","createWrapper","attr","getContainerId","prepend","on","showAnimation","type","animationTime","time","callback","find","slideDown","fadeIn","show","onShowListEvent","hideAnimation","slideUp","fadeOut","hide","onHideListEvent","removeClass","eq","onSelectItemEvent","event","listBuilders","$item","$listContainer","empty","detach","counter","builderIndex","listBuildersLength","length","listData","data","undefined","header","append","i","listDataLength","maxListSize","j","itemCounter","elementsValue","val","trigger","selectElement","onClickEvent","onChooseEvent","mouseover","onMouseOverEvent","mouseout","onMouseOutEvent","html","build","push","onLoadEvent","after","elementId","showContainer","hideContainer","index","loadElements","list","this","getConstants","getConfiguration","getContainer","getSelectedItemIndex","getItems","getItemData","getSelectedItemData","init","error","checkDataUrlProperties","checkRequiredProperties","bindKeyup","off","keyup","keyCode","preventDefault","inputPhrase","hideOnEmptyPhrase","clearTimeout","setTimeout","loadData","updateCategories","processData","settings","ajaxSettings","set","createAjaxSettings","url","dataType","ajax","done","convertXml","checkIfDataExists","fail","warning","always","focusout","fieldValue","match","caseSensitive","toLowerCase","evt","window","suppressKeypress","keydown","onKeyEnterEvent","focus","blur","bindAllEvents","bindEvents","eacHandles","getHandle","id","inputHasId","input","assignRandomId","fieldId","Math","floor","random","setHandle","handle","_cssClass","emptyStringFunction","buildMethod","_fields","genericTemplates","basic","method","element","cssClass","description","fields","iconLeft","icon","iconRight","iconSrc","links","link","custom","elementValue","listBuilder","sort","enabled","maxNumberOfElements","slice","reduceElementsInList","preparedList","findMatch","value","configuration","proccessResponseData","convertToListBuilder","category","builder","toUpperCase","listLocation","xmlElementName","convertXmlToListBuilder","convertDataToListBuilder","defaultsGetValue","convertXmlToList","simpleList","each","Array","constants","CONTAINER_CLASS","CONTAINER_ID","WRAPPER_CSS_CLASS","propertyName","message","console","log","defaults","autocompleteOff","placeholder","ajaxCallback","matchResponseProperty","a","b","search","highlightPhrase","theme","cssClasses","minCharNumber","requestDelay","adjustWidth","preparePostData","loggerEnabled","categoriesAssigned","categories","externalObjects","printPropertiesThatDoesntExist","consol","optionsToCheck","checkPropertiesIfExist","source","target","property","inArray","name","text","prepareDefaults","mergeObjects","mergedObject","defaultUrl","defaultlistLocation","processAfterMerge","fn","easyAutocomplete","$this","eacHandle","inputId","jQuery","document","info","stuff","fancybox","div","loop","gutter","keyboard","arrows","infobar","smallBtn","toolbar","buttons","idleTime","protect","modal","image","preload","iframe","tpl","scrolling","defaultType","animationEffect","animationDuration","zoomOpacity","transitionEffect","transitionDuration","slideClass","baseClass","baseTpl","spinnerTpl","errorTpl","btnTpl","download","zoom","close","arrowLeft","arrowRight","parentEl","autoFocus","backFocus","trapFocus","fullScreen","autoStart","touch","vertical","momentum","hash","media","slideShow","speed","thumbs","hideOnClose","axis","wheel","onInit","noop","beforeLoad","afterLoad","beforeShow","afterShow","beforeClose","afterClose","onActivate","onDeactivate","clickContent","current","clickSlide","clickOutside","dblclickContent","dblclickSlide","dblclickOutside","mobile","lang","i18n","en","CLOSE","NEXT","PREV","ERROR","PLAY_START","PLAY_STOP","FULL_SCREEN","THUMBS","DOWNLOAD","SHARE","ZOOM","de","$W","$D","called","requestAFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","transitionEnd","t","el","createElement","transitions","transition","OTransition","MozTransition","WebkitTransition","style","forceRedraw","$el","offsetHeight","mergeOpts","opts1","opts2","rez","extend","key","isArray","FancyBox","content","opts","self","isPlainObject","isMobile","currIndex","parseInt","prevIndex","prevPos","currPos","firstRun","group","slides","addContent","$lastFocus","activeElement","prototype","$scrollDiv","buttonStr","firstItemOpts","scrollbarWidth","getInstance","hideScrollbar","body","scrollHeight","innerHeight","appendTo","offsetWidth","clientWidth","translate","$refs","container","forEach","item","activate","jumpTo","obj","str","arr","n","items","makeArray","found","src","srcParts","$orig","videoFormat","charAt","contentType","$trigger","$thumb","caption","apply","split","shift","filter","Object","keys","updateControls","Thumbs","isActive","create","addEvents","removeEvents","e","stopPropagation","previous","isScaledDown","originalEvent","update","stage","instance","isClosing","is","has","keycode","which","ctrlKey","altKey","shiftKey","idleSecondsCounter","isIdle","showControls","idleInterval","setInterval","isDragging","hideControls","clearInterval","duration","pos","canvasWidth","currentPos","transitionProps","groupLen","isAnimating","createSlide","getTranslate","$slide","isMoved","left","top","forcedDuration","isNumeric","loadSlide","slide","stop","round","width","animate","removeAttr","complete","children","isLoaded","revealContent","isComplete","updateSlide","scaleToActual","x","y","imgPos","posX","posY","scaleX","scaleY","$content","canvasHeight","height","newImgWidth","newImgHeight","hasError","updateCursor","SlideShow","scaleToFit","end","getFitPos","maxWidth","maxHeight","minRatio","margin","aspectRatio","right","bottom","min","ratio","setTranslate","toggleClass","clientHeight","centerSlide","opacity","nextWidth","nextHeight","isZoomable","prop","isFunction","fitPos","canPan","abs","ajaxLoad","isLoading","setImage","setIframe","setContent","setError","showLoading","success","textStatus","jqXHR","one","abort","thumbSrc","temp","pxRatio","windowWidth","srcset","timouts","$img","$image","devicePixelRatio","innerWidth","map","ret","trim","substring","postfix","thumb","$ghost","setBigImage","sizes","resolveImageSlideSize","naturalWidth","naturalHeight","max","hideLoading","readyState","imgWidth","imgHeight","$iframe","Date","getTime","isReady","$body","frameWidth","frameHeight","contents","ignore","ceil","outerHeight","unbind","hasOwnProperty","$placeholder","insertAfter","nodeType","$smallBtn","first","$spinner","prependTo","button","effect","effectClassName","start","getThumbPos","slidePos","thumbPos","ownerDocument","offset","elementRect","getBoundingClientRect","parentRects","parentElement","every","parentRect","visiblePixelX","visiblePixelY","isElementVisible","parseFloat","siblings","prev","isVisible","d","domRect","cleanUp","args","call","arguments","unshift","force","$caption","isHiddenControls","toggleControls","version","command","open","all","destroy","add","createTouch","test","navigator","userAgent","use3d","getComputedStyle","getPropertyValue","documentMode","props","position","transform","to","leaveAnimationName","final","selector","_run","$target","currentTarget","isDefaultPrevented","format","params","param","indexOf","youtube","matcher","autoplay","autohide","fs","rel","hd","wmode","enablejsapi","html5","paramPlace","vimeo","show_title","show_byline","show_portrait","fullscreen","api","instagram","gmap_place","gmap_search","urlParams","paramObj","provider","providerName","providerOpts","m","p","decodeURIComponent","p1","s","origSrc","contentSource","cancelAFrame","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","oCancelAnimationFrame","getPointerXY","result","touches","changedTouches","pageX","pageY","clientX","clientY","distance","point2","point1","what","sqrt","pow","isClickable","onclick","atts","attributes","nodeName","substr","isScrollable","overflowY","overflowX","horizontal","scrollWidth","Guestures","$bg","bg","$stage","proxy","ontouchstart","isTouchDevice","realPoints","startPoints","startEvent","canTap","isPanning","isSwiping","isZooming","isScrolling","startTime","distanceX","distanceY","contentLastPos","contentStartPos","sliderStartPos","sliderLastPos","stagePos","addEventListener","onscroll","centerPointStartX","scrollLeft","centerPointStartY","scrollTop","percentageOfImageAtPinchPointX","percentageOfImageAtPinchPointY","startDistanceBetweenFingers","removeEventListener","ontouchmove","newPoints","onSwipe","onPan","onZoom","ontouchend","angle","swiping","requestId","atan2","PI","inTransition","limitMovement","minTranslateX","minTranslateY","maxTranslateX","maxTranslateY","newOffsetX","newOffsetY","currentOffsetX","currentOffsetY","currentWidth","currentHeight","limitPosition","newWidth","newHeight","pinchRatio","translateFromZoomingX","translateFromZoomingY","centerPointEndX","centerPointEndY","translateFromTranslatingX","newPos","dMs","panning","zooming","endPoints","onTap","velocityX","velocityY","speedX","endPanning","endZooming","endSwiping","len","reset","where","tapX","tapY","process","prefix","action","addBack","tapped","timer","$button","toggle","clear","onInit.fb","beforeShow.fb","afterShow.fb","afterKeydown.fb","keypress","beforeClose.fb onDeactivate.fb","hidden","fnMap","FullScreen","request","elem","documentElement","requestFullscreen","ALLOW_KEYBOARD_INPUT","exit","exitFullscreen","isFullscreen","Boolean","fullscreenElement","fullscreenEnabled","beforeClose.fb","fullscreenchange","CLASS","CLASS_ACTIVE","FancyThumbs","$grid","$list","second","innerHTML","join","that","share","currentHash","location","entityMap","encodeURIComponent","&","<",">","\"","'","/","`","=","String","shareInstance","shareCurrent","click","href","parseUrl","pop","gallery","triggerFromUrl","escapeSelector","getGalleryID","sel","ch","asCodePoint","charCodeAt","toString","origHash","hashTimer","history","title","pathname","hasCreatedHistory","back","replaceState","fb","reverse","tmp","prevTime","currTime","deltaY","deltaX","wheelDelta","detail","factory","define","amd","exports","module","require","pluginName","idSuffix","filePlaceholder","fileBrowse","fileNumber","selectPlaceholder","selectSearch","selectSearchLimit","selectSearchNotFound","selectSearchPlaceholder","selectVisibleOptions","selectSmartPositioning","locale","locales","onSelectOpened","onSelectClosed","onFormStyled","Plugin","onDocumentClick","parents","selectbox","dropdown","opt","iOS","Android","Attributes","checkboxOutput","att","checkbox","triggerHandler","change","closest","before","radioOutput","radio","commonParents","cachedThis","commonParent","inputName","fileOutput","browse","file","files","number","numberOutput","step","timeout","interval","Number","changeValue","spin","newValue","decimals","multiplier","selectboxOutput","preventScrolling","scrollDiff","option","makeList","op","li","liClass","liClasses","dataList","optionClass","optgroupClass","dataJqfsClass","k","ul","size","ulHeight","liHeight","clkd","metaKey","prevAll","nextAll","not","arrIndexes","doMultipleSelect","searchHTML","selectzIndex","divSelect","divText","optionSelected","notFound","liWidthInner","liWidth","display","l","selClone","clone","selCloneWidth","selectHeight","searchHeight","isMaxHeight","liSelected","liOuterHeight","win","topOffset","bottomOffset","visible","minHeight","dropDown","maxHeightBottom","maxHeightTop","dropUp","zIndex","query","hover","liText","selectedIndex","registered","doSelect","removeData","returns","promise","Zepto","Mask","mask","invalid","getCaret","ctrl","dSel","selection","cSelStart","selectionStart","appVersion","createRange","moveStart","setCaret","range","setSelectionRange","createTextRange","collapse","moveEnd","select","events","maskDigitPosMapOld","maskDigitPosMap","jMaskGlobals","useInput","behaviour","oldValue","selectOnFocus","clearIfNotMatch","regexMask","getRegexMask","translation","pattern","optional","recursive","oRecursive","r","maskChunks","jMask","digit","destroyEvents","v","calculateCaretPosition","oldVal","newVal","getMasked","caretPosNew","caretPosOld","newValL","oldValL","maskDigitsBeforeCaret","maskDigitsAfterCaret","maskDigitsBeforeCaretAll","maskDigitsBeforeCaretAllOld","caretPos","byPassKeys","keyStrokeCompensation","callbacks","skipMaskChars","lastMaskChar","check","lastUntranslatedMaskChar","buf","maskLen","valLen","addMethod","resetPos","maskDigitCount","maskDigitPosArr","maskDigit","valDigit","fallback","lastMaskCharDigit","mapMaskdigitPositions","maskDiff","changed","defaultArgs","criteria","caret","getCleanVal","getMaskedVal","onlyMask","maxlength","maskWatchers","HTMLAttributes","notSameMaskObject","field","maskObject","stringify","JSON","globals","watchInterval","watchInputs","maskFunction","masked","unmask","dataMask","cleanVal","applyDataMask","maskElements","dataMaskAttr","eventName","isSupported","setAttribute","watchDataMask","0","9","#","A","S","validate","validator","onsubmit","submitButton","cancelSubmit","submitHandler","formSubmitted","currentForm","debug","form","pendingRequest","focusInvalid","warn","valid","errorList","concat","rules","argument","staticRules","existingRules","filtered","hasAttribute","normalizeRule","messages","normalizeRules","classRules","attributeRules","dataRules","required","remote","expr","pseudos","blank","filled","unchecked","constructor","groups","errorClass","pendingClass","validClass","errorElement","focusCleanup","errorContainer","errorLabelContainer","ignoreTitle","onfocusin","lastActive","unhighlight","hideThese","errorsFor","onfocusout","checkable","submitted","onkeyup","parentNode","findByName","setDefaults","email","date","dateISO","digits","equalTo","minlength","rangelength","autoCreateRanges","labelContainer","errorContext","containers","valueCache","pending","delegate","eventType","invalidHandler","checkForm","errorMap","showErrors","prepareForm","elements","currentElements","rs","cleanElement","clean","checkElement","validationTargetFor","prepareElement","testgroup","numberOfInvalids","toHide","errors","successList","grep","defaultShowErrors","resetForm","hideErrors","resetElements","objectLength","count","addWrapper","findLastActive","rulesCache","resetInternals","toShow","idx","$element","validity","badInput","lastIndexOf","rule","normalizer","rulesCount","dependencyMismatch","TypeError","parameters","methods","formatAndAdd","customDataMessage","customMessage","findDefined","defaultMessage","theregex","toToggle","wrapper","showLabel","validElements","invalidElements","place","errorID","elementID","idOrName","describedBy","errorPlacement","escapeCssMeta","describer","getLength","depend","dependTypes","boolean","function","startRequest","stopRequest","submit","previousValue","old","classRuleSettings","creditcard","addClassRules","className","normalizeAttributeRule","isNaN","getAttribute","depends","keepRule","parameter","parts","transformed","errorMessage","re","decimalPlaces","num","toInt","Error","optionDataString","originalMessage","mode","port","context","response","pendingRequests","ajaxPrefilter","_","xhr","extension","resizeselect","$test","instanceUid","Slick","dataSettings","accessibility","adaptiveHeight","appendArrows","appendDots","asNavFor","prevArrow","nextArrow","autoplaySpeed","centerMode","centerPadding","cssEase","customPaging","slider","dots","dotsClass","draggable","easing","edgeFriction","fade","focusOnSelect","focusOnChange","infinite","initialSlide","lazyLoad","mobileFirst","pauseOnHover","pauseOnFocus","pauseOnDotsHover","respondTo","responsive","rows","rtl","slidesPerRow","slidesToShow","slidesToScroll","swipe","swipeToSlide","touchMove","touchThreshold","useCSS","useTransform","variableWidth","verticalSwiping","waitForAnimate","initials","animating","dragging","autoPlayTimer","currentDirection","currentLeft","currentSlide","direction","$dots","listWidth","listHeight","loadIndex","$nextArrow","$prevArrow","slideCount","slideWidth","$slideTrack","$slides","sliding","slideOffset","swipeLeft","touchObject","transformsEnabled","unslicked","activeBreakpoint","animType","animProp","breakpoints","breakpointSettings","cssTransitions","focussed","interrupted","paused","positionProp","rowCount","shouldClick","$slider","$slidesCache","transformType","transitionType","visibilityChange","windowTimer","originalSettings","mozHidden","webkitHidden","autoPlay","autoPlayClear","autoPlayIterator","changeSlide","clickHandler","selectHandler","setPosition","swipeHandler","dragHandler","keyHandler","htmlExpr","registerBreakpoints","activateADA","aria-hidden","tabindex","addSlide","slickAdd","markup","addBefore","unload","insertBefore","reinit","animateHeight","targetHeight","animateSlide","targetLeft","animProps","animStart","now","applyTransition","disableTransition","getNavTarget","slick","slideHandler","slideTo","buildArrows","aria-disabled","buildDots","dot","getDotCount","buildOut","wrapAll","setupInfinite","updateDots","setSlideClasses","buildRows","c","newSlides","numOfSlides","originalSlides","slidesPerSection","createDocumentFragment","row","appendChild","checkResponsive","initial","forceUpdate","breakpoint","targetBreakpoint","respondToWidth","triggerBreakpoint","sliderWidth","unslick","refresh","dontAnimate","indexOffset","checkNavigable","navigables","prevNavigable","getNavigableIndexes","cleanUpEvents","interrupt","visibility","cleanUpSlideEvents","orientationChange","resize","cleanUpRows","stopImmediatePropagation","fadeSlide","slideIndex","fadeSlideOut","filterSlides","slickFilter","focusHandler","$sf","getCurrent","slickCurrentSlide","breakPoint","pagerQty","getLeft","verticalHeight","targetSlide","coef","verticalOffset","offsetLeft","getOption","slickGetOption","indexes","getSlick","getSlideCount","swipedSlide","swipeTarget","centerOffset","slideOuterWidth","goTo","slickGoTo","creation","setProps","startLoad","loadSlider","initializeEvents","updateArrows","initADA","numDotGroups","tabControlIndexes","slideControlIndex","role","ariaButtonControl","aria-describedby","mappedSlideIndex","aria-controls","aria-label","aria-selected","initArrowEvents","initDotEvents","initSlideEvents","initUI","tagName","loadRange","rangeStart","rangeEnd","loadImages","imagesScope","imageSource","imageSrcSet","imageSizes","imageToLoad","onload","onerror","prevSlide","nextSlide","progressiveLazyLoad","slickNext","pause","slickPause","play","slickPlay","postSlide","slickPrev","tryCount","$imgsToLoad","initializing","lastVisibleIndex","currentBreakpoint","responsiveSettings","splice","windowDelay","removeSlide","slickRemove","removeBefore","removeAll","setCSS","positionProps","setDimensions","padding","setFade","setHeight","setOption","slickSetOption","bodyStyle","msTransition","OTransform","perspectiveProperty","webkitPerspective","MozTransform","MozPerspective","webkitTransform","msTransform","allSlides","remainder","evenCoef","infiniteCount","targetElement","sync","animSlide","oldSlide","slideLeft","navTarget","swipeDirection","xDist","yDist","swipeAngle","startX","curX","startY","curY","swipeEnd","swipeLength","edgeHit","minSwipe","fingerCount","swipeStart","swipeMove","curLeft","positionOffset","verticalSwipeLength","unfilterSlides","slickUnfilter","fromBreakpoint","stick_in_parent","doc","elm","enable_bottoming","inner_scrolling","manual_spacer","offset_top","parent_selector","recalc_every","sticky_class","spacer","bottoming","padding_bottom","parent_top","parent_height","el_float","detached","bottomed","fixed","last_pos","last_scroll_height","recalc","recalc_and_tick","recalc_counter","tick","border_top","padding_top","restore","vertical-align","float","delta","recalced","scroll","will_bottom","win_height"],"mappings":"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","file":"plugins.js","sourcesContent":["/*\r\n * easy-autocomplete\r\n * jQuery plugin for autocompletion\r\n * \r\n * @author Łukasz Pawełczak (http://github.com/pawelczak)\r\n * @version 1.3.5\r\n * Copyright  License: \r\n */\r\n\r\n/*\r\n * EasyAutocomplete - Configuration \r\n */\r\nvar EasyAutocomplete = (function(scope){\r\n\r\n\tscope.Configuration = function Configuration(options) {\r\n\t\tvar defaults = {\r\n\t\t\tdata: \"list-required\",\r\n\t\t\turl: \"list-required\",\r\n\t\t\tdataType: \"json\",\r\n\r\n\t\t\tlistLocation: function(data) {\r\n\t\t\t\treturn data;\r\n\t\t\t},\r\n\r\n\t\t\txmlElementName: \"\",\r\n\r\n\t\t\tgetValue: function(element) {\r\n\t\t\t\treturn element;\r\n\t\t\t},\r\n\r\n\t\t\tautocompleteOff: true,\r\n\r\n\t\t\tplaceholder: false,\r\n\r\n\t\t\tajaxCallback: function() {},\r\n\r\n\t\t\tmatchResponseProperty: false,\r\n\r\n\t\t\tlist: {\r\n\t\t\t\tsort: {\r\n\t\t\t\t\tenabled: false,\r\n\t\t\t\t\tmethod: function(a, b) {\r\n\t\t\t\t\t\ta = defaults.getValue(a);\r\n\t\t\t\t\t\tb = defaults.getValue(b);\r\n\t\t\t\t\t\tif (a < b) {\r\n\t\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (a > b) {\r\n\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tmaxNumberOfElements: 6,\r\n\r\n\t\t\t\thideOnEmptyPhrase: true,\r\n\r\n\t\t\t\tmatch: {\r\n\t\t\t\t\tenabled: false,\r\n\t\t\t\t\tcaseSensitive: false,\r\n\t\t\t\t\tmethod: function(element, phrase) {\r\n\r\n\t\t\t\t\t\tif (element.search(phrase) > -1) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tshowAnimation: {\r\n\t\t\t\t\ttype: \"normal\", //normal|slide|fade\r\n\t\t\t\t\ttime: 400,\r\n\t\t\t\t\tcallback: function() {}\r\n\t\t\t\t},\r\n\r\n\t\t\t\thideAnimation: {\r\n\t\t\t\t\ttype: \"normal\",\r\n\t\t\t\t\ttime: 400,\r\n\t\t\t\t\tcallback: function() {}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t/* Events */\r\n\t\t\t\tonClickEvent: function() {},\r\n\t\t\t\tonSelectItemEvent: function() {},\r\n\t\t\t\tonLoadEvent: function() {},\r\n\t\t\t\tonChooseEvent: function() {},\r\n\t\t\t\tonKeyEnterEvent: function() {},\r\n\t\t\t\tonMouseOverEvent: function() {},\r\n\t\t\t\tonMouseOutEvent: function() {},\t\r\n\t\t\t\tonShowListEvent: function() {},\r\n\t\t\t\tonHideListEvent: function() {}\r\n\t\t\t},\r\n\r\n\t\t\thighlightPhrase: true,\r\n\r\n\t\t\ttheme: \"\",\r\n\r\n\t\t\tcssClasses: \"\",\r\n\r\n\t\t\tminCharNumber: 0,\r\n\r\n\t\t\trequestDelay: 0,\r\n\r\n\t\t\tadjustWidth: true,\r\n\r\n\t\t\tajaxSettings: {},\r\n\r\n\t\t\tpreparePostData: function(data, inputPhrase) {return data;},\r\n\r\n\t\t\tloggerEnabled: true,\r\n\r\n\t\t\ttemplate: \"\",\r\n\r\n\t\t\tcategoriesAssigned: false,\r\n\r\n\t\t\tcategories: [{\r\n\t\t\t\tmaxNumberOfElements: 4\r\n\t\t\t}]\r\n\r\n\t\t};\r\n\t\t\r\n\t\tvar externalObjects = [\"ajaxSettings\", \"template\"];\r\n\r\n\t\tthis.get = function(propertyName) {\r\n\t\t\treturn defaults[propertyName];\r\n\t\t};\r\n\r\n\t\tthis.equals = function(name, value) {\r\n\t\t\tif (isAssigned(name)) {\r\n\t\t\t\tif (defaults[name] === value) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\t\tthis.checkDataUrlProperties = function() {\r\n\t\t\tif (defaults.url === \"list-required\" && defaults.data === \"list-required\") {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\t\tthis.checkRequiredProperties = function() {\r\n\t\t\tfor (var propertyName in defaults) {\r\n\t\t\t\tif (defaults[propertyName] === \"required\") {\r\n\t\t\t\t\tlogger.error(\"Option \" + propertyName + \" must be defined\");\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t};\r\n\r\n\t\tthis.printPropertiesThatDoesntExist = function(consol, optionsToCheck) {\r\n\t\t\tprintPropertiesThatDoesntExist(consol, optionsToCheck);\r\n\t\t};\r\n\r\n\r\n\t\tprepareDefaults();\r\n\r\n\t\tmergeOptions();\r\n\r\n\t\tif (defaults.loggerEnabled === true) {\r\n\t\t\tprintPropertiesThatDoesntExist(console, options);\t\r\n\t\t}\r\n\r\n\t\taddAjaxSettings();\r\n\r\n\t\tprocessAfterMerge();\r\n\t\tfunction prepareDefaults() {\r\n\r\n\t\t\tif (options.dataType === \"xml\") {\r\n\t\t\t\t\r\n\t\t\t\tif (!options.getValue) {\r\n\r\n\t\t\t\t\toptions.getValue = function(element) {\r\n\t\t\t\t\t\treturn $(element).text();\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\t\r\n\t\t\t\tif (!options.list) {\r\n\r\n\t\t\t\t\toptions.list = {};\r\n\t\t\t\t} \r\n\r\n\t\t\t\tif (!options.list.sort) {\r\n\t\t\t\t\toptions.list.sort = {};\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\toptions.list.sort.method = function(a, b) {\r\n\t\t\t\t\ta = options.getValue(a);\r\n\t\t\t\t\tb = options.getValue(b);\r\n\t\t\t\t\tif (a < b) {\r\n\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (a > b) {\r\n\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (!options.list.match) {\r\n\t\t\t\t\toptions.list.match = {};\r\n\t\t\t\t}\r\n\r\n\t\t\t\toptions.list.match.method = function(element, phrase) {\r\n\r\n\t\t\t\t\tif (element.search(phrase) > -1) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t}\r\n\t\t\tif (options.categories !== undefined && options.categories instanceof Array) {\r\n\r\n\t\t\t\tvar categories = [];\r\n\r\n\t\t\t\tfor (var i = 0, length = options.categories.length; i < length; i += 1) { \r\n\r\n\t\t\t\t\tvar category = options.categories[i];\r\n\r\n\t\t\t\t\tfor (var property in defaults.categories[0]) {\r\n\r\n\t\t\t\t\t\tif (category[property] === undefined) {\r\n\t\t\t\t\t\t\tcategory[property] = defaults.categories[0][property];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcategories.push(category);\r\n\t\t\t\t}\r\n\r\n\t\t\t\toptions.categories = categories;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction mergeOptions() {\r\n\r\n\t\t\tdefaults = mergeObjects(defaults, options);\r\n\r\n\t\t\tfunction mergeObjects(source, target) {\r\n\t\t\t\tvar mergedObject = source || {};\r\n\r\n\t\t\t\tfor (var propertyName in source) {\r\n\t\t\t\t\tif (target[propertyName] !== undefined && target[propertyName] !== null) {\r\n\r\n\t\t\t\t\t\tif (typeof target[propertyName] !== \"object\" || \r\n\t\t\t\t\t\t\t\ttarget[propertyName] instanceof Array) {\r\n\t\t\t\t\t\t\tmergedObject[propertyName] = target[propertyName];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tmergeObjects(source[propertyName], target[propertyName]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\t/* If data is an object */\r\n\t\t\t\tif (target.data !== undefined && target.data !== null && typeof target.data === \"object\") {\r\n\t\t\t\t\tmergedObject.data = target.data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn mergedObject;\r\n\t\t\t}\r\n\t\t}\t\r\n\r\n\r\n\t\tfunction processAfterMerge() {\r\n\t\t\t\r\n\t\t\tif (defaults.url !== \"list-required\" && typeof defaults.url !== \"function\") {\r\n\t\t\t\tvar defaultUrl = defaults.url;\r\n\t\t\t\tdefaults.url = function() {\r\n\t\t\t\t\treturn defaultUrl;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (defaults.ajaxSettings.url !== undefined && typeof defaults.ajaxSettings.url !== \"function\") {\r\n\t\t\t\tvar defaultUrl = defaults.ajaxSettings.url;\r\n\t\t\t\tdefaults.ajaxSettings.url = function() {\r\n\t\t\t\t\treturn defaultUrl;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof defaults.listLocation === \"string\") {\r\n\t\t\t\tvar defaultlistLocation = defaults.listLocation;\r\n\r\n\t\t\t\tif (defaults.dataType.toUpperCase() === \"XML\") {\r\n\t\t\t\t\tdefaults.listLocation = function(data) {\r\n\t\t\t\t\t\treturn $(data).find(defaultlistLocation);\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdefaults.listLocation = function(data) {\r\n\t\t\t\t\t\treturn data[defaultlistLocation];\r\n\t\t\t\t\t};\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof defaults.getValue === \"string\") {\r\n\t\t\t\tvar defaultsGetValue = defaults.getValue;\r\n\t\t\t\tdefaults.getValue = function(element) {\r\n\t\t\t\t\treturn element[defaultsGetValue];\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tif (options.categories !== undefined) {\r\n\t\t\t\tdefaults.categoriesAssigned = true;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction addAjaxSettings() {\r\n\r\n\t\t\tif (options.ajaxSettings !== undefined && typeof options.ajaxSettings === \"object\") {\r\n\t\t\t\tdefaults.ajaxSettings = options.ajaxSettings;\r\n\t\t\t} else {\r\n\t\t\t\tdefaults.ajaxSettings = {};\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tfunction isAssigned(name) {\r\n\t\t\tif (defaults[name] !== undefined && defaults[name] !== null) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\tfunction printPropertiesThatDoesntExist(consol, optionsToCheck) {\r\n\t\t\t\r\n\t\t\tcheckPropertiesIfExist(defaults, optionsToCheck);\r\n\r\n\t\t\tfunction checkPropertiesIfExist(source, target) {\r\n\t\t\t\tfor(var property in target) {\r\n\t\t\t\t\tif (source[property] === undefined) {\r\n\t\t\t\t\t\tconsol.log(\"Property '\" + property + \"' does not exist in EasyAutocomplete options API.\");\t\t\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (typeof source[property] === \"object\" && $.inArray(property, externalObjects) === -1) {\r\n\t\t\t\t\t\tcheckPropertiesIfExist(source[property], target[property]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n\r\n/*\r\n * EasyAutocomplete - Logger \r\n */\r\nvar EasyAutocomplete = (function(scope){\r\n\t\r\n\tscope.Logger = function Logger() {\r\n\r\n\t\tthis.error = function(message) {\r\n\t\t\tconsole.log(\"ERROR: \" + message);\r\n\t\t};\r\n\r\n\t\tthis.warning = function(message) {\r\n\t\t\tconsole.log(\"WARNING: \" + message);\r\n\t\t};\r\n\t};\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\t\r\n\r\n/*\r\n * EasyAutocomplete - Constans\r\n */\r\nvar EasyAutocomplete = (function(scope){\t\r\n\t\r\n\tscope.Constans = function Constans() {\r\n\t\tvar constants = {\r\n\t\t\tCONTAINER_CLASS: \"easy-autocomplete-container\",\r\n\t\t\tCONTAINER_ID: \"eac-container-\",\r\n\r\n\t\t\tWRAPPER_CSS_CLASS: \"easy-autocomplete\"\r\n\t\t};\r\n\r\n\t\tthis.getValue = function(propertyName) {\r\n\t\t\treturn constants[propertyName];\r\n\t\t};\r\n\r\n\t};\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n/*\r\n * EasyAutocomplete - ListBuilderService \r\n *\r\n * @author Łukasz Pawełczak \r\n *\r\n */\r\nvar EasyAutocomplete = (function(scope) {\r\n\r\n\tscope.ListBuilderService = function ListBuilderService(configuration, proccessResponseData) {\r\n\r\n\r\n\t\tthis.init = function(data) {\r\n\t\t\tvar listBuilder = [],\r\n\t\t\t\tbuilder = {};\r\n\r\n\t\t\tbuilder.data = configuration.get(\"listLocation\")(data);\r\n\t\t\tbuilder.getValue = configuration.get(\"getValue\");\r\n\t\t\tbuilder.maxListSize = configuration.get(\"list\").maxNumberOfElements;\r\n\r\n\t\t\t\t\r\n\t\t\tlistBuilder.push(builder);\r\n\r\n\t\t\treturn listBuilder;\r\n\t\t};\r\n\r\n\t\tthis.updateCategories = function(listBuilder, data) {\r\n\t\t\t\r\n\t\t\tif (configuration.get(\"categoriesAssigned\")) {\r\n\r\n\t\t\t\tlistBuilder = [];\r\n\r\n\t\t\t\tfor(var i = 0; i < configuration.get(\"categories\").length; i += 1) {\r\n\r\n\t\t\t\t\tvar builder = convertToListBuilder(configuration.get(\"categories\")[i], data);\r\n\r\n\t\t\t\t\tlistBuilder.push(builder);\r\n\t\t\t\t}\r\n\r\n\t\t\t} \r\n\r\n\t\t\treturn listBuilder;\r\n\t\t};\r\n\r\n\t\tthis.convertXml = function(listBuilder) {\r\n\t\t\tif(configuration.get(\"dataType\").toUpperCase() === \"XML\") {\r\n\r\n\t\t\t\tfor(var i = 0; i < listBuilder.length; i += 1) {\r\n\t\t\t\t\tlistBuilder[i].data = convertXmlToList(listBuilder[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn listBuilder;\r\n\t\t};\r\n\r\n\t\tthis.processData = function(listBuilder, inputPhrase) {\r\n\r\n\t\t\tfor(var i = 0, length = listBuilder.length; i < length; i+=1) {\r\n\t\t\t\tlistBuilder[i].data = proccessResponseData(configuration, listBuilder[i], inputPhrase);\r\n\t\t\t}\r\n\r\n\t\t\treturn listBuilder;\r\n\t\t};\r\n\r\n\t\tthis.checkIfDataExists = function(listBuilders) {\r\n\r\n\t\t\tfor(var i = 0, length = listBuilders.length; i < length; i += 1) {\r\n\r\n\t\t\t\tif (listBuilders[i].data !== undefined && listBuilders[i].data instanceof Array) {\r\n\t\t\t\t\tif (listBuilders[i].data.length > 0) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t} \r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t};\r\n\r\n\r\n\t\tfunction convertToListBuilder(category, data) {\r\n\r\n\t\t\tvar builder = {};\r\n\r\n\t\t\tif(configuration.get(\"dataType\").toUpperCase() === \"XML\") {\r\n\r\n\t\t\t\tbuilder = convertXmlToListBuilder();\r\n\t\t\t} else {\r\n\r\n\t\t\t\tbuilder = convertDataToListBuilder();\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\tif (category.header !== undefined) {\r\n\t\t\t\tbuilder.header = category.header;\r\n\t\t\t}\r\n\r\n\t\t\tif (category.maxNumberOfElements !== undefined) {\r\n\t\t\t\tbuilder.maxNumberOfElements = category.maxNumberOfElements;\r\n\t\t\t}\r\n\r\n\t\t\tif (configuration.get(\"list\").maxNumberOfElements !== undefined) {\r\n\r\n\t\t\t\tbuilder.maxListSize = configuration.get(\"list\").maxNumberOfElements;\r\n\t\t\t}\r\n\r\n\t\t\tif (category.getValue !== undefined) {\r\n\r\n\t\t\t\tif (typeof category.getValue === \"string\") {\r\n\t\t\t\t\tvar defaultsGetValue = category.getValue;\r\n\t\t\t\t\tbuilder.getValue = function(element) {\r\n\t\t\t\t\t\treturn element[defaultsGetValue];\r\n\t\t\t\t\t};\r\n\t\t\t\t} else if (typeof category.getValue === \"function\") {\r\n\t\t\t\t\tbuilder.getValue = category.getValue;\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tbuilder.getValue = configuration.get(\"getValue\");\t\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\treturn builder;\r\n\r\n\r\n\t\t\tfunction convertXmlToListBuilder() {\r\n\r\n\t\t\t\tvar builder = {},\r\n\t\t\t\t\tlistLocation;\r\n\r\n\t\t\t\tif (category.xmlElementName !== undefined) {\r\n\t\t\t\t\tbuilder.xmlElementName = category.xmlElementName;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (category.listLocation !== undefined) {\r\n\r\n\t\t\t\t\tlistLocation = category.listLocation;\r\n\t\t\t\t} else if (configuration.get(\"listLocation\") !== undefined) {\r\n\r\n\t\t\t\t\tlistLocation = configuration.get(\"listLocation\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (listLocation !== undefined) {\r\n\t\t\t\t\tif (typeof listLocation === \"string\") {\r\n\t\t\t\t\t\tbuilder.data = $(data).find(listLocation);\r\n\t\t\t\t\t} else if (typeof listLocation === \"function\") {\r\n\r\n\t\t\t\t\t\tbuilder.data = listLocation(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tbuilder.data = data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn builder;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tfunction convertDataToListBuilder() {\r\n\r\n\t\t\t\tvar builder = {};\r\n\r\n\t\t\t\tif (category.listLocation !== undefined) {\r\n\r\n\t\t\t\t\tif (typeof category.listLocation === \"string\") {\r\n\t\t\t\t\t\tbuilder.data = data[category.listLocation];\r\n\t\t\t\t\t} else if (typeof category.listLocation === \"function\") {\r\n\t\t\t\t\t\tbuilder.data = category.listLocation(data);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbuilder.data = data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn builder;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction convertXmlToList(builder) {\r\n\t\t\tvar simpleList = [];\r\n\r\n\t\t\tif (builder.xmlElementName === undefined) {\r\n\t\t\t\tbuilder.xmlElementName = configuration.get(\"xmlElementName\");\r\n\t\t\t}\r\n\r\n\r\n\t\t\t$(builder.data).find(builder.xmlElementName).each(function() {\r\n\t\t\t\tsimpleList.push(this);\r\n\t\t\t});\r\n\r\n\t\t\treturn simpleList;\r\n\t\t}\r\n\r\n\t};\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n\r\n/*\r\n * EasyAutocomplete - Data proccess module\r\n *\r\n * Process list to display:\r\n * - sort \r\n * - decrease number to specific number\r\n * - show only matching list\r\n *\r\n */\r\nvar EasyAutocomplete = (function(scope) {\r\n\r\n\tscope.proccess = function proccessData(config, listBuilder, phrase) {\r\n\r\n\t\tscope.proccess.match = match;\r\n\r\n\t\tvar list = listBuilder.data,\r\n\t\t\tinputPhrase = phrase;//TODO REFACTOR\r\n\r\n\t\tlist = findMatch(list, inputPhrase);\r\n\t\tlist = reduceElementsInList(list);\r\n\t\tlist = sort(list);\r\n\r\n\t\treturn list;\r\n\r\n\r\n\t\tfunction findMatch(list, phrase) {\r\n\t\t\tvar preparedList = [],\r\n\t\t\t\tvalue = \"\";\r\n\r\n\t\t\tif (config.get(\"list\").match.enabled) {\r\n\r\n\t\t\t\tfor(var i = 0, length = list.length; i < length; i += 1) {\r\n\r\n\t\t\t\t\tvalue = config.get(\"getValue\")(list[i]);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif (match(value, phrase)) {\r\n\t\t\t\t\t\tpreparedList.push(list[i]);\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\t\t\t\tpreparedList = list;\r\n\t\t\t}\r\n\r\n\t\t\treturn preparedList;\r\n\t\t}\r\n\r\n\t\tfunction match(value, phrase) {\r\n\r\n\t\t\tif (!config.get(\"list\").match.caseSensitive) {\r\n\r\n\t\t\t\tif (typeof value === \"string\") {\r\n\t\t\t\t\tvalue = value.toLowerCase();\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tphrase = phrase.toLowerCase();\r\n\t\t\t}\r\n\t\t\tif (config.get(\"list\").match.method(value, phrase)) {\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction reduceElementsInList(list) {\r\n\t\t\tif (listBuilder.maxNumberOfElements !== undefined && list.length > listBuilder.maxNumberOfElements) {\r\n\t\t\t\tlist = list.slice(0, listBuilder.maxNumberOfElements);\r\n\t\t\t}\r\n\r\n\t\t\treturn list;\r\n\t\t}\r\n\r\n\t\tfunction sort(list) {\r\n\t\t\tif (config.get(\"list\").sort.enabled) {\r\n\t\t\t\tlist.sort(config.get(\"list\").sort.method);\r\n\t\t\t}\r\n\r\n\t\t\treturn list;\r\n\t\t}\r\n\t\t\r\n\t};\r\n\r\n\r\n\treturn scope;\r\n\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n\r\n/*\r\n * EasyAutocomplete - Template \r\n *\r\n * \r\n *\r\n */\r\nvar EasyAutocomplete = (function(scope){\r\n\r\n\tscope.Template = function Template(options) {\r\n\r\n\r\n\t\tvar genericTemplates = {\r\n\t\t\tbasic: {\r\n\t\t\t\ttype: \"basic\",\r\n\t\t\t\tmethod: function(element) { return element; },\r\n\t\t\t\tcssClass: \"\"\r\n\t\t\t},\r\n\t\t\tdescription: {\r\n\t\t\t\ttype: \"description\",\r\n\t\t\t\tfields: {\r\n\t\t\t\t\tdescription: \"description\"\r\n\t\t\t\t},\r\n\t\t\t\tmethod: function(element) {\treturn element + \" - description\"; },\r\n\t\t\t\tcssClass: \"eac-description\"\r\n\t\t\t},\r\n\t\t\ticonLeft: {\r\n\t\t\t\ttype: \"iconLeft\",\r\n\t\t\t\tfields: {\r\n\t\t\t\t\ticon: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tmethod: function(element) {\r\n\t\t\t\t\treturn element;\r\n\t\t\t\t},\r\n\t\t\t\tcssClass: \"eac-icon-left\"\r\n\t\t\t},\r\n\t\t\ticonRight: {\r\n\t\t\t\ttype: \"iconRight\",\r\n\t\t\t\tfields: {\r\n\t\t\t\t\ticonSrc: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tmethod: function(element) {\r\n\t\t\t\t\treturn element;\r\n\t\t\t\t},\r\n\t\t\t\tcssClass: \"eac-icon-right\"\r\n\t\t\t},\r\n\t\t\tlinks: {\r\n\t\t\t\ttype: \"links\",\r\n\t\t\t\tfields: {\r\n\t\t\t\t\tlink: \"\"\r\n\t\t\t\t},\r\n\t\t\t\tmethod: function(element) {\r\n\t\t\t\t\treturn element;\r\n\t\t\t\t},\r\n\t\t\t\tcssClass: \"\"\r\n\t\t\t},\r\n\t\t\tcustom: {\r\n\t\t\t\ttype: \"custom\",\r\n\t\t\t\tmethod: function() {},\r\n\t\t\t\tcssClass: \"\"\r\n\t\t\t}\r\n\t\t},\r\n\r\n\r\n\r\n\t\t/*\r\n\t\t * Converts method with {{text}} to function\r\n\t\t */\r\n\t\tconvertTemplateToMethod = function(template) {\r\n\r\n\r\n\t\t\tvar _fields = template.fields,\r\n\t\t\t\tbuildMethod;\r\n\r\n\t\t\tif (template.type === \"description\") {\r\n\r\n\t\t\t\tbuildMethod = genericTemplates.description.method; \r\n\r\n\t\t\t\tif (typeof _fields.description === \"string\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn elementValue + \" - <span>\" + element[_fields.description] + \"</span>\";\r\n\t\t\t\t\t};\t\t\t\t\t\r\n\t\t\t\t} else if (typeof _fields.description === \"function\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn elementValue + \" - <span>\" + _fields.description(element) + \"</span>\";\r\n\t\t\t\t\t};\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn buildMethod;\r\n\t\t\t}\r\n\r\n\t\t\tif (template.type === \"iconRight\") {\r\n\r\n\t\t\t\tif (typeof _fields.iconSrc === \"string\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn elementValue + \"<img class='eac-icon' src='\" + element[_fields.iconSrc] + \"' />\" ;\r\n\t\t\t\t\t};\t\t\t\t\t\r\n\t\t\t\t} else if (typeof _fields.iconSrc === \"function\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn elementValue + \"<img class='eac-icon' src='\" + _fields.iconSrc(element) + \"' />\" ;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn buildMethod;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (template.type === \"iconLeft\") {\r\n\r\n\t\t\t\tif (typeof _fields.iconSrc === \"string\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn \"<img class='eac-icon' src='\" + element[_fields.iconSrc] + \"' />\" + elementValue;\r\n\t\t\t\t\t};\t\t\t\t\t\r\n\t\t\t\t} else if (typeof _fields.iconSrc === \"function\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn \"<img class='eac-icon' src='\" + _fields.iconSrc(element) + \"' />\" + elementValue;\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn buildMethod;\r\n\t\t\t}\r\n\r\n\t\t\tif(template.type === \"links\") {\r\n\r\n\t\t\t\tif (typeof _fields.link === \"string\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn \"<a href='\" + element[_fields.link] + \"' >\" + elementValue + \"</a>\";\r\n\t\t\t\t\t};\t\t\t\t\t\r\n\t\t\t\t} else if (typeof _fields.link === \"function\") {\r\n\t\t\t\t\tbuildMethod = function(elementValue, element) {\r\n\t\t\t\t\t\treturn \"<a href='\" + _fields.link(element) + \"' >\" + elementValue + \"</a>\";\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn buildMethod;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (template.type === \"custom\") {\r\n\r\n\t\t\t\treturn template.method;\r\n\t\t\t}\r\n\r\n\t\t\treturn genericTemplates.basic.method;\r\n\r\n\t\t},\r\n\r\n\r\n\t\tprepareBuildMethod = function(options) {\r\n\t\t\tif (!options || !options.type) {\r\n\r\n\t\t\t\treturn genericTemplates.basic.method;\r\n\t\t\t}\r\n\r\n\t\t\tif (options.type && genericTemplates[options.type]) {\r\n\r\n\t\t\t\treturn convertTemplateToMethod(options);\r\n\t\t\t} else {\r\n\r\n\t\t\t\treturn genericTemplates.basic.method;\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\ttemplateClass = function(options) {\r\n\t\t\tvar emptyStringFunction = function() {return \"\";};\r\n\r\n\t\t\tif (!options || !options.type) {\r\n\r\n\t\t\t\treturn emptyStringFunction;\r\n\t\t\t}\r\n\r\n\t\t\tif (options.type && genericTemplates[options.type]) {\r\n\t\t\t\treturn (function () { \r\n\t\t\t\t\tvar _cssClass = genericTemplates[options.type].cssClass;\r\n\t\t\t\t\treturn function() { return _cssClass;};\r\n\t\t\t\t})();\r\n\t\t\t} else {\r\n\t\t\t\treturn emptyStringFunction;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\r\n\t\tthis.getTemplateClass = templateClass(options);\r\n\r\n\t\tthis.build = prepareBuildMethod(options);\r\n\r\n\r\n\t};\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n\r\n/*\r\n * EasyAutocomplete - jQuery plugin for autocompletion\r\n *\r\n */\r\nvar EasyAutocomplete = (function(scope) {\r\n\r\n\t\r\n\tscope.main = function Core($input, options) {\r\n\t\t\t\t\r\n\t\tvar module = {\r\n\t\t\t\tname: \"EasyAutocomplete\",\r\n\t\t\t\tshortcut: \"eac\"\r\n\t\t\t};\r\n\r\n\t\tvar consts = new scope.Constans(),\r\n\t\t\tconfig = new scope.Configuration(options),\r\n\t\t\tlogger = new scope.Logger(),\r\n\t\t\ttemplate = new scope.Template(options.template),\r\n\t\t\tlistBuilderService = new scope.ListBuilderService(config, scope.proccess),\r\n\t\t\tcheckParam = config.equals,\r\n\r\n\t\t\t$field = $input, \r\n\t\t\t$container = \"\",\r\n\t\t\telementsList = [],\r\n\t\t\tselectedElement = -1,\r\n\t\t\trequestDelayTimeoutId;\r\n\r\n\t\tscope.consts = consts;\r\n\r\n\t\tthis.getConstants = function() {\r\n\t\t\treturn consts;\r\n\t\t};\r\n\r\n\t\tthis.getConfiguration = function() {\r\n\t\t\treturn config;\r\n\t\t};\r\n\r\n\t\tthis.getContainer = function() {\r\n\t\t\treturn $container;\r\n\t\t};\r\n\r\n\t\tthis.getSelectedItemIndex = function() {\r\n\t\t\treturn selectedElement;\r\n\t\t};\r\n\r\n\t\tthis.getItems = function () {\r\n\t\t\treturn elementsList;\r\n\t\t};\r\n\r\n\t\tthis.getItemData = function(index) {\r\n\r\n\t\t\tif (elementsList.length < index || elementsList[index] === undefined) {\r\n\t\t\t\treturn -1;\r\n\t\t\t} else {\r\n\t\t\t\treturn elementsList[index];\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.getSelectedItemData = function() {\r\n\t\t\treturn this.getItemData(selectedElement);\r\n\t\t};\r\n\r\n\t\tthis.build = function() {\r\n\t\t\tprepareField();\r\n\t\t};\r\n\r\n\t\tthis.init = function() {\r\n\t\t\tinit();\r\n\t\t};\r\n\t\tfunction init() {\r\n\r\n\t\t\tif ($field.length === 0) {\r\n\t\t\t\tlogger.error(\"Input field doesn't exist.\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!config.checkDataUrlProperties()) {\r\n\t\t\t\tlogger.error(\"One of options variables 'data' or 'url' must be defined.\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (!config.checkRequiredProperties()) {\r\n\t\t\t\tlogger.error(\"Will not work without mentioned properties.\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tprepareField();\r\n\t\t\tbindEvents();\t\r\n\r\n\t\t}\r\n\t\tfunction prepareField() {\r\n\r\n\t\t\t\t\r\n\t\t\tif ($field.parent().hasClass(consts.getValue(\"WRAPPER_CSS_CLASS\"))) {\r\n\t\t\t\tremoveContainer();\r\n\t\t\t\tremoveWrapper();\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\tcreateWrapper();\r\n\t\t\tcreateContainer();\t\r\n\r\n\t\t\t$container = $(\"#\" + getContainerId());\r\n\t\t\tif (config.get(\"placeholder\")) {\r\n\t\t\t\t$field.attr(\"placeholder\", config.get(\"placeholder\"));\r\n\t\t\t}\r\n\r\n\r\n\t\t\tfunction createWrapper() {\r\n\t\t\t\tvar $wrapper = $(\"<div>\"),\r\n\t\t\t\t\tclasses = consts.getValue(\"WRAPPER_CSS_CLASS\");\r\n\r\n\t\t\t\r\n\t\t\t\tif (config.get(\"theme\") && config.get(\"theme\") !== \"\") {\r\n\t\t\t\t\tclasses += \" eac-\" + config.get(\"theme\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (config.get(\"cssClasses\") && config.get(\"cssClasses\") !== \"\") {\r\n\t\t\t\t\tclasses += \" \" + config.get(\"cssClasses\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (template.getTemplateClass() !== \"\") {\r\n\t\t\t\t\tclasses += \" \" + template.getTemplateClass();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t\t$wrapper\r\n\t\t\t\t\t.addClass(classes);\r\n\t\t\t\t$field.wrap($wrapper);\r\n\r\n\r\n\t\t\t\tif (config.get(\"adjustWidth\") === true) {\r\n\t\t\t\t\tadjustWrapperWidth();\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t}\r\n\r\n\t\t\tfunction adjustWrapperWidth() {\r\n\t\t\t\tvar fieldWidth = $field.outerWidth();\r\n\r\n\t\t\t\t$field.parent().css(\"width\", fieldWidth);\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tfunction removeWrapper() {\r\n\t\t\t\t$field.unwrap();\r\n\t\t\t}\r\n\r\n\t\t\tfunction createContainer() {\r\n\t\t\t\tvar $elements_container = $(\"<div>\").addClass(consts.getValue(\"CONTAINER_CLASS\"));\r\n\r\n\t\t\t\t$elements_container\r\n\t\t\t\t\t\t.attr(\"id\", getContainerId())\r\n\t\t\t\t\t\t.prepend($(\"<ul>\"));\r\n\r\n\r\n\t\t\t\t(function() {\r\n\r\n\t\t\t\t\t$elements_container\r\n\t\t\t\t\t\t/* List show animation */\r\n\t\t\t\t\t\t.on(\"show.eac\", function() {\r\n\r\n\t\t\t\t\t\t\tswitch(config.get(\"list\").showAnimation.type) {\r\n\r\n\t\t\t\t\t\t\t\tcase \"slide\":\r\n\t\t\t\t\t\t\t\t\tvar animationTime = config.get(\"list\").showAnimation.time,\r\n\t\t\t\t\t\t\t\t\t\tcallback = config.get(\"list\").showAnimation.callback;\r\n\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").slideDown(animationTime, callback);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase \"fade\":\r\n\t\t\t\t\t\t\t\t\tvar animationTime = config.get(\"list\").showAnimation.time,\r\n\t\t\t\t\t\t\t\t\t\tcallback = config.get(\"list\").showAnimation.callback;\r\n\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").fadeIn(animationTime), callback;\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").show();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onShowListEvent();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t/* List hide animation */\r\n\t\t\t\t\t\t.on(\"hide.eac\", function() {\r\n\r\n\t\t\t\t\t\t\tswitch(config.get(\"list\").hideAnimation.type) {\r\n\r\n\t\t\t\t\t\t\t\tcase \"slide\":\r\n\t\t\t\t\t\t\t\t\tvar animationTime = config.get(\"list\").hideAnimation.time,\r\n\t\t\t\t\t\t\t\t\t\tcallback = config.get(\"list\").hideAnimation.callback;\r\n\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").slideUp(animationTime, callback);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tcase \"fade\":\r\n\t\t\t\t\t\t\t\t\tvar animationTime = config.get(\"list\").hideAnimation.time,\r\n\t\t\t\t\t\t\t\t\t\tcallback = config.get(\"list\").hideAnimation.callback;\r\n\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").fadeOut(animationTime, callback);\r\n\t\t\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\t$elements_container.find(\"ul\").hide();\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onHideListEvent();\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on(\"selectElement.eac\", function() {\r\n\t\t\t\t\t\t\t$elements_container.find(\"ul li\").removeClass(\"selected\");\r\n\t\t\t\t\t\t\t$elements_container.find(\"ul li\").eq(selectedElement).addClass(\"selected\");\r\n\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onSelectItemEvent();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on(\"loadElements.eac\", function(event, listBuilders, phrase) {\r\n\t\t\t\r\n\r\n\t\t\t\t\t\t\tvar $item = \"\",\r\n\t\t\t\t\t\t\t\t$listContainer = $elements_container.find(\"ul\");\r\n\r\n\t\t\t\t\t\t\t$listContainer\r\n\t\t\t\t\t\t\t\t.empty()\r\n\t\t\t\t\t\t\t\t.detach();\r\n\r\n\t\t\t\t\t\t\telementsList = [];\r\n\t\t\t\t\t\t\tvar counter = 0;\r\n\t\t\t\t\t\t\tfor(var builderIndex = 0, listBuildersLength = listBuilders.length; builderIndex < listBuildersLength; builderIndex += 1) {\r\n\r\n\t\t\t\t\t\t\t\tvar listData = listBuilders[builderIndex].data;\r\n\r\n\t\t\t\t\t\t\t\tif (listData.length === 0) {\r\n\t\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (listBuilders[builderIndex].header !== undefined && listBuilders[builderIndex].header.length > 0) {\r\n\t\t\t\t\t\t\t\t\t$listContainer.append(\"<div class='eac-category' >\" + listBuilders[builderIndex].header + \"</div>\");\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tfor(var i = 0, listDataLength = listData.length; i < listDataLength && counter < listBuilders[builderIndex].maxListSize; i += 1) {\r\n\t\t\t\t\t\t\t\t\t$item = $(\"<li><div class='eac-item'></div></li>\");\r\n\t\t\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\t\t\t(function() {\r\n\t\t\t\t\t\t\t\t\t\tvar j = i,\r\n\t\t\t\t\t\t\t\t\t\t\titemCounter = counter,\r\n\t\t\t\t\t\t\t\t\t\t\telementsValue = listBuilders[builderIndex].getValue(listData[j]);\r\n\r\n\t\t\t\t\t\t\t\t\t\t$item.find(\" > div\")\r\n\t\t\t\t\t\t\t\t\t\t\t.on(\"click\", function() {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t$field.val(elementsValue).trigger(\"change\");\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectedElement = itemCounter;\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectElement(itemCounter);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfig.get(\"list\").onClickEvent();\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfig.get(\"list\").onChooseEvent();\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t.mouseover(function() {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectedElement = itemCounter;\r\n\t\t\t\t\t\t\t\t\t\t\t\tselectElement(itemCounter);\t\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfig.get(\"list\").onMouseOverEvent();\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t.mouseout(function() {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconfig.get(\"list\").onMouseOutEvent();\r\n\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t.html(template.build(highlight(elementsValue, phrase), listData[j]));\r\n\t\t\t\t\t\t\t\t\t})();\r\n\r\n\t\t\t\t\t\t\t\t\t$listContainer.append($item);\r\n\t\t\t\t\t\t\t\t\telementsList.push(listData[i]);\r\n\t\t\t\t\t\t\t\t\tcounter += 1;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t$elements_container.append($listContainer);\r\n\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onLoadEvent();\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t})();\r\n\r\n\t\t\t\t$field.after($elements_container);\r\n\t\t\t}\r\n\r\n\t\t\tfunction removeContainer() {\r\n\t\t\t\t$field.next(\".\" + consts.getValue(\"CONTAINER_CLASS\")).remove();\r\n\t\t\t}\r\n\r\n\t\t\tfunction highlight(string, phrase) {\r\n\r\n\t\t\t\tif(config.get(\"highlightPhrase\") && phrase !== \"\") {\r\n\t\t\t\t\treturn highlightPhrase(string, phrase);\t\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn string;\r\n\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t}\r\n\r\n\t\t\tfunction escapeRegExp(str) {\r\n\t\t\t\treturn str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\r\n \t\t\t}\r\n\r\n\t\t\tfunction highlightPhrase(string, phrase) {\r\n\t\t\t\tvar escapedPhrase = escapeRegExp(phrase);\r\n\t\t\t\treturn (string + \"\").replace(new RegExp(\"(\" + escapedPhrase + \")\", \"gi\") , \"<b>$1</b>\");\r\n\t\t\t}\r\n\r\n\r\n\r\n\t\t}\r\n\t\tfunction getContainerId() {\r\n\t\t\t\r\n\t\t\tvar elementId = $field.attr(\"id\");\r\n\r\n\t\t\telementId = consts.getValue(\"CONTAINER_ID\") + elementId;\r\n\r\n\t\t\treturn elementId;\r\n\t\t}\r\n\t\tfunction bindEvents() {\r\n\r\n\t\t\tbindAllEvents();\r\n\t\t\t\r\n\r\n\t\t\tfunction bindAllEvents() {\r\n\t\t\t\tif (checkParam(\"autocompleteOff\", true)) {\r\n\t\t\t\t\tremoveAutocomplete();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tbindFocusOut();\r\n\t\t\t\tbindKeyup();\r\n\t\t\t\tbindKeydown();\r\n\t\t\t\tbindKeypress();\r\n\t\t\t\tbindFocus();\r\n\t\t\t\tbindBlur();\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindFocusOut() {\r\n\t\t\t\t$field.focusout(function () {\r\n\r\n\t\t\t\t\tvar fieldValue = $field.val(),\r\n\t\t\t\t\t\tphrase;\r\n\r\n\t\t\t\t\tif (!config.get(\"list\").match.caseSensitive) {\r\n\t\t\t\t\t\tfieldValue = fieldValue.toLowerCase();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tfor (var i = 0, length = elementsList.length; i < length; i += 1) {\r\n\r\n\t\t\t\t\t\tphrase = config.get(\"getValue\")(elementsList[i]);\r\n\t\t\t\t\t\tif (!config.get(\"list\").match.caseSensitive) {\r\n\t\t\t\t\t\t\tphrase = phrase.toLowerCase();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (phrase === fieldValue) {\r\n\t\t\t\t\t\t\tselectedElement = i;\r\n\t\t\t\t\t\t\tselectElement(selectedElement);\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindKeyup() {\r\n\t\t\t\t$field\r\n\t\t\t\t.off(\"keyup\")\r\n\t\t\t\t.keyup(function(event) {\r\n\r\n\t\t\t\t\tswitch(event.keyCode) {\r\n\r\n\t\t\t\t\t\tcase 27:\r\n\r\n\t\t\t\t\t\t\thideContainer();\r\n\t\t\t\t\t\t\tloseFieldFocus();\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 38:\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\t\tif(elementsList.length > 0 && selectedElement > 0) {\r\n\r\n\t\t\t\t\t\t\t\tselectedElement -= 1;\r\n\r\n\t\t\t\t\t\t\t\t$field.val(config.get(\"getValue\")(elementsList[selectedElement]));\r\n\r\n\t\t\t\t\t\t\t\tselectElement(selectedElement);\r\n\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tcase 40:\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\r\n\t\t\t\t\t\t\tif(elementsList.length > 0 && selectedElement < elementsList.length - 1) {\r\n\r\n\t\t\t\t\t\t\t\tselectedElement += 1;\r\n\r\n\t\t\t\t\t\t\t\t$field.val(config.get(\"getValue\")(elementsList[selectedElement]));\r\n\r\n\t\t\t\t\t\t\t\tselectElement(selectedElement);\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\t\tdefault:\r\n\r\n\t\t\t\t\t\t\tif (event.keyCode > 40 || event.keyCode === 8) {\r\n\r\n\t\t\t\t\t\t\t\tvar inputPhrase = $field.val();\r\n\r\n\t\t\t\t\t\t\t\tif (!(config.get(\"list\").hideOnEmptyPhrase === true && event.keyCode === 8 && inputPhrase === \"\")) {\r\n\r\n\t\t\t\t\t\t\t\t\tif (config.get(\"requestDelay\") > 0) {\r\n\t\t\t\t\t\t\t\t\t\tif (requestDelayTimeoutId !== undefined) {\r\n\t\t\t\t\t\t\t\t\t\t\tclearTimeout(requestDelayTimeoutId);\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\trequestDelayTimeoutId = setTimeout(function () { loadData(inputPhrase);}, config.get(\"requestDelay\"));\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tloadData(inputPhrase);\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\thideContainer();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t\t\tfunction loadData(inputPhrase) {\r\n\r\n\r\n\t\t\t\t\t\tif (inputPhrase.length < config.get(\"minCharNumber\")) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tif (config.get(\"data\") !== \"list-required\") {\r\n\r\n\t\t\t\t\t\t\tvar data = config.get(\"data\");\r\n\r\n\t\t\t\t\t\t\tvar listBuilders = listBuilderService.init(data);\r\n\r\n\t\t\t\t\t\t\tlistBuilders = listBuilderService.updateCategories(listBuilders, data);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlistBuilders = listBuilderService.processData(listBuilders, inputPhrase);\r\n\r\n\t\t\t\t\t\t\tloadElements(listBuilders, inputPhrase);\r\n\r\n\t\t\t\t\t\t\tif ($field.parent().find(\"li\").length > 0) {\r\n\t\t\t\t\t\t\t\tshowContainer();\t\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\thideContainer();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar settings = createAjaxSettings();\r\n\r\n\t\t\t\t\t\tif (settings.url === undefined || settings.url === \"\") {\r\n\t\t\t\t\t\t\tsettings.url = config.get(\"url\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (settings.dataType === undefined || settings.dataType === \"\") {\r\n\t\t\t\t\t\t\tsettings.dataType = config.get(\"dataType\");\r\n\t\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t\t\tif (settings.url !== undefined && settings.url !== \"list-required\") {\r\n\r\n\t\t\t\t\t\t\tsettings.url = settings.url(inputPhrase);\r\n\r\n\t\t\t\t\t\t\tsettings.data = config.get(\"preparePostData\")(settings.data, inputPhrase);\r\n\r\n\t\t\t\t\t\t\t$.ajax(settings) \r\n\t\t\t\t\t\t\t\t.done(function(data) {\r\n\r\n\t\t\t\t\t\t\t\t\tvar listBuilders = listBuilderService.init(data);\r\n\r\n\t\t\t\t\t\t\t\t\tlistBuilders = listBuilderService.updateCategories(listBuilders, data);\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\tlistBuilders = listBuilderService.convertXml(listBuilders);\r\n\t\t\t\t\t\t\t\t\tif (checkInputPhraseMatchResponse(inputPhrase, data)) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tlistBuilders = listBuilderService.processData(listBuilders, inputPhrase);\r\n\r\n\t\t\t\t\t\t\t\t\t\tloadElements(listBuilders, inputPhrase);\t\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tif (listBuilderService.checkIfDataExists(listBuilders) && $field.parent().find(\"li\").length > 0) {\r\n\t\t\t\t\t\t\t\t\t\tshowContainer();\t\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\thideContainer();\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tconfig.get(\"ajaxCallback\")();\r\n\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.fail(function() {\r\n\t\t\t\t\t\t\t\t\tlogger.warning(\"Fail to load response data\");\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t.always(function() {\r\n\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\tfunction createAjaxSettings() {\r\n\r\n\t\t\t\t\t\t\tvar settings = {},\r\n\t\t\t\t\t\t\t\tajaxSettings = config.get(\"ajaxSettings\") || {};\r\n\r\n\t\t\t\t\t\t\tfor (var set in ajaxSettings) {\r\n\t\t\t\t\t\t\t\tsettings[set] = ajaxSettings[set];\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn settings;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tfunction checkInputPhraseMatchResponse(inputPhrase, data) {\r\n\r\n\t\t\t\t\t\t\tif (config.get(\"matchResponseProperty\") !== false) {\r\n\t\t\t\t\t\t\t\tif (typeof config.get(\"matchResponseProperty\") === \"string\") {\r\n\t\t\t\t\t\t\t\t\treturn (data[config.get(\"matchResponseProperty\")] === inputPhrase);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tif (typeof config.get(\"matchResponseProperty\") === \"function\") {\r\n\t\t\t\t\t\t\t\t\treturn (config.get(\"matchResponseProperty\")(data) === inputPhrase);\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\r\n\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindKeydown() {\r\n\t\t\t\t$field\r\n\t\t\t\t\t.on(\"keydown\", function(evt) {\r\n\t        \t\t    evt = evt || window.event;\r\n\t        \t\t    var keyCode = evt.keyCode;\r\n\t        \t\t    if (keyCode === 38) {\r\n\t        \t\t        suppressKeypress = true; \r\n\t        \t\t        return false;\r\n\t        \t\t    }\r\n\t\t        \t})\r\n\t\t\t\t\t.keydown(function(event) {\r\n\r\n\t\t\t\t\t\tif (event.keyCode === 13 && selectedElement > -1) {\r\n\r\n\t\t\t\t\t\t\t$field.val(config.get(\"getValue\")(elementsList[selectedElement]));\r\n\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onKeyEnterEvent();\r\n\t\t\t\t\t\t\tconfig.get(\"list\").onChooseEvent();\r\n\r\n\t\t\t\t\t\t\tselectedElement = -1;\r\n\t\t\t\t\t\t\thideContainer();\r\n\r\n\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindKeypress() {\r\n\t\t\t\t$field\r\n\t\t\t\t.off(\"keypress\");\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindFocus() {\r\n\t\t\t\t$field.focus(function() {\r\n\r\n\t\t\t\t\tif ($field.val() !== \"\" && elementsList.length > 0) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tselectedElement = -1;\r\n\t\t\t\t\t\tshowContainer();\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction bindBlur() {\r\n\t\t\t\t$field.blur(function() {\r\n\t\t\t\t\tsetTimeout(function() { \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tselectedElement = -1;\r\n\t\t\t\t\t\thideContainer();\r\n\t\t\t\t\t}, 250);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction removeAutocomplete() {\r\n\t\t\t\t$field.attr(\"autocomplete\",\"off\");\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tfunction showContainer() {\r\n\t\t\t$container.trigger(\"show.eac\");\r\n\t\t}\r\n\r\n\t\tfunction hideContainer() {\r\n\t\t\t$container.trigger(\"hide.eac\");\r\n\t\t}\r\n\r\n\t\tfunction selectElement(index) {\r\n\t\t\t\r\n\t\t\t$container.trigger(\"selectElement.eac\", index);\r\n\t\t}\r\n\r\n\t\tfunction loadElements(list, phrase) {\r\n\t\t\t$container.trigger(\"loadElements.eac\", [list, phrase]);\r\n\t\t}\r\n\r\n\t\tfunction loseFieldFocus() {\r\n\t\t\t$field.trigger(\"blur\");\r\n\t\t}\r\n\r\n\r\n\t};\r\n\tscope.eacHandles = [];\r\n\r\n\tscope.getHandle = function(id) {\r\n\t\treturn scope.eacHandles[id];\r\n\t};\r\n\r\n\tscope.inputHasId = function(input) {\r\n\r\n\t\tif($(input).attr(\"id\") !== undefined && $(input).attr(\"id\").length > 0) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t};\r\n\r\n\tscope.assignRandomId = function(input) {\r\n\r\n\t\tvar fieldId = \"\";\r\n\r\n\t\tdo {\r\n\t\t\tfieldId = \"eac-\" + Math.floor(Math.random() * 10000);\t\t\r\n\t\t} while ($(\"#\" + fieldId).length !== 0);\r\n\t\t\r\n\t\telementId = scope.consts.getValue(\"CONTAINER_ID\") + fieldId;\r\n\r\n\t\t$(input).attr(\"id\", fieldId);\r\n \r\n\t};\r\n\r\n\tscope.setHandle = function(handle, id) {\r\n\t\tscope.eacHandles[id] = handle;\r\n\t};\r\n\r\n\r\n\treturn scope;\r\n\r\n})(EasyAutocomplete || {});\r\n\r\n(function($) {\r\n\r\n\t$.fn.easyAutocomplete = function(options) {\r\n\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\teacHandle = new EasyAutocomplete.main($this, options);\r\n\r\n\t\t\tif (!EasyAutocomplete.inputHasId($this)) {\r\n\t\t\t\tEasyAutocomplete.assignRandomId($this);\r\n\t\t\t}\r\n\r\n\t\t\teacHandle.init();\r\n\r\n\t\t\tEasyAutocomplete.setHandle(eacHandle, $this.attr(\"id\"));\r\n\r\n\t\t});\r\n\t};\r\n\r\n\t$.fn.getSelectedItemIndex = function() {\r\n\r\n\t\tvar inputId = $(this).attr(\"id\");\r\n\r\n\t\tif (inputId !== undefined) {\r\n\t\t\treturn EasyAutocomplete.getHandle(inputId).getSelectedItemIndex();\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t};\r\n\r\n\t$.fn.getItems = function () {\r\n\r\n\t\tvar inputId = $(this).attr(\"id\");\r\n\r\n\t\tif (inputId !== undefined) {\r\n\t\t\treturn EasyAutocomplete.getHandle(inputId).getItems();\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t};\r\n\r\n\t$.fn.getItemData = function(index) {\r\n\r\n\t\tvar inputId = $(this).attr(\"id\");\r\n\r\n\t\tif (inputId !== undefined && index > -1) {\r\n\t\t\treturn EasyAutocomplete.getHandle(inputId).getItemData(index);\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t};\r\n\r\n\t$.fn.getSelectedItemData = function() {\r\n\r\n\t\tvar inputId = $(this).attr(\"id\");\r\n\r\n\t\tif (inputId !== undefined) {\r\n\t\t\treturn EasyAutocomplete.getHandle(inputId).getSelectedItemData();\r\n\t\t}\r\n\r\n\t\treturn -1;\r\n\t};\r\n\r\n})(jQuery);\r\n","// ==================================================\r\n// fancyBox v3.3.5\r\n//\r\n// Licensed GPLv3 for open source use\r\n// or fancyBox Commercial License for commercial use\r\n//\r\n// http://fancyapps.com/fancybox/\r\n// Copyright 2018 fancyApps\r\n//\r\n// ==================================================\r\n(function(window, document, $, undefined) {\r\n  \"use strict\";\r\n\r\n  window.console = window.console || {\r\n    info: function(stuff) {}\r\n  };\r\n\r\n  // If there's no jQuery, fancyBox can't work\r\n  // =========================================\r\n\r\n  if (!$) {\r\n    return;\r\n  }\r\n\r\n  // Check if fancyBox is already initialized\r\n  // ========================================\r\n\r\n  if ($.fn.fancybox) {\r\n    console.info(\"fancyBox already initialized\");\r\n\r\n    return;\r\n  }\r\n\r\n  // Private default settings\r\n  // ========================\r\n\r\n  var defaults = {\r\n    // Enable infinite gallery navigation\r\n    loop: false,\r\n\r\n    // Horizontal space between slides\r\n    gutter: 50,\r\n\r\n    // Enable keyboard navigation\r\n    keyboard: true,\r\n\r\n    // Should display navigation arrows at the screen edges\r\n    arrows: true,\r\n\r\n    // Should display counter at the top left corner\r\n    infobar: true,\r\n\r\n    // Should display close button (using `btnTpl.smallBtn` template) over the content\r\n    // Can be true, false, \"auto\"\r\n    // If \"auto\" - will be automatically enabled for \"html\", \"inline\" or \"ajax\" items\r\n    smallBtn: \"auto\",\r\n\r\n    // Should display toolbar (buttons at the top)\r\n    // Can be true, false, \"auto\"\r\n    // If \"auto\" - will be automatically hidden if \"smallBtn\" is enabled\r\n    toolbar: \"auto\",\r\n\r\n    // What buttons should appear in the top right corner.\r\n    // Buttons will be created using templates from `btnTpl` option\r\n    // and they will be placed into toolbar (class=\"fancybox-toolbar\"` element)\r\n    buttons: [\r\n      \"zoom\",\r\n      //\"share\",\r\n      //\"slideShow\",\r\n      //\"fullScreen\",\r\n      //\"download\",\r\n      \"thumbs\",\r\n      \"close\"\r\n    ],\r\n\r\n    // Detect \"idle\" time in seconds\r\n    idleTime: 3,\r\n\r\n    // Disable right-click and use simple image protection for images\r\n    protect: false,\r\n\r\n    // Shortcut to make content \"modal\" - disable keyboard navigtion, hide buttons, etc\r\n    modal: false,\r\n\r\n    image: {\r\n      // Wait for images to load before displaying\r\n      //   true  - wait for image to load and then display;\r\n      //   false - display thumbnail and load the full-sized image over top,\r\n      //           requires predefined image dimensions (`data-width` and `data-height` attributes)\r\n      preload: false\r\n    },\r\n\r\n    ajax: {\r\n      // Object containing settings for ajax request\r\n      settings: {\r\n        // This helps to indicate that request comes from the modal\r\n        // Feel free to change naming\r\n        data: {\r\n          fancybox: true\r\n        }\r\n      }\r\n    },\r\n\r\n    iframe: {\r\n      // Iframe template\r\n      tpl:\r\n        '<iframe id=\"fancybox-frame{rnd}\" name=\"fancybox-frame{rnd}\" class=\"fancybox-iframe\" frameborder=\"0\" vspace=\"0\" hspace=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency=\"true\" src=\"\"></iframe>',\r\n\r\n      // Preload iframe before displaying it\r\n      // This allows to calculate iframe content width and height\r\n      // (note: Due to \"Same Origin Policy\", you can't get cross domain data).\r\n      preload: true,\r\n\r\n      // Custom CSS styling for iframe wrapping element\r\n      // You can use this to set custom iframe dimensions\r\n      css: {},\r\n\r\n      // Iframe tag attributes\r\n      attr: {\r\n        scrolling: \"auto\"\r\n      }\r\n    },\r\n\r\n    // Default content type if cannot be detected automatically\r\n    defaultType: \"image\",\r\n\r\n    // Open/close animation type\r\n    // Possible values:\r\n    //   false            - disable\r\n    //   \"zoom\"           - zoom images from/to thumbnail\r\n    //   \"fade\"\r\n    //   \"zoom-in-out\"\r\n    //\r\n    animationEffect: \"zoom\",\r\n\r\n    // Duration in ms for open/close animation\r\n    animationDuration: 366,\r\n\r\n    // Should image change opacity while zooming\r\n    // If opacity is \"auto\", then opacity will be changed if image and thumbnail have different aspect ratios\r\n    zoomOpacity: \"auto\",\r\n\r\n    // Transition effect between slides\r\n    //\r\n    // Possible values:\r\n    //   false            - disable\r\n    //   \"fade'\r\n    //   \"slide'\r\n    //   \"circular'\r\n    //   \"tube'\r\n    //   \"zoom-in-out'\r\n    //   \"rotate'\r\n    //\r\n    transitionEffect: \"fade\",\r\n\r\n    // Duration in ms for transition animation\r\n    transitionDuration: 366,\r\n\r\n    // Custom CSS class for slide element\r\n    slideClass: \"\",\r\n\r\n    // Custom CSS class for layout\r\n    baseClass: \"\",\r\n\r\n    // Base template for layout\r\n    baseTpl:\r\n      '<div class=\"fancybox-container\" role=\"dialog\" tabindex=\"-1\">' +\r\n      '<div class=\"fancybox-bg\"></div>' +\r\n      '<div class=\"fancybox-inner\">' +\r\n      '<div class=\"fancybox-infobar\">' +\r\n      \"<span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span>\" +\r\n      \"</div>\" +\r\n      '<div class=\"fancybox-toolbar\">{{buttons}}</div>' +\r\n      '<div class=\"fancybox-navigation\">{{arrows}}</div>' +\r\n      '<div class=\"fancybox-stage\"></div>' +\r\n      '<div class=\"fancybox-caption\"></div>' +\r\n      \"</div>\" +\r\n      \"</div>\",\r\n\r\n    // Loading indicator template\r\n    spinnerTpl: '<div class=\"fancybox-loading\"></div>',\r\n\r\n    // Error message template\r\n    errorTpl: '<div class=\"fancybox-error\"><p>{{ERROR}}</p></div>',\r\n\r\n    btnTpl: {\r\n      download:\r\n        '<a download data-fancybox-download class=\"fancybox-button fancybox-button--download\" title=\"{{DOWNLOAD}}\" href=\"javascript:;\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24\" />' +\r\n        \"</svg>\" +\r\n        \"</a>\",\r\n\r\n      zoom:\r\n        '<button data-fancybox-zoom class=\"fancybox-button fancybox-button--zoom\" title=\"{{ZOOM}}\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29\" />' +\r\n        \"</svg>\" +\r\n        \"</button>\",\r\n\r\n      close:\r\n        '<button data-fancybox-close class=\"fancybox-button fancybox-button--close\" title=\"{{CLOSE}}\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M10,10 L30,30 M30,10 L10,30\" />' +\r\n        \"</svg>\" +\r\n        \"</button>\",\r\n\r\n      // This small close button will be appended to your html/inline/ajax content by default,\r\n      // if \"smallBtn\" option is not set to false\r\n      smallBtn:\r\n        '<button data-fancybox-close class=\"fancybox-close-small\" title=\"{{CLOSE}}\"><svg viewBox=\"0 0 32 32\"><path d=\"M10,10 L22,22 M22,10 L10,22\"></path></svg></button>',\r\n\r\n      // Arrows\r\n      arrowLeft:\r\n        '<a data-fancybox-prev class=\"fancybox-button fancybox-button--arrow_left\" title=\"{{PREV}}\" href=\"javascript:;\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M18,12 L10,20 L18,28 M10,20 L30,20\"></path>' +\r\n        \"</svg>\" +\r\n        \"</a>\",\r\n\r\n      arrowRight:\r\n        '<a data-fancybox-next class=\"fancybox-button fancybox-button--arrow_right\" title=\"{{NEXT}}\" href=\"javascript:;\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M10,20 L30,20 M22,12 L30,20 L22,28\"></path>' +\r\n        \"</svg>\" +\r\n        \"</a>\"\r\n    },\r\n\r\n    // Container is injected into this element\r\n    parentEl: \"body\",\r\n\r\n    // Focus handling\r\n    // ==============\r\n\r\n    // Try to focus on the first focusable element after opening\r\n    autoFocus: false,\r\n\r\n    // Put focus back to active element after closing\r\n    backFocus: true,\r\n\r\n    // Do not let user to focus on element outside modal content\r\n    trapFocus: true,\r\n\r\n    // Module specific options\r\n    // =======================\r\n\r\n    fullScreen: {\r\n      autoStart: false\r\n    },\r\n\r\n    // Set `touch: false` to disable dragging/swiping\r\n    touch: {\r\n      vertical: true, // Allow to drag content vertically\r\n      momentum: true // Continue movement after releasing mouse/touch when panning\r\n    },\r\n\r\n    // Hash value when initializing manually,\r\n    // set `false` to disable hash change\r\n    hash: null,\r\n\r\n    // Customize or add new media types\r\n    // Example:\r\n    /*\r\n        media : {\r\n            youtube : {\r\n                params : {\r\n                    autoplay : 0\r\n                }\r\n            }\r\n        }\r\n        */\r\n    media: {},\r\n\r\n    slideShow: {\r\n      autoStart: false,\r\n      speed: 4000\r\n    },\r\n\r\n    thumbs: {\r\n      autoStart: false, // Display thumbnails on opening\r\n      hideOnClose: true, // Hide thumbnail grid when closing animation starts\r\n      parentEl: \".fancybox-container\", // Container is injected into this element\r\n      axis: \"y\" // Vertical (y) or horizontal (x) scrolling\r\n    },\r\n\r\n    // Use mousewheel to navigate gallery\r\n    // If 'auto' - enabled for images only\r\n    wheel: \"auto\",\r\n\r\n    // Callbacks\r\n    //==========\r\n\r\n    // See Documentation/API/Events for more information\r\n    // Example:\r\n    /*\r\n\t\tafterShow: function( instance, current ) {\r\n\t\t\tconsole.info( 'Clicked element:' );\r\n\t\t\tconsole.info( current.opts.$orig );\r\n\t\t}\r\n\t*/\r\n\r\n    onInit: $.noop, // When instance has been initialized\r\n\r\n    beforeLoad: $.noop, // Before the content of a slide is being loaded\r\n    afterLoad: $.noop, // When the content of a slide is done loading\r\n\r\n    beforeShow: $.noop, // Before open animation starts\r\n    afterShow: $.noop, // When content is done loading and animating\r\n\r\n    beforeClose: $.noop, // Before the instance attempts to close. Return false to cancel the close.\r\n    afterClose: $.noop, // After instance has been closed\r\n\r\n    onActivate: $.noop, // When instance is brought to front\r\n    onDeactivate: $.noop, // When other instance has been activated\r\n\r\n    // Interaction\r\n    // ===========\r\n\r\n    // Use options below to customize taken action when user clicks or double clicks on the fancyBox area,\r\n    // each option can be string or method that returns value.\r\n    //\r\n    // Possible values:\r\n    //   \"close\"           - close instance\r\n    //   \"next\"            - move to next gallery item\r\n    //   \"nextOrClose\"     - move to next gallery item or close if gallery has only one item\r\n    //   \"toggleControls\"  - show/hide controls\r\n    //   \"zoom\"            - zoom image (if loaded)\r\n    //   false             - do nothing\r\n\r\n    // Clicked on the content\r\n    clickContent: function(current, event) {\r\n      return current.type === \"image\" ? \"zoom\" : false;\r\n    },\r\n\r\n    // Clicked on the slide\r\n    clickSlide: \"close\",\r\n\r\n    // Clicked on the background (backdrop) element;\r\n    // if you have not changed the layout, then most likely you need to use `clickSlide` option\r\n    clickOutside: \"close\",\r\n\r\n    // Same as previous two, but for double click\r\n    dblclickContent: false,\r\n    dblclickSlide: false,\r\n    dblclickOutside: false,\r\n\r\n    // Custom options when mobile device is detected\r\n    // =============================================\r\n\r\n    mobile: {\r\n      idleTime: false,\r\n      clickContent: function(current, event) {\r\n        return current.type === \"image\" ? \"toggleControls\" : false;\r\n      },\r\n      clickSlide: function(current, event) {\r\n        return current.type === \"image\" ? \"toggleControls\" : \"close\";\r\n      },\r\n      dblclickContent: function(current, event) {\r\n        return current.type === \"image\" ? \"zoom\" : false;\r\n      },\r\n      dblclickSlide: function(current, event) {\r\n        return current.type === \"image\" ? \"zoom\" : false;\r\n      }\r\n    },\r\n\r\n    // Internationalization\r\n    // ====================\r\n\r\n    lang: \"en\",\r\n    i18n: {\r\n      en: {\r\n        CLOSE: \"Close\",\r\n        NEXT: \"Next\",\r\n        PREV: \"Previous\",\r\n        ERROR: \"The requested content cannot be loaded. <br/> Please try again later.\",\r\n        PLAY_START: \"Start slideshow\",\r\n        PLAY_STOP: \"Pause slideshow\",\r\n        FULL_SCREEN: \"Full screen\",\r\n        THUMBS: \"Thumbnails\",\r\n        DOWNLOAD: \"Download\",\r\n        SHARE: \"Share\",\r\n        ZOOM: \"Zoom\"\r\n      },\r\n      de: {\r\n        CLOSE: \"Schliessen\",\r\n        NEXT: \"Weiter\",\r\n        PREV: \"Zurück\",\r\n        ERROR: \"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es später nochmal.\",\r\n        PLAY_START: \"Diaschau starten\",\r\n        PLAY_STOP: \"Diaschau beenden\",\r\n        FULL_SCREEN: \"Vollbild\",\r\n        THUMBS: \"Vorschaubilder\",\r\n        DOWNLOAD: \"Herunterladen\",\r\n        SHARE: \"Teilen\",\r\n        ZOOM: \"Maßstab\"\r\n      }\r\n    }\r\n  };\r\n\r\n  // Few useful variables and methods\r\n  // ================================\r\n\r\n  var $W = $(window);\r\n  var $D = $(document);\r\n\r\n  var called = 0;\r\n\r\n  // Check if an object is a jQuery object and not a native JavaScript object\r\n  // ========================================================================\r\n  var isQuery = function(obj) {\r\n    return obj && obj.hasOwnProperty && obj instanceof $;\r\n  };\r\n\r\n  // Handle multiple browsers for \"requestAnimationFrame\" and \"cancelAnimationFrame\"\r\n  // ===============================================================================\r\n  var requestAFrame = (function() {\r\n    return (\r\n      window.requestAnimationFrame ||\r\n      window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      // if all else fails, use setTimeout\r\n      function(callback) {\r\n        return window.setTimeout(callback, 1000 / 60);\r\n      }\r\n    );\r\n  })();\r\n\r\n  // Detect the supported transition-end event property name\r\n  // =======================================================\r\n  var transitionEnd = (function() {\r\n    var el = document.createElement(\"fakeelement\"),\r\n      t;\r\n\r\n    var transitions = {\r\n      transition: \"transitionend\",\r\n      OTransition: \"oTransitionEnd\",\r\n      MozTransition: \"transitionend\",\r\n      WebkitTransition: \"webkitTransitionEnd\"\r\n    };\r\n\r\n    for (t in transitions) {\r\n      if (el.style[t] !== undefined) {\r\n        return transitions[t];\r\n      }\r\n    }\r\n\r\n    return \"transitionend\";\r\n  })();\r\n\r\n  // Force redraw on an element.\r\n  // This helps in cases where the browser doesn't redraw an updated element properly\r\n  // ================================================================================\r\n  var forceRedraw = function($el) {\r\n    return $el && $el.length && $el[0].offsetHeight;\r\n  };\r\n\r\n  // Exclude array (`buttons`) options from deep merging\r\n  // ===================================================\r\n  var mergeOpts = function(opts1, opts2) {\r\n    var rez = $.extend(true, {}, opts1, opts2);\r\n\r\n    $.each(opts2, function(key, value) {\r\n      if ($.isArray(value)) {\r\n        rez[key] = value;\r\n      }\r\n    });\r\n\r\n    return rez;\r\n  };\r\n\r\n  // Class definition\r\n  // ================\r\n\r\n  var FancyBox = function(content, opts, index) {\r\n    var self = this;\r\n\r\n    self.opts = mergeOpts({index: index}, $.fancybox.defaults);\r\n\r\n    if ($.isPlainObject(opts)) {\r\n      self.opts = mergeOpts(self.opts, opts);\r\n    }\r\n\r\n    if ($.fancybox.isMobile) {\r\n      self.opts = mergeOpts(self.opts, self.opts.mobile);\r\n    }\r\n\r\n    self.id = self.opts.id || ++called;\r\n\r\n    self.currIndex = parseInt(self.opts.index, 10) || 0;\r\n    self.prevIndex = null;\r\n\r\n    self.prevPos = null;\r\n    self.currPos = 0;\r\n\r\n    self.firstRun = true;\r\n\r\n    // All group items\r\n    self.group = [];\r\n\r\n    // Existing slides (for current, next and previous gallery items)\r\n    self.slides = {};\r\n\r\n    // Create group elements\r\n    self.addContent(content);\r\n\r\n    if (!self.group.length) {\r\n      return;\r\n    }\r\n\r\n    // Save last active element\r\n    self.$lastFocus = $(document.activeElement).trigger(\"blur\");\r\n\r\n    self.init();\r\n  };\r\n\r\n  $.extend(FancyBox.prototype, {\r\n    // Create DOM structure\r\n    // ====================\r\n\r\n    init: function() {\r\n      var self = this,\r\n        firstItem = self.group[self.currIndex],\r\n        firstItemOpts = firstItem.opts,\r\n        scrollbarWidth = $.fancybox.scrollbarWidth,\r\n        $scrollDiv,\r\n        $container,\r\n        buttonStr;\r\n\r\n      // Hide scrollbars\r\n      // ===============\r\n\r\n      if (!$.fancybox.getInstance() && firstItemOpts.hideScrollbar !== false) {\r\n        $(\"body\").addClass(\"fancybox-active\");\r\n\r\n        if (!$.fancybox.isMobile && document.body.scrollHeight > window.innerHeight) {\r\n          if (scrollbarWidth === undefined) {\r\n            $scrollDiv = $('<div style=\"width:100px;height:100px;overflow:scroll;\" />').appendTo(\"body\");\r\n\r\n            scrollbarWidth = $.fancybox.scrollbarWidth = $scrollDiv[0].offsetWidth - $scrollDiv[0].clientWidth;\r\n\r\n            $scrollDiv.remove();\r\n          }\r\n\r\n          $(\"head\").append(\r\n            '<style id=\"fancybox-style-noscroll\" type=\"text/css\">.compensate-for-scrollbar { margin-right: ' +\r\n              scrollbarWidth +\r\n              \"px; }</style>\"\r\n          );\r\n\r\n          $(\"body\").addClass(\"compensate-for-scrollbar\");\r\n        }\r\n      }\r\n\r\n      // Build html markup and set references\r\n      // ====================================\r\n\r\n      // Build html code for buttons and insert into main template\r\n      buttonStr = \"\";\r\n\r\n      $.each(firstItemOpts.buttons, function(index, value) {\r\n        buttonStr += firstItemOpts.btnTpl[value] || \"\";\r\n      });\r\n\r\n      // Create markup from base template, it will be initially hidden to\r\n      // avoid unnecessary work like painting while initializing is not complete\r\n      $container = $(\r\n        self.translate(\r\n          self,\r\n          firstItemOpts.baseTpl\r\n            .replace(\"{{buttons}}\", buttonStr)\r\n            .replace(\"{{arrows}}\", firstItemOpts.btnTpl.arrowLeft + firstItemOpts.btnTpl.arrowRight)\r\n        )\r\n      )\r\n        .attr(\"id\", \"fancybox-container-\" + self.id)\r\n        .addClass(\"fancybox-is-hidden\")\r\n        .addClass(firstItemOpts.baseClass)\r\n        .data(\"FancyBox\", self)\r\n        .appendTo(firstItemOpts.parentEl);\r\n\r\n      // Create object holding references to jQuery wrapped nodes\r\n      self.$refs = {\r\n        container: $container\r\n      };\r\n\r\n      [\"bg\", \"inner\", \"infobar\", \"toolbar\", \"stage\", \"caption\", \"navigation\"].forEach(function(item) {\r\n        self.$refs[item] = $container.find(\".fancybox-\" + item);\r\n      });\r\n\r\n      self.trigger(\"onInit\");\r\n\r\n      // Enable events, deactive previous instances\r\n      self.activate();\r\n\r\n      // Build slides, load and reveal content\r\n      self.jumpTo(self.currIndex);\r\n    },\r\n\r\n    // Simple i18n support - replaces object keys found in template\r\n    // with corresponding values\r\n    // ============================================================\r\n\r\n    translate: function(obj, str) {\r\n      var arr = obj.opts.i18n[obj.opts.lang];\r\n\r\n      return str.replace(/\\{\\{(\\w+)\\}\\}/g, function(match, n) {\r\n        var value = arr[n];\r\n\r\n        if (value === undefined) {\r\n          return match;\r\n        }\r\n\r\n        return value;\r\n      });\r\n    },\r\n\r\n    // Populate current group with fresh content\r\n    // Check if each object has valid type and content\r\n    // ===============================================\r\n\r\n    addContent: function(content) {\r\n      var self = this,\r\n        items = $.makeArray(content),\r\n        thumbs;\r\n\r\n      $.each(items, function(i, item) {\r\n        var obj = {},\r\n          opts = {},\r\n          $item,\r\n          type,\r\n          found,\r\n          src,\r\n          srcParts;\r\n\r\n        // Step 1 - Make sure we have an object\r\n        // ====================================\r\n\r\n        if ($.isPlainObject(item)) {\r\n          // We probably have manual usage here, something like\r\n          // $.fancybox.open( [ { src : \"image.jpg\", type : \"image\" } ] )\r\n\r\n          obj = item;\r\n          opts = item.opts || item;\r\n        } else if ($.type(item) === \"object\" && $(item).length) {\r\n          // Here we probably have jQuery collection returned by some selector\r\n          $item = $(item);\r\n\r\n          // Support attributes like `data-options='{\"touch\" : false}'` and `data-touch='false'`\r\n          opts = $item.data() || {};\r\n          opts = $.extend(true, {}, opts, opts.options);\r\n\r\n          // Here we store clicked element\r\n          opts.$orig = $item;\r\n\r\n          obj.src = self.opts.src || opts.src || $item.attr(\"href\");\r\n\r\n          // Assume that simple syntax is used, for example:\r\n          //   `$.fancybox.open( $(\"#test\"), {} );`\r\n          if (!obj.type && !obj.src) {\r\n            obj.type = \"inline\";\r\n            obj.src = item;\r\n          }\r\n        } else {\r\n          // Assume we have a simple html code, for example:\r\n          //   $.fancybox.open( '<div><h1>Hi!</h1></div>' );\r\n          obj = {\r\n            type: \"html\",\r\n            src: item + \"\"\r\n          };\r\n        }\r\n\r\n        // Each gallery object has full collection of options\r\n        obj.opts = $.extend(true, {}, self.opts, opts);\r\n\r\n        // Do not merge buttons array\r\n        if ($.isArray(opts.buttons)) {\r\n          obj.opts.buttons = opts.buttons;\r\n        }\r\n\r\n        // Step 2 - Make sure we have content type, if not - try to guess\r\n        // ==============================================================\r\n\r\n        type = obj.type || obj.opts.type;\r\n        src = obj.src || \"\";\r\n\r\n        if (!type && src) {\r\n          if ((found = src.match(/\\.(mp4|mov|ogv)((\\?|#).*)?$/i))) {\r\n            type = \"video\";\r\n\r\n            if (!obj.opts.videoFormat) {\r\n              obj.opts.videoFormat = \"video/\" + (found[1] === \"ogv\" ? \"ogg\" : found[1]);\r\n            }\r\n          } else if (src.match(/(^data:image\\/[a-z0-9+\\/=]*,)|(\\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\\?|#).*)?$)/i)) {\r\n            type = \"image\";\r\n          } else if (src.match(/\\.(pdf)((\\?|#).*)?$/i)) {\r\n            type = \"iframe\";\r\n          } else if (src.charAt(0) === \"#\") {\r\n            type = \"inline\";\r\n          }\r\n        }\r\n\r\n        if (type) {\r\n          obj.type = type;\r\n        } else {\r\n          self.trigger(\"objectNeedsType\", obj);\r\n        }\r\n\r\n        if (!obj.contentType) {\r\n          obj.contentType = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1 ? \"html\" : obj.type;\r\n        }\r\n\r\n        // Step 3 - Some adjustments\r\n        // =========================\r\n\r\n        obj.index = self.group.length;\r\n\r\n        if (obj.opts.smallBtn == \"auto\") {\r\n          obj.opts.smallBtn = $.inArray(obj.type, [\"html\", \"inline\", \"ajax\"]) > -1;\r\n        }\r\n\r\n        if (obj.opts.toolbar === \"auto\") {\r\n          obj.opts.toolbar = !obj.opts.smallBtn;\r\n        }\r\n\r\n        // Find thumbnail image\r\n        if (obj.opts.$trigger && obj.index === self.opts.index) {\r\n          obj.opts.$thumb = obj.opts.$trigger.find(\"img:first\");\r\n        }\r\n\r\n        if ((!obj.opts.$thumb || !obj.opts.$thumb.length) && obj.opts.$orig) {\r\n          obj.opts.$thumb = obj.opts.$orig.find(\"img:first\");\r\n        }\r\n\r\n        // \"caption\" is a \"special\" option, it can be used to customize caption per gallery item ..\r\n        if ($.type(obj.opts.caption) === \"function\") {\r\n          obj.opts.caption = obj.opts.caption.apply(item, [self, obj]);\r\n        }\r\n\r\n        if ($.type(self.opts.caption) === \"function\") {\r\n          obj.opts.caption = self.opts.caption.apply(item, [self, obj]);\r\n        }\r\n\r\n        // Make sure we have caption as a string or jQuery object\r\n        if (!(obj.opts.caption instanceof $)) {\r\n          obj.opts.caption = obj.opts.caption === undefined ? \"\" : obj.opts.caption + \"\";\r\n        }\r\n\r\n        // Check if url contains \"filter\" used to filter the content\r\n        // Example: \"ajax.html #something\"\r\n        if (obj.type === \"ajax\") {\r\n          srcParts = src.split(/\\s+/, 2);\r\n\r\n          if (srcParts.length > 1) {\r\n            obj.src = srcParts.shift();\r\n\r\n            obj.opts.filter = srcParts.shift();\r\n          }\r\n        }\r\n\r\n        // Hide all buttons and disable interactivity for modal items\r\n        if (obj.opts.modal) {\r\n          obj.opts = $.extend(true, obj.opts, {\r\n            // Remove buttons\r\n            infobar: 0,\r\n            toolbar: 0,\r\n\r\n            smallBtn: 0,\r\n\r\n            // Disable keyboard navigation\r\n            keyboard: 0,\r\n\r\n            // Disable some modules\r\n            slideShow: 0,\r\n            fullScreen: 0,\r\n            thumbs: 0,\r\n            touch: 0,\r\n\r\n            // Disable click event handlers\r\n            clickContent: false,\r\n            clickSlide: false,\r\n            clickOutside: false,\r\n            dblclickContent: false,\r\n            dblclickSlide: false,\r\n            dblclickOutside: false\r\n          });\r\n        }\r\n\r\n        // Step 4 - Add processed object to group\r\n        // ======================================\r\n\r\n        self.group.push(obj);\r\n      });\r\n\r\n      // Update controls if gallery is already opened\r\n      if (Object.keys(self.slides).length) {\r\n        self.updateControls();\r\n\r\n        // Update thumbnails, if needed\r\n        thumbs = self.Thumbs;\r\n\r\n        if (thumbs && thumbs.isActive) {\r\n          thumbs.create();\r\n\r\n          thumbs.focus();\r\n        }\r\n      }\r\n    },\r\n\r\n    // Attach an event handler functions for:\r\n    //   - navigation buttons\r\n    //   - browser scrolling, resizing;\r\n    //   - focusing\r\n    //   - keyboard\r\n    //   - detect idle\r\n    // ======================================\r\n\r\n    addEvents: function() {\r\n      var self = this;\r\n\r\n      self.removeEvents();\r\n\r\n      // Make navigation elements clickable\r\n      self.$refs.container\r\n        .on(\"click.fb-close\", \"[data-fancybox-close]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          self.close(e);\r\n        })\r\n        .on(\"touchstart.fb-prev click.fb-prev\", \"[data-fancybox-prev]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          self.previous();\r\n        })\r\n        .on(\"touchstart.fb-next click.fb-next\", \"[data-fancybox-next]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          self.next();\r\n        })\r\n        .on(\"click.fb\", \"[data-fancybox-zoom]\", function(e) {\r\n          // Click handler for zoom button\r\n          self[self.isScaledDown() ? \"scaleToActual\" : \"scaleToFit\"]();\r\n        });\r\n\r\n      // Handle page scrolling and browser resizing\r\n      $W.on(\"orientationchange.fb resize.fb\", function(e) {\r\n        if (e && e.originalEvent && e.originalEvent.type === \"resize\") {\r\n          requestAFrame(function() {\r\n            self.update();\r\n          });\r\n        } else {\r\n          self.$refs.stage.hide();\r\n\r\n          setTimeout(function() {\r\n            self.$refs.stage.show();\r\n\r\n            self.update();\r\n          }, $.fancybox.isMobile ? 600 : 250);\r\n        }\r\n      });\r\n\r\n      // Trap keyboard focus inside of the modal, so the user does not accidentally tab outside of the modal\r\n      // (a.k.a. \"escaping the modal\")\r\n      $D.on(\"focusin.fb\", function(e) {\r\n        var instance = $.fancybox ? $.fancybox.getInstance() : null;\r\n\r\n        if (\r\n          instance.isClosing ||\r\n          !instance.current ||\r\n          !instance.current.opts.trapFocus ||\r\n          $(e.target).hasClass(\"fancybox-container\") ||\r\n          $(e.target).is(document)\r\n        ) {\r\n          return;\r\n        }\r\n\r\n        if (instance && $(e.target).css(\"position\") !== \"fixed\" && !instance.$refs.container.has(e.target).length) {\r\n          e.stopPropagation();\r\n\r\n          instance.focus();\r\n        }\r\n      });\r\n\r\n      // Enable keyboard navigation\r\n      $D.on(\"keydown.fb\", function(e) {\r\n        var current = self.current,\r\n          keycode = e.keyCode || e.which;\r\n\r\n        if (!current || !current.opts.keyboard) {\r\n          return;\r\n        }\r\n\r\n        if (e.ctrlKey || e.altKey || e.shiftKey || $(e.target).is(\"input\") || $(e.target).is(\"textarea\")) {\r\n          return;\r\n        }\r\n\r\n        // Backspace and Esc keys\r\n        if (keycode === 8 || keycode === 27) {\r\n          e.preventDefault();\r\n\r\n          self.close(e);\r\n\r\n          return;\r\n        }\r\n\r\n        // Left arrow and Up arrow\r\n        if (keycode === 37 || keycode === 38) {\r\n          e.preventDefault();\r\n\r\n          self.previous();\r\n\r\n          return;\r\n        }\r\n\r\n        // Righ arrow and Down arrow\r\n        if (keycode === 39 || keycode === 40) {\r\n          e.preventDefault();\r\n\r\n          self.next();\r\n\r\n          return;\r\n        }\r\n\r\n        self.trigger(\"afterKeydown\", e, keycode);\r\n      });\r\n\r\n      // Hide controls after some inactivity period\r\n      if (self.group[self.currIndex].opts.idleTime) {\r\n        self.idleSecondsCounter = 0;\r\n\r\n        $D.on(\r\n          \"mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle\",\r\n          function(e) {\r\n            self.idleSecondsCounter = 0;\r\n\r\n            if (self.isIdle) {\r\n              self.showControls();\r\n            }\r\n\r\n            self.isIdle = false;\r\n          }\r\n        );\r\n\r\n        self.idleInterval = window.setInterval(function() {\r\n          self.idleSecondsCounter++;\r\n\r\n          if (self.idleSecondsCounter >= self.group[self.currIndex].opts.idleTime && !self.isDragging) {\r\n            self.isIdle = true;\r\n            self.idleSecondsCounter = 0;\r\n\r\n            self.hideControls();\r\n          }\r\n        }, 1000);\r\n      }\r\n    },\r\n\r\n    // Remove events added by the core\r\n    // ===============================\r\n\r\n    removeEvents: function() {\r\n      var self = this;\r\n\r\n      $W.off(\"orientationchange.fb resize.fb\");\r\n      $D.off(\"focusin.fb keydown.fb .fb-idle\");\r\n\r\n      this.$refs.container.off(\".fb-close .fb-prev .fb-next\");\r\n\r\n      if (self.idleInterval) {\r\n        window.clearInterval(self.idleInterval);\r\n\r\n        self.idleInterval = null;\r\n      }\r\n    },\r\n\r\n    // Change to previous gallery item\r\n    // ===============================\r\n\r\n    previous: function(duration) {\r\n      return this.jumpTo(this.currPos - 1, duration);\r\n    },\r\n\r\n    // Change to next gallery item\r\n    // ===========================\r\n\r\n    next: function(duration) {\r\n      return this.jumpTo(this.currPos + 1, duration);\r\n    },\r\n\r\n    // Switch to selected gallery item\r\n    // ===============================\r\n\r\n    jumpTo: function(pos, duration) {\r\n      var self = this,\r\n        groupLen = self.group.length,\r\n        firstRun,\r\n        loop,\r\n        current,\r\n        previous,\r\n        canvasWidth,\r\n        currentPos,\r\n        transitionProps;\r\n\r\n      if (self.isDragging || self.isClosing || (self.isAnimating && self.firstRun)) {\r\n        return;\r\n      }\r\n\r\n      pos = parseInt(pos, 10);\r\n\r\n      // Should loop?\r\n      loop = self.current ? self.current.opts.loop : self.opts.loop;\r\n\r\n      if (!loop && (pos < 0 || pos >= groupLen)) {\r\n        return false;\r\n      }\r\n\r\n      firstRun = self.firstRun = !Object.keys(self.slides).length;\r\n\r\n      if (groupLen < 2 && !firstRun && !!self.isDragging) {\r\n        return;\r\n      }\r\n\r\n      previous = self.current;\r\n\r\n      self.prevIndex = self.currIndex;\r\n      self.prevPos = self.currPos;\r\n\r\n      // Create slides\r\n      current = self.createSlide(pos);\r\n\r\n      if (groupLen > 1) {\r\n        if (loop || current.index > 0) {\r\n          self.createSlide(pos - 1);\r\n        }\r\n\r\n        if (loop || current.index < groupLen - 1) {\r\n          self.createSlide(pos + 1);\r\n        }\r\n      }\r\n\r\n      self.current = current;\r\n      self.currIndex = current.index;\r\n      self.currPos = current.pos;\r\n\r\n      self.trigger(\"beforeShow\", firstRun);\r\n\r\n      self.updateControls();\r\n\r\n      currentPos = $.fancybox.getTranslate(current.$slide);\r\n\r\n      current.isMoved = (currentPos.left !== 0 || currentPos.top !== 0) && !current.$slide.hasClass(\"fancybox-animated\");\r\n\r\n      // Validate duration length\r\n      current.forcedDuration = undefined;\r\n\r\n      if ($.isNumeric(duration)) {\r\n        current.forcedDuration = duration;\r\n      } else {\r\n        duration = current.opts[firstRun ? \"animationDuration\" : \"transitionDuration\"];\r\n      }\r\n\r\n      duration = parseInt(duration, 10);\r\n\r\n      // Fresh start - reveal container, current slide and start loading content\r\n      if (firstRun) {\r\n        if (current.opts.animationEffect && duration) {\r\n          self.$refs.container.css(\"transition-duration\", duration + \"ms\");\r\n        }\r\n\r\n        self.$refs.container.removeClass(\"fancybox-is-hidden\");\r\n\r\n        forceRedraw(self.$refs.container);\r\n\r\n        self.$refs.container.addClass(\"fancybox-is-open\");\r\n\r\n        forceRedraw(self.$refs.container);\r\n\r\n        // Make current slide visible\r\n        current.$slide.addClass(\"fancybox-slide--previous\");\r\n\r\n        // Attempt to load content into slide;\r\n        // at this point image would start loading, but inline/html content would load immediately\r\n        self.loadSlide(current);\r\n\r\n        current.$slide.removeClass(\"fancybox-slide--previous\").addClass(\"fancybox-slide--current\");\r\n\r\n        self.preload(\"image\");\r\n\r\n        return;\r\n      }\r\n\r\n      // Clean up\r\n      $.each(self.slides, function(index, slide) {\r\n        $.fancybox.stop(slide.$slide);\r\n      });\r\n\r\n      // Make current that slide is visible even if content is still loading\r\n      current.$slide.removeClass(\"fancybox-slide--next fancybox-slide--previous\").addClass(\"fancybox-slide--current\");\r\n\r\n      // If slides have been dragged, animate them to correct position\r\n      if (current.isMoved) {\r\n        canvasWidth = Math.round(current.$slide.width());\r\n\r\n        $.each(self.slides, function(index, slide) {\r\n          var pos = slide.pos - current.pos;\r\n\r\n          $.fancybox.animate(\r\n            slide.$slide,\r\n            {\r\n              top: 0,\r\n              left: pos * canvasWidth + pos * slide.opts.gutter\r\n            },\r\n            duration,\r\n            function() {\r\n              slide.$slide.removeAttr(\"style\").removeClass(\"fancybox-slide--next fancybox-slide--previous\");\r\n\r\n              if (slide.pos === self.currPos) {\r\n                current.isMoved = false;\r\n\r\n                self.complete();\r\n              }\r\n            }\r\n          );\r\n        });\r\n      } else {\r\n        self.$refs.stage.children().removeAttr(\"style\");\r\n      }\r\n\r\n      // Start transition that reveals current content\r\n      // or wait when it will be loaded\r\n\r\n      if (current.isLoaded) {\r\n        self.revealContent(current);\r\n      } else {\r\n        self.loadSlide(current);\r\n      }\r\n\r\n      self.preload(\"image\");\r\n\r\n      if (previous.pos === current.pos) {\r\n        return;\r\n      }\r\n\r\n      // Handle previous slide\r\n      // =====================\r\n\r\n      transitionProps = \"fancybox-slide--\" + (previous.pos > current.pos ? \"next\" : \"previous\");\r\n\r\n      previous.$slide.removeClass(\"fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous\");\r\n\r\n      previous.isComplete = false;\r\n\r\n      if (!duration || (!current.isMoved && !current.opts.transitionEffect)) {\r\n        return;\r\n      }\r\n\r\n      if (current.isMoved) {\r\n        previous.$slide.addClass(transitionProps);\r\n      } else {\r\n        transitionProps = \"fancybox-animated \" + transitionProps + \" fancybox-fx-\" + current.opts.transitionEffect;\r\n\r\n        $.fancybox.animate(previous.$slide, transitionProps, duration, function() {\r\n          previous.$slide.removeClass(transitionProps).removeAttr(\"style\");\r\n        });\r\n      }\r\n    },\r\n\r\n    // Create new \"slide\" element\r\n    // These are gallery items  that are actually added to DOM\r\n    // =======================================================\r\n\r\n    createSlide: function(pos) {\r\n      var self = this,\r\n        $slide,\r\n        index;\r\n\r\n      index = pos % self.group.length;\r\n      index = index < 0 ? self.group.length + index : index;\r\n\r\n      if (!self.slides[pos] && self.group[index]) {\r\n        $slide = $('<div class=\"fancybox-slide\"></div>').appendTo(self.$refs.stage);\r\n\r\n        self.slides[pos] = $.extend(true, {}, self.group[index], {\r\n          pos: pos,\r\n          $slide: $slide,\r\n          isLoaded: false\r\n        });\r\n\r\n        self.updateSlide(self.slides[pos]);\r\n      }\r\n\r\n      return self.slides[pos];\r\n    },\r\n\r\n    // Scale image to the actual size of the image;\r\n    // x and y values should be relative to the slide\r\n    // ==============================================\r\n\r\n    scaleToActual: function(x, y, duration) {\r\n      var self = this,\r\n        current = self.current,\r\n        $content = current.$content,\r\n        canvasWidth = $.fancybox.getTranslate(current.$slide).width,\r\n        canvasHeight = $.fancybox.getTranslate(current.$slide).height,\r\n        newImgWidth = current.width,\r\n        newImgHeight = current.height,\r\n        imgPos,\r\n        posX,\r\n        posY,\r\n        scaleX,\r\n        scaleY;\r\n\r\n      if (self.isAnimating || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\r\n        return;\r\n      }\r\n\r\n      $.fancybox.stop($content);\r\n\r\n      self.isAnimating = true;\r\n\r\n      x = x === undefined ? canvasWidth * 0.5 : x;\r\n      y = y === undefined ? canvasHeight * 0.5 : y;\r\n\r\n      imgPos = $.fancybox.getTranslate($content);\r\n\r\n      imgPos.top -= $.fancybox.getTranslate(current.$slide).top;\r\n      imgPos.left -= $.fancybox.getTranslate(current.$slide).left;\r\n\r\n      scaleX = newImgWidth / imgPos.width;\r\n      scaleY = newImgHeight / imgPos.height;\r\n\r\n      // Get center position for original image\r\n      posX = canvasWidth * 0.5 - newImgWidth * 0.5;\r\n      posY = canvasHeight * 0.5 - newImgHeight * 0.5;\r\n\r\n      // Make sure image does not move away from edges\r\n      if (newImgWidth > canvasWidth) {\r\n        posX = imgPos.left * scaleX - (x * scaleX - x);\r\n\r\n        if (posX > 0) {\r\n          posX = 0;\r\n        }\r\n\r\n        if (posX < canvasWidth - newImgWidth) {\r\n          posX = canvasWidth - newImgWidth;\r\n        }\r\n      }\r\n\r\n      if (newImgHeight > canvasHeight) {\r\n        posY = imgPos.top * scaleY - (y * scaleY - y);\r\n\r\n        if (posY > 0) {\r\n          posY = 0;\r\n        }\r\n\r\n        if (posY < canvasHeight - newImgHeight) {\r\n          posY = canvasHeight - newImgHeight;\r\n        }\r\n      }\r\n\r\n      self.updateCursor(newImgWidth, newImgHeight);\r\n\r\n      $.fancybox.animate(\r\n        $content,\r\n        {\r\n          top: posY,\r\n          left: posX,\r\n          scaleX: scaleX,\r\n          scaleY: scaleY\r\n        },\r\n        duration || 330,\r\n        function() {\r\n          self.isAnimating = false;\r\n        }\r\n      );\r\n\r\n      // Stop slideshow\r\n      if (self.SlideShow && self.SlideShow.isActive) {\r\n        self.SlideShow.stop();\r\n      }\r\n    },\r\n\r\n    // Scale image to fit inside parent element\r\n    // ========================================\r\n\r\n    scaleToFit: function(duration) {\r\n      var self = this,\r\n        current = self.current,\r\n        $content = current.$content,\r\n        end;\r\n\r\n      if (self.isAnimating || !$content || !(current.type == \"image\" && current.isLoaded && !current.hasError)) {\r\n        return;\r\n      }\r\n\r\n      $.fancybox.stop($content);\r\n\r\n      self.isAnimating = true;\r\n\r\n      end = self.getFitPos(current);\r\n\r\n      self.updateCursor(end.width, end.height);\r\n\r\n      $.fancybox.animate(\r\n        $content,\r\n        {\r\n          top: end.top,\r\n          left: end.left,\r\n          scaleX: end.width / $content.width(),\r\n          scaleY: end.height / $content.height()\r\n        },\r\n        duration || 330,\r\n        function() {\r\n          self.isAnimating = false;\r\n        }\r\n      );\r\n    },\r\n\r\n    // Calculate image size to fit inside viewport\r\n    // ===========================================\r\n\r\n    getFitPos: function(slide) {\r\n      var self = this,\r\n        $content = slide.$content,\r\n        width = slide.width || slide.opts.width,\r\n        height = slide.height || slide.opts.height,\r\n        maxWidth,\r\n        maxHeight,\r\n        minRatio,\r\n        margin,\r\n        aspectRatio,\r\n        rez = {};\r\n\r\n      if (!slide.isLoaded || !$content || !$content.length) {\r\n        return false;\r\n      }\r\n\r\n      margin = {\r\n        top: parseInt(slide.$slide.css(\"paddingTop\"), 10),\r\n        right: parseInt(slide.$slide.css(\"paddingRight\"), 10),\r\n        bottom: parseInt(slide.$slide.css(\"paddingBottom\"), 10),\r\n        left: parseInt(slide.$slide.css(\"paddingLeft\"), 10)\r\n      };\r\n\r\n      // We can not use $slide width here, because it can have different diemensions while in transiton\r\n      maxWidth = parseInt(self.$refs.stage.width(), 10) - (margin.left + margin.right);\r\n      maxHeight = parseInt(self.$refs.stage.height(), 10) - (margin.top + margin.bottom);\r\n\r\n      if (!width || !height) {\r\n        width = maxWidth;\r\n        height = maxHeight;\r\n      }\r\n\r\n      minRatio = Math.min(1, maxWidth / width, maxHeight / height);\r\n\r\n      // Use floor rounding to make sure it really fits\r\n      width = Math.floor(minRatio * width);\r\n      height = Math.floor(minRatio * height);\r\n\r\n      if (slide.type === \"image\") {\r\n        rez.top = Math.floor((maxHeight - height) * 0.5) + margin.top;\r\n        rez.left = Math.floor((maxWidth - width) * 0.5) + margin.left;\r\n      } else if (slide.contentType === \"video\") {\r\n        // Force aspect ratio for the video\r\n        // \"I say the whole world must learn of our peaceful ways… by force!\"\r\n        aspectRatio = slide.opts.width && slide.opts.height ? width / height : slide.opts.ratio || 16 / 9;\r\n\r\n        if (height > width / aspectRatio) {\r\n          height = width / aspectRatio;\r\n        } else if (width > height * aspectRatio) {\r\n          width = height * aspectRatio;\r\n        }\r\n      }\r\n\r\n      rez.width = width;\r\n      rez.height = height;\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Update content size and position for all slides\r\n    // ==============================================\r\n\r\n    update: function() {\r\n      var self = this;\r\n\r\n      $.each(self.slides, function(key, slide) {\r\n        self.updateSlide(slide);\r\n      });\r\n    },\r\n\r\n    // Update slide content position and size\r\n    // ======================================\r\n\r\n    updateSlide: function(slide, duration) {\r\n      var self = this,\r\n        $content = slide && slide.$content,\r\n        width = slide.width || slide.opts.width,\r\n        height = slide.height || slide.opts.height;\r\n\r\n      if ($content && (width || height || slide.contentType === \"video\") && !slide.hasError) {\r\n        $.fancybox.stop($content);\r\n\r\n        $.fancybox.setTranslate($content, self.getFitPos(slide));\r\n\r\n        if (slide.pos === self.currPos) {\r\n          self.isAnimating = false;\r\n\r\n          self.updateCursor();\r\n        }\r\n      }\r\n\r\n      slide.$slide.trigger(\"refresh\");\r\n\r\n      self.$refs.toolbar.toggleClass(\"compensate-for-scrollbar\", slide.$slide.get(0).scrollHeight > slide.$slide.get(0).clientHeight);\r\n\r\n      self.trigger(\"onUpdate\", slide);\r\n    },\r\n\r\n    // Horizontally center slide\r\n    // =========================\r\n\r\n    centerSlide: function(slide, duration) {\r\n      var self = this,\r\n        canvasWidth,\r\n        pos;\r\n\r\n      if (self.current) {\r\n        canvasWidth = Math.round(slide.$slide.width());\r\n        pos = slide.pos - self.current.pos;\r\n\r\n        $.fancybox.animate(\r\n          slide.$slide,\r\n          {\r\n            top: 0,\r\n            left: pos * canvasWidth + pos * slide.opts.gutter,\r\n            opacity: 1\r\n          },\r\n          duration === undefined ? 0 : duration,\r\n          null,\r\n          false\r\n        );\r\n      }\r\n    },\r\n\r\n    // Update cursor style depending if content can be zoomed\r\n    // ======================================================\r\n\r\n    updateCursor: function(nextWidth, nextHeight) {\r\n      var self = this,\r\n        current = self.current,\r\n        $container = self.$refs.container.removeClass(\"fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut\"),\r\n        isZoomable;\r\n\r\n      if (!current || self.isClosing) {\r\n        return;\r\n      }\r\n\r\n      isZoomable = self.isZoomable();\r\n\r\n      $container.toggleClass(\"fancybox-is-zoomable\", isZoomable);\r\n\r\n      $(\"[data-fancybox-zoom]\").prop(\"disabled\", !isZoomable);\r\n\r\n      // Set cursor to zoom in/out if click event is 'zoom'\r\n      if (\r\n        isZoomable &&\r\n        (current.opts.clickContent === \"zoom\" || ($.isFunction(current.opts.clickContent) && current.opts.clickContent(current) === \"zoom\"))\r\n      ) {\r\n        if (self.isScaledDown(nextWidth, nextHeight)) {\r\n          // If image is scaled down, then, obviously, it can be zoomed to full size\r\n          $container.addClass(\"fancybox-can-zoomIn\");\r\n        } else {\r\n          if (current.opts.touch) {\r\n            // If image size ir largen than available available and touch module is not disable,\r\n            // then user can do panning\r\n            $container.addClass(\"fancybox-can-drag\");\r\n          } else {\r\n            $container.addClass(\"fancybox-can-zoomOut\");\r\n          }\r\n        }\r\n      } else if (current.opts.touch && current.contentType !== \"video\") {\r\n        $container.addClass(\"fancybox-can-drag\");\r\n      }\r\n    },\r\n\r\n    // Check if current slide is zoomable\r\n    // ==================================\r\n\r\n    isZoomable: function() {\r\n      var self = this,\r\n        current = self.current,\r\n        fitPos;\r\n\r\n      // Assume that slide is zoomable if:\r\n      //   - image is still loading\r\n      //   - actual size of the image is smaller than available area\r\n      if (current && !self.isClosing && current.type === \"image\" && !current.hasError) {\r\n        if (!current.isLoaded) {\r\n          return true;\r\n        }\r\n\r\n        fitPos = self.getFitPos(current);\r\n\r\n        if (current.width > fitPos.width || current.height > fitPos.height) {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    // Check if current image dimensions are smaller than actual\r\n    // =========================================================\r\n\r\n    isScaledDown: function(nextWidth, nextHeight) {\r\n      var self = this,\r\n        rez = false,\r\n        current = self.current,\r\n        $content = current.$content;\r\n\r\n      if (nextWidth !== undefined && nextHeight !== undefined) {\r\n        rez = nextWidth < current.width && nextHeight < current.height;\r\n      } else if ($content) {\r\n        rez = $.fancybox.getTranslate($content);\r\n        rez = rez.width < current.width && rez.height < current.height;\r\n      }\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Check if image dimensions exceed parent element\r\n    // ===============================================\r\n\r\n    canPan: function() {\r\n      var self = this,\r\n        rez = false,\r\n        current = self.current,\r\n        $content;\r\n\r\n      if (current.type === \"image\" && ($content = current.$content) && !current.hasError) {\r\n        rez = self.getFitPos(current);\r\n        rez = Math.abs($content.width() - rez.width) > 1 || Math.abs($content.height() - rez.height) > 1;\r\n      }\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Load content into the slide\r\n    // ===========================\r\n\r\n    loadSlide: function(slide) {\r\n      var self = this,\r\n        type,\r\n        $slide,\r\n        ajaxLoad;\r\n\r\n      if (slide.isLoading || slide.isLoaded) {\r\n        return;\r\n      }\r\n\r\n      slide.isLoading = true;\r\n\r\n      self.trigger(\"beforeLoad\", slide);\r\n\r\n      type = slide.type;\r\n      $slide = slide.$slide;\r\n\r\n      $slide\r\n        .off(\"refresh\")\r\n        .trigger(\"onReset\")\r\n        .addClass(slide.opts.slideClass);\r\n\r\n      // Create content depending on the type\r\n      switch (type) {\r\n        case \"image\":\r\n          self.setImage(slide);\r\n\r\n          break;\r\n\r\n        case \"iframe\":\r\n          self.setIframe(slide);\r\n\r\n          break;\r\n\r\n        case \"html\":\r\n          self.setContent(slide, slide.src || slide.content);\r\n\r\n          break;\r\n\r\n        case \"video\":\r\n          self.setContent(\r\n            slide,\r\n            '<video class=\"fancybox-video\" controls controlsList=\"nodownload\">' +\r\n              '<source src=\"' +\r\n              slide.src +\r\n              '\" type=\"' +\r\n              slide.opts.videoFormat +\r\n              '\">' +\r\n              \"Your browser doesn't support HTML5 video\" +\r\n              \"</video\"\r\n          );\r\n\r\n          break;\r\n\r\n        case \"inline\":\r\n          if ($(slide.src).length) {\r\n            self.setContent(slide, $(slide.src));\r\n          } else {\r\n            self.setError(slide);\r\n          }\r\n\r\n          break;\r\n\r\n        case \"ajax\":\r\n          self.showLoading(slide);\r\n\r\n          ajaxLoad = $.ajax(\r\n            $.extend({}, slide.opts.ajax.settings, {\r\n              url: slide.src,\r\n              success: function(data, textStatus) {\r\n                if (textStatus === \"success\") {\r\n                  self.setContent(slide, data);\r\n                }\r\n              },\r\n              error: function(jqXHR, textStatus) {\r\n                if (jqXHR && textStatus !== \"abort\") {\r\n                  self.setError(slide);\r\n                }\r\n              }\r\n            })\r\n          );\r\n\r\n          $slide.one(\"onReset\", function() {\r\n            ajaxLoad.abort();\r\n          });\r\n\r\n          break;\r\n\r\n        default:\r\n          self.setError(slide);\r\n\r\n          break;\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    // Use thumbnail image, if possible\r\n    // ================================\r\n\r\n    setImage: function(slide) {\r\n      var self = this,\r\n        srcset = slide.opts.srcset || slide.opts.image.srcset,\r\n        thumbSrc,\r\n        found,\r\n        temp,\r\n        pxRatio,\r\n        windowWidth;\r\n\r\n      // Check if need to show loading icon\r\n      slide.timouts = setTimeout(function() {\r\n        var $img = slide.$image;\r\n\r\n        if (slide.isLoading && (!$img || !$img[0].complete) && !slide.hasError) {\r\n          self.showLoading(slide);\r\n        }\r\n      }, 350);\r\n\r\n      // If we have \"srcset\", then we need to find first matching \"src\" value.\r\n      // This is necessary, because when you set an src attribute, the browser will preload the image\r\n      // before any javascript or even CSS is applied.\r\n      if (srcset) {\r\n        pxRatio = window.devicePixelRatio || 1;\r\n        windowWidth = window.innerWidth * pxRatio;\r\n\r\n        temp = srcset.split(\",\").map(function(el) {\r\n          var ret = {};\r\n\r\n          el\r\n            .trim()\r\n            .split(/\\s+/)\r\n            .forEach(function(el, i) {\r\n              var value = parseInt(el.substring(0, el.length - 1), 10);\r\n\r\n              if (i === 0) {\r\n                return (ret.url = el);\r\n              }\r\n\r\n              if (value) {\r\n                ret.value = value;\r\n                ret.postfix = el[el.length - 1];\r\n              }\r\n            });\r\n\r\n          return ret;\r\n        });\r\n\r\n        // Sort by value\r\n        temp.sort(function(a, b) {\r\n          return a.value - b.value;\r\n        });\r\n\r\n        // Ok, now we have an array of all srcset values\r\n        for (var j = 0; j < temp.length; j++) {\r\n          var el = temp[j];\r\n\r\n          if ((el.postfix === \"w\" && el.value >= windowWidth) || (el.postfix === \"x\" && el.value >= pxRatio)) {\r\n            found = el;\r\n            break;\r\n          }\r\n        }\r\n\r\n        // If not found, take the last one\r\n        if (!found && temp.length) {\r\n          found = temp[temp.length - 1];\r\n        }\r\n\r\n        if (found) {\r\n          slide.src = found.url;\r\n\r\n          // If we have default width/height values, we can calculate height for matching source\r\n          if (slide.width && slide.height && found.postfix == \"w\") {\r\n            slide.height = slide.width / slide.height * found.value;\r\n            slide.width = found.value;\r\n          }\r\n\r\n          slide.opts.srcset = srcset;\r\n        }\r\n      }\r\n\r\n      // This will be wrapper containing both ghost and actual image\r\n      slide.$content = $('<div class=\"fancybox-content\"></div>')\r\n        .addClass(\"fancybox-is-hidden\")\r\n        .appendTo(slide.$slide.addClass(\"fancybox-slide--image\"));\r\n\r\n      // If we have a thumbnail, we can display it while actual image is loading\r\n      // Users will not stare at black screen and actual image will appear gradually\r\n      thumbSrc = slide.opts.thumb || (slide.opts.$thumb && slide.opts.$thumb.length ? slide.opts.$thumb.attr(\"src\") : false);\r\n\r\n      if (slide.opts.preload !== false && slide.opts.width && slide.opts.height && thumbSrc) {\r\n        slide.width = slide.opts.width;\r\n        slide.height = slide.opts.height;\r\n\r\n        slide.$ghost = $(\"<img />\")\r\n          .one(\"error\", function() {\r\n            $(this).remove();\r\n\r\n            slide.$ghost = null;\r\n          })\r\n          .one(\"load\", function() {\r\n            self.afterLoad(slide);\r\n          })\r\n          .addClass(\"fancybox-image\")\r\n          .appendTo(slide.$content)\r\n          .attr(\"src\", thumbSrc);\r\n      }\r\n\r\n      // Start loading actual image\r\n      self.setBigImage(slide);\r\n    },\r\n\r\n    // Create full-size image\r\n    // ======================\r\n\r\n    setBigImage: function(slide) {\r\n      var self = this,\r\n        $img = $(\"<img />\");\r\n\r\n      slide.$image = $img\r\n        .one(\"error\", function() {\r\n          self.setError(slide);\r\n        })\r\n        .one(\"load\", function() {\r\n          var sizes;\r\n\r\n          if (!slide.$ghost) {\r\n            self.resolveImageSlideSize(slide, this.naturalWidth, this.naturalHeight);\r\n\r\n            self.afterLoad(slide);\r\n          }\r\n\r\n          // Clear timeout that checks if loading icon needs to be displayed\r\n          if (slide.timouts) {\r\n            clearTimeout(slide.timouts);\r\n            slide.timouts = null;\r\n          }\r\n\r\n          if (self.isClosing) {\r\n            return;\r\n          }\r\n\r\n          if (slide.opts.srcset) {\r\n            sizes = slide.opts.sizes;\r\n\r\n            if (!sizes || sizes === \"auto\") {\r\n              sizes =\r\n                (slide.width / slide.height > 1 && $W.width() / $W.height() > 1 ? \"100\" : Math.round(slide.width / slide.height * 100)) +\r\n                \"vw\";\r\n            }\r\n\r\n            $img.attr(\"sizes\", sizes).attr(\"srcset\", slide.opts.srcset);\r\n          }\r\n\r\n          // Hide temporary image after some delay\r\n          if (slide.$ghost) {\r\n            setTimeout(function() {\r\n              if (slide.$ghost && !self.isClosing) {\r\n                slide.$ghost.hide();\r\n              }\r\n            }, Math.min(300, Math.max(1000, slide.height / 1600)));\r\n          }\r\n\r\n          self.hideLoading(slide);\r\n        })\r\n        .addClass(\"fancybox-image\")\r\n        .attr(\"src\", slide.src)\r\n        .appendTo(slide.$content);\r\n\r\n      if (($img[0].complete || $img[0].readyState == \"complete\") && $img[0].naturalWidth && $img[0].naturalHeight) {\r\n        $img.trigger(\"load\");\r\n      } else if ($img[0].error) {\r\n        $img.trigger(\"error\");\r\n      }\r\n    },\r\n\r\n    // Computes the slide size from image size and maxWidth/maxHeight\r\n    // ==============================================================\r\n\r\n    resolveImageSlideSize: function(slide, imgWidth, imgHeight) {\r\n      var maxWidth = parseInt(slide.opts.width, 10),\r\n        maxHeight = parseInt(slide.opts.height, 10);\r\n\r\n      // Sets the default values from the image\r\n      slide.width = imgWidth;\r\n      slide.height = imgHeight;\r\n\r\n      if (maxWidth > 0) {\r\n        slide.width = maxWidth;\r\n        slide.height = Math.floor(maxWidth * imgHeight / imgWidth);\r\n      }\r\n\r\n      if (maxHeight > 0) {\r\n        slide.width = Math.floor(maxHeight * imgWidth / imgHeight);\r\n        slide.height = maxHeight;\r\n      }\r\n    },\r\n\r\n    // Create iframe wrapper, iframe and bindings\r\n    // ==========================================\r\n\r\n    setIframe: function(slide) {\r\n      var self = this,\r\n        opts = slide.opts.iframe,\r\n        $slide = slide.$slide,\r\n        $iframe;\r\n\r\n      slide.$content = $('<div class=\"fancybox-content' + (opts.preload ? \" fancybox-is-hidden\" : \"\") + '\"></div>')\r\n        .css(opts.css)\r\n        .appendTo($slide);\r\n\r\n      $slide.addClass(\"fancybox-slide--\" + slide.contentType);\r\n\r\n      slide.$iframe = $iframe = $(opts.tpl.replace(/\\{rnd\\}/g, new Date().getTime()))\r\n        .attr(opts.attr)\r\n        .appendTo(slide.$content);\r\n\r\n      if (opts.preload) {\r\n        self.showLoading(slide);\r\n\r\n        // Unfortunately, it is not always possible to determine if iframe is successfully loaded\r\n        // (due to browser security policy)\r\n\r\n        $iframe.on(\"load.fb error.fb\", function(e) {\r\n          this.isReady = 1;\r\n\r\n          slide.$slide.trigger(\"refresh\");\r\n\r\n          self.afterLoad(slide);\r\n        });\r\n\r\n        // Recalculate iframe content size\r\n        // ===============================\r\n\r\n        $slide.on(\"refresh.fb\", function() {\r\n          var $content = slide.$content,\r\n            frameWidth = opts.css.width,\r\n            frameHeight = opts.css.height,\r\n            $contents,\r\n            $body;\r\n\r\n          if ($iframe[0].isReady !== 1) {\r\n            return;\r\n          }\r\n\r\n          try {\r\n            $contents = $iframe.contents();\r\n            $body = $contents.find(\"body\");\r\n          } catch (ignore) {}\r\n\r\n          // Calculate contnet dimensions if it is accessible\r\n          if ($body && $body.length && $body.children().length) {\r\n            $content.css({\r\n              width: \"\",\r\n              height: \"\"\r\n            });\r\n\r\n            if (frameWidth === undefined) {\r\n              frameWidth = Math.ceil(Math.max($body[0].clientWidth, $body.outerWidth(true)));\r\n            }\r\n\r\n            if (frameWidth) {\r\n              $content.width(frameWidth);\r\n            }\r\n\r\n            if (frameHeight === undefined) {\r\n              frameHeight = Math.ceil(Math.max($body[0].clientHeight, $body.outerHeight(true)));\r\n            }\r\n\r\n            if (frameHeight) {\r\n              $content.height(frameHeight);\r\n            }\r\n          }\r\n\r\n          $content.removeClass(\"fancybox-is-hidden\");\r\n        });\r\n      } else {\r\n        this.afterLoad(slide);\r\n      }\r\n\r\n      $iframe.attr(\"src\", slide.src);\r\n\r\n      // Remove iframe if closing or changing gallery item\r\n      $slide.one(\"onReset\", function() {\r\n        // This helps IE not to throw errors when closing\r\n        try {\r\n          $(this)\r\n            .find(\"iframe\")\r\n            .hide()\r\n            .unbind()\r\n            .attr(\"src\", \"//about:blank\");\r\n        } catch (ignore) {}\r\n\r\n        $(this)\r\n          .off(\"refresh.fb\")\r\n          .empty();\r\n\r\n        slide.isLoaded = false;\r\n      });\r\n    },\r\n\r\n    // Wrap and append content to the slide\r\n    // ======================================\r\n\r\n    setContent: function(slide, content) {\r\n      var self = this;\r\n\r\n      if (self.isClosing) {\r\n        return;\r\n      }\r\n\r\n      self.hideLoading(slide);\r\n\r\n      if (slide.$content) {\r\n        $.fancybox.stop(slide.$content);\r\n      }\r\n\r\n      slide.$slide.empty();\r\n\r\n      // If content is a jQuery object, then it will be moved to the slide.\r\n      // The placeholder is created so we will know where to put it back.\r\n      if (isQuery(content) && content.parent().length) {\r\n        // Make sure content is not already moved to fancyBox\r\n        content\r\n          .parent()\r\n          .parent(\".fancybox-slide--inline\")\r\n          .trigger(\"onReset\");\r\n\r\n        // Create temporary element marking original place of the content\r\n        slide.$placeholder = $(\"<div>\")\r\n          .hide()\r\n          .insertAfter(content);\r\n\r\n        // Make sure content is visible\r\n        content.css(\"display\", \"inline-block\");\r\n      } else if (!slide.hasError) {\r\n        // If content is just a plain text, try to convert it to html\r\n        if ($.type(content) === \"string\") {\r\n          content = $(\"<div>\")\r\n            .append($.trim(content))\r\n            .contents();\r\n\r\n          // If we have text node, then add wrapping element to make vertical alignment work\r\n          if (content[0].nodeType === 3) {\r\n            content = $(\"<div>\").html(content);\r\n          }\r\n        }\r\n\r\n        // If \"filter\" option is provided, then filter content\r\n        if (slide.opts.filter) {\r\n          content = $(\"<div>\")\r\n            .html(content)\r\n            .find(slide.opts.filter);\r\n        }\r\n      }\r\n\r\n      slide.$slide.one(\"onReset\", function() {\r\n        // Pause all html5 video/audio\r\n        $(this)\r\n          .find(\"video,audio\")\r\n          .trigger(\"pause\");\r\n\r\n        // Put content back\r\n        if (slide.$placeholder) {\r\n          slide.$placeholder.after(content.hide()).remove();\r\n\r\n          slide.$placeholder = null;\r\n        }\r\n\r\n        // Remove custom close button\r\n        if (slide.$smallBtn) {\r\n          slide.$smallBtn.remove();\r\n\r\n          slide.$smallBtn = null;\r\n        }\r\n\r\n        // Remove content and mark slide as not loaded\r\n        if (!slide.hasError) {\r\n          $(this).empty();\r\n\r\n          slide.isLoaded = false;\r\n        }\r\n      });\r\n\r\n      $(content).appendTo(slide.$slide);\r\n\r\n      if ($(content).is(\"video,audio\")) {\r\n        $(content).addClass(\"fancybox-video\");\r\n\r\n        $(content).wrap(\"<div></div>\");\r\n\r\n        slide.contentType = \"video\";\r\n\r\n        slide.opts.width = slide.opts.width || $(content).attr(\"width\");\r\n        slide.opts.height = slide.opts.height || $(content).attr(\"height\");\r\n      }\r\n\r\n      slide.$content = slide.$slide\r\n        .children()\r\n        .filter(\"div,form,main,video,audio\")\r\n        .first()\r\n        .addClass(\"fancybox-content\");\r\n\r\n      slide.$slide.addClass(\"fancybox-slide--\" + slide.contentType);\r\n\r\n      this.afterLoad(slide);\r\n    },\r\n\r\n    // Display error message\r\n    // =====================\r\n\r\n    setError: function(slide) {\r\n      slide.hasError = true;\r\n\r\n      slide.$slide\r\n        .trigger(\"onReset\")\r\n        .removeClass(\"fancybox-slide--\" + slide.contentType)\r\n        .addClass(\"fancybox-slide--error\");\r\n\r\n      slide.contentType = \"html\";\r\n\r\n      this.setContent(slide, this.translate(slide, slide.opts.errorTpl));\r\n\r\n      if (slide.pos === this.currPos) {\r\n        this.isAnimating = false;\r\n      }\r\n    },\r\n\r\n    // Show loading icon inside the slide\r\n    // ==================================\r\n\r\n    showLoading: function(slide) {\r\n      var self = this;\r\n\r\n      slide = slide || self.current;\r\n\r\n      if (slide && !slide.$spinner) {\r\n        slide.$spinner = $(self.translate(self, self.opts.spinnerTpl)).appendTo(slide.$slide);\r\n      }\r\n    },\r\n\r\n    // Remove loading icon from the slide\r\n    // ==================================\r\n\r\n    hideLoading: function(slide) {\r\n      var self = this;\r\n\r\n      slide = slide || self.current;\r\n\r\n      if (slide && slide.$spinner) {\r\n        slide.$spinner.remove();\r\n\r\n        delete slide.$spinner;\r\n      }\r\n    },\r\n\r\n    // Adjustments after slide content has been loaded\r\n    // ===============================================\r\n\r\n    afterLoad: function(slide) {\r\n      var self = this;\r\n\r\n      if (self.isClosing) {\r\n        return;\r\n      }\r\n\r\n      slide.isLoading = false;\r\n      slide.isLoaded = true;\r\n\r\n      self.trigger(\"afterLoad\", slide);\r\n\r\n      self.hideLoading(slide);\r\n\r\n      if (slide.pos === self.currPos) {\r\n        self.updateCursor();\r\n      }\r\n\r\n      if (slide.opts.smallBtn && (!slide.$smallBtn || !slide.$smallBtn.length)) {\r\n        slide.$smallBtn = $(self.translate(slide, slide.opts.btnTpl.smallBtn)).prependTo(slide.$content);\r\n      }\r\n\r\n      if (slide.opts.protect && slide.$content && !slide.hasError) {\r\n        // Disable right click\r\n        slide.$content.on(\"contextmenu.fb\", function(e) {\r\n          if (e.button == 2) {\r\n            e.preventDefault();\r\n          }\r\n\r\n          return true;\r\n        });\r\n\r\n        // Add fake element on top of the image\r\n        // This makes a bit harder for user to select image\r\n        if (slide.type === \"image\") {\r\n          $('<div class=\"fancybox-spaceball\"></div>').appendTo(slide.$content);\r\n        }\r\n      }\r\n\r\n      self.revealContent(slide);\r\n    },\r\n\r\n    // Make content visible\r\n    // This method is called right after content has been loaded or\r\n    // user navigates gallery and transition should start\r\n    // ============================================================\r\n\r\n    revealContent: function(slide) {\r\n      var self = this,\r\n        $slide = slide.$slide,\r\n        end = false,\r\n        start = false,\r\n        effect,\r\n        effectClassName,\r\n        duration,\r\n        opacity;\r\n\r\n      effect = slide.opts[self.firstRun ? \"animationEffect\" : \"transitionEffect\"];\r\n      duration = slide.opts[self.firstRun ? \"animationDuration\" : \"transitionDuration\"];\r\n\r\n      duration = parseInt(slide.forcedDuration === undefined ? duration : slide.forcedDuration, 10);\r\n\r\n      // Do not animate if revealing the same slide\r\n      if (slide.pos === self.currPos) {\r\n        if (slide.isComplete) {\r\n          effect = false;\r\n        } else {\r\n          self.isAnimating = true;\r\n        }\r\n      }\r\n\r\n      if (slide.isMoved || slide.pos !== self.currPos || !duration) {\r\n        effect = false;\r\n      }\r\n\r\n      // Check if can zoom\r\n      if (effect === \"zoom\") {\r\n        if (slide.pos === self.currPos && duration && slide.type === \"image\" && !slide.hasError && (start = self.getThumbPos(slide))) {\r\n          end = self.getFitPos(slide);\r\n        } else {\r\n          effect = \"fade\";\r\n        }\r\n      }\r\n\r\n      // Zoom animation\r\n      // ==============\r\n      if (effect === \"zoom\") {\r\n        end.scaleX = end.width / start.width;\r\n        end.scaleY = end.height / start.height;\r\n\r\n        // Check if we need to animate opacity\r\n        opacity = slide.opts.zoomOpacity;\r\n\r\n        if (opacity == \"auto\") {\r\n          opacity = Math.abs(slide.width / slide.height - start.width / start.height) > 0.1;\r\n        }\r\n\r\n        if (opacity) {\r\n          start.opacity = 0.1;\r\n          end.opacity = 1;\r\n        }\r\n\r\n        // Draw image at start position\r\n        $.fancybox.setTranslate(slide.$content.removeClass(\"fancybox-is-hidden\"), start);\r\n\r\n        forceRedraw(slide.$content);\r\n\r\n        // Start animation\r\n        $.fancybox.animate(slide.$content, end, duration, function() {\r\n          self.isAnimating = false;\r\n\r\n          self.complete();\r\n        });\r\n\r\n        return;\r\n      }\r\n\r\n      self.updateSlide(slide);\r\n\r\n      // Simply show content\r\n      // ===================\r\n\r\n      if (!effect) {\r\n        forceRedraw($slide);\r\n\r\n        slide.$content.removeClass(\"fancybox-is-hidden\");\r\n\r\n        if (slide.pos === self.currPos) {\r\n          self.complete();\r\n        }\r\n\r\n        return;\r\n      }\r\n\r\n      $.fancybox.stop($slide);\r\n\r\n      effectClassName = \"fancybox-animated fancybox-slide--\" + (slide.pos >= self.prevPos ? \"next\" : \"previous\") + \" fancybox-fx-\" + effect;\r\n\r\n      $slide\r\n        .removeAttr(\"style\")\r\n        .removeClass(\"fancybox-slide--current fancybox-slide--next fancybox-slide--previous\")\r\n        .addClass(effectClassName);\r\n\r\n      slide.$content.removeClass(\"fancybox-is-hidden\");\r\n\r\n      // Force reflow for CSS3 transitions\r\n      forceRedraw($slide);\r\n\r\n      $.fancybox.animate(\r\n        $slide,\r\n        \"fancybox-slide--current\",\r\n        duration,\r\n        function(e) {\r\n          $slide.removeClass(effectClassName).removeAttr(\"style\");\r\n\r\n          if (slide.pos === self.currPos) {\r\n            self.complete();\r\n          }\r\n        },\r\n        true\r\n      );\r\n    },\r\n\r\n    // Check if we can and have to zoom from thumbnail\r\n    //================================================\r\n\r\n    getThumbPos: function(slide) {\r\n      var self = this,\r\n        rez = false,\r\n        $thumb = slide.opts.$thumb,\r\n        thumbPos = $thumb && $thumb.length && $thumb[0].ownerDocument === document ? $thumb.offset() : 0,\r\n        slidePos;\r\n\r\n      // Check if element is inside the viewport by at least 1 pixel\r\n      var isElementVisible = function($el) {\r\n        var element = $el[0],\r\n          elementRect = element.getBoundingClientRect(),\r\n          parentRects = [],\r\n          visibleInAllParents;\r\n\r\n        while (element.parentElement !== null) {\r\n          if ($(element.parentElement).css(\"overflow\") === \"hidden\" || $(element.parentElement).css(\"overflow\") === \"auto\") {\r\n            parentRects.push(element.parentElement.getBoundingClientRect());\r\n          }\r\n\r\n          element = element.parentElement;\r\n        }\r\n\r\n        visibleInAllParents = parentRects.every(function(parentRect) {\r\n          var visiblePixelX = Math.min(elementRect.right, parentRect.right) - Math.max(elementRect.left, parentRect.left);\r\n          var visiblePixelY = Math.min(elementRect.bottom, parentRect.bottom) - Math.max(elementRect.top, parentRect.top);\r\n\r\n          return visiblePixelX > 0 && visiblePixelY > 0;\r\n        });\r\n\r\n        return (\r\n          visibleInAllParents &&\r\n          elementRect.bottom > 0 &&\r\n          elementRect.right > 0 &&\r\n          elementRect.left < $(window).width() &&\r\n          elementRect.top < $(window).height()\r\n        );\r\n      };\r\n\r\n      if (thumbPos && isElementVisible($thumb)) {\r\n        slidePos = self.$refs.stage.offset();\r\n\r\n        rez = {\r\n          top: thumbPos.top - slidePos.top + parseFloat($thumb.css(\"border-top-width\") || 0),\r\n          left: thumbPos.left - slidePos.left + parseFloat($thumb.css(\"border-left-width\") || 0),\r\n          width: $thumb.width(),\r\n          height: $thumb.height(),\r\n          scaleX: 1,\r\n          scaleY: 1\r\n        };\r\n      }\r\n\r\n      return rez;\r\n    },\r\n\r\n    // Final adjustments after current gallery item is moved to position\r\n    // and it`s content is loaded\r\n    // ==================================================================\r\n\r\n    complete: function() {\r\n      var self = this,\r\n        current = self.current,\r\n        slides = {};\r\n\r\n      if (current.isMoved || !current.isLoaded) {\r\n        return;\r\n      }\r\n\r\n      if (!current.isComplete) {\r\n        current.isComplete = true;\r\n\r\n        current.$slide.siblings().trigger(\"onReset\");\r\n\r\n        self.preload(\"inline\");\r\n\r\n        // Trigger any CSS3 transiton inside the slide\r\n        forceRedraw(current.$slide);\r\n\r\n        current.$slide.addClass(\"fancybox-slide--complete\");\r\n\r\n        // Remove unnecessary slides\r\n        $.each(self.slides, function(key, slide) {\r\n          if (slide.pos >= self.currPos - 1 && slide.pos <= self.currPos + 1) {\r\n            slides[slide.pos] = slide;\r\n          } else if (slide) {\r\n            $.fancybox.stop(slide.$slide);\r\n\r\n            slide.$slide.off().remove();\r\n          }\r\n        });\r\n\r\n        self.slides = slides;\r\n      }\r\n\r\n      self.isAnimating = false;\r\n\r\n      self.updateCursor();\r\n\r\n      self.trigger(\"afterShow\");\r\n\r\n      // Play first html5 video/audio\r\n      current.$slide\r\n        .find(\"video,audio\")\r\n        .filter(\":visible:first\")\r\n        .trigger(\"play\");\r\n\r\n      // Try to focus on the first focusable element\r\n      if (\r\n        $(document.activeElement).is(\"[disabled]\") ||\r\n        (current.opts.autoFocus && !(current.type == \"image\" || current.type === \"iframe\"))\r\n      ) {\r\n        self.focus();\r\n      }\r\n    },\r\n\r\n    // Preload next and previous slides\r\n    // ================================\r\n\r\n    preload: function(type) {\r\n      var self = this,\r\n        next = self.slides[self.currPos + 1],\r\n        prev = self.slides[self.currPos - 1];\r\n\r\n      if (next && next.type === type) {\r\n        self.loadSlide(next);\r\n      }\r\n\r\n      if (prev && prev.type === type) {\r\n        self.loadSlide(prev);\r\n      }\r\n    },\r\n\r\n    // Try to find and focus on the first focusable element\r\n    // ====================================================\r\n\r\n    focus: function() {\r\n      var current = this.current,\r\n        $el;\r\n\r\n      if (this.isClosing) {\r\n        return;\r\n      }\r\n\r\n      if (current && current.isComplete && current.$content) {\r\n        // Look for first input with autofocus attribute\r\n        $el = current.$content.find(\"input[autofocus]:enabled:visible:first\");\r\n\r\n        if (!$el.length) {\r\n          $el = current.$content.find(\"button,:input,[tabindex],a\").filter(\":enabled:visible:first\");\r\n        }\r\n\r\n        $el = $el && $el.length ? $el : current.$content;\r\n\r\n        $el.trigger(\"focus\");\r\n      }\r\n    },\r\n\r\n    // Activates current instance - brings container to the front and enables keyboard,\r\n    // notifies other instances about deactivating\r\n    // =================================================================================\r\n\r\n    activate: function() {\r\n      var self = this;\r\n\r\n      // Deactivate all instances\r\n      $(\".fancybox-container\").each(function() {\r\n        var instance = $(this).data(\"FancyBox\");\r\n\r\n        // Skip self and closing instances\r\n        if (instance && instance.id !== self.id && !instance.isClosing) {\r\n          instance.trigger(\"onDeactivate\");\r\n\r\n          instance.removeEvents();\r\n\r\n          instance.isVisible = false;\r\n        }\r\n      });\r\n\r\n      self.isVisible = true;\r\n\r\n      if (self.current || self.isIdle) {\r\n        self.update();\r\n\r\n        self.updateControls();\r\n      }\r\n\r\n      self.trigger(\"onActivate\");\r\n\r\n      self.addEvents();\r\n    },\r\n\r\n    // Start closing procedure\r\n    // This will start \"zoom-out\" animation if needed and clean everything up afterwards\r\n    // =================================================================================\r\n\r\n    close: function(e, d) {\r\n      var self = this,\r\n        current = self.current,\r\n        effect,\r\n        duration,\r\n        $content,\r\n        domRect,\r\n        opacity,\r\n        start,\r\n        end;\r\n\r\n      var done = function() {\r\n        self.cleanUp(e);\r\n      };\r\n\r\n      if (self.isClosing) {\r\n        return false;\r\n      }\r\n\r\n      self.isClosing = true;\r\n\r\n      // If beforeClose callback prevents closing, make sure content is centered\r\n      if (self.trigger(\"beforeClose\", e) === false) {\r\n        self.isClosing = false;\r\n\r\n        requestAFrame(function() {\r\n          self.update();\r\n        });\r\n\r\n        return false;\r\n      }\r\n\r\n      // Remove all events\r\n      // If there are multiple instances, they will be set again by \"activate\" method\r\n      self.removeEvents();\r\n\r\n      if (current.timouts) {\r\n        clearTimeout(current.timouts);\r\n      }\r\n\r\n      $content = current.$content;\r\n      effect = current.opts.animationEffect;\r\n      duration = $.isNumeric(d) ? d : effect ? current.opts.animationDuration : 0;\r\n\r\n      // Remove other slides\r\n      current.$slide\r\n        .off(transitionEnd)\r\n        .removeClass(\"fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated\");\r\n\r\n      current.$slide\r\n        .siblings()\r\n        .trigger(\"onReset\")\r\n        .remove();\r\n\r\n      // Trigger animations\r\n      if (duration) {\r\n        self.$refs.container.removeClass(\"fancybox-is-open\").addClass(\"fancybox-is-closing\");\r\n      }\r\n\r\n      // Clean up\r\n      self.hideLoading(current);\r\n\r\n      self.hideControls();\r\n\r\n      self.updateCursor();\r\n\r\n      // Check if possible to zoom-out\r\n      if (\r\n        effect === \"zoom\" &&\r\n        !(e !== true && $content && duration && current.type === \"image\" && !current.hasError && (end = self.getThumbPos(current)))\r\n      ) {\r\n        effect = \"fade\";\r\n      }\r\n\r\n      if (effect === \"zoom\") {\r\n        $.fancybox.stop($content);\r\n\r\n        domRect = $.fancybox.getTranslate($content);\r\n\r\n        start = {\r\n          top: domRect.top,\r\n          left: domRect.left,\r\n          scaleX: domRect.width / end.width,\r\n          scaleY: domRect.height / end.height,\r\n          width: end.width,\r\n          height: end.height\r\n        };\r\n\r\n        // Check if we need to animate opacity\r\n        opacity = current.opts.zoomOpacity;\r\n\r\n        if (opacity == \"auto\") {\r\n          opacity = Math.abs(current.width / current.height - end.width / end.height) > 0.1;\r\n        }\r\n\r\n        if (opacity) {\r\n          end.opacity = 0;\r\n        }\r\n\r\n        $.fancybox.setTranslate($content, start);\r\n\r\n        forceRedraw($content);\r\n\r\n        $.fancybox.animate($content, end, duration, done);\r\n\r\n        return true;\r\n      }\r\n\r\n      if (effect && duration) {\r\n        // If skip animation\r\n        if (e === true) {\r\n          setTimeout(done, duration);\r\n        } else {\r\n          $.fancybox.animate(\r\n            current.$slide.removeClass(\"fancybox-slide--current\"),\r\n            \"fancybox-animated fancybox-slide--previous fancybox-fx-\" + effect,\r\n            duration,\r\n            done\r\n          );\r\n        }\r\n      } else {\r\n        done();\r\n      }\r\n\r\n      return true;\r\n    },\r\n\r\n    // Final adjustments after removing the instance\r\n    // =============================================\r\n\r\n    cleanUp: function(e) {\r\n      var self = this,\r\n        $body = $(\"body\"),\r\n        instance,\r\n        scrollTop;\r\n\r\n      self.current.$slide.trigger(\"onReset\");\r\n\r\n      self.$refs.container.empty().remove();\r\n\r\n      self.trigger(\"afterClose\", e);\r\n\r\n      // Place back focus\r\n      if (self.$lastFocus && !!self.current.opts.backFocus) {\r\n        self.$lastFocus.trigger(\"focus\");\r\n      }\r\n\r\n      self.current = null;\r\n\r\n      // Check if there are other instances\r\n      instance = $.fancybox.getInstance();\r\n\r\n      if (instance) {\r\n        instance.activate();\r\n      } else {\r\n        $body.removeClass(\"fancybox-active compensate-for-scrollbar\");\r\n\r\n        $(\"#fancybox-style-noscroll\").remove();\r\n      }\r\n    },\r\n\r\n    // Call callback and trigger an event\r\n    // ==================================\r\n\r\n    trigger: function(name, slide) {\r\n      var args = Array.prototype.slice.call(arguments, 1),\r\n        self = this,\r\n        obj = slide && slide.opts ? slide : self.current,\r\n        rez;\r\n\r\n      if (obj) {\r\n        args.unshift(obj);\r\n      } else {\r\n        obj = self;\r\n      }\r\n\r\n      args.unshift(self);\r\n\r\n      if ($.isFunction(obj.opts[name])) {\r\n        rez = obj.opts[name].apply(obj, args);\r\n      }\r\n\r\n      if (rez === false) {\r\n        return rez;\r\n      }\r\n\r\n      if (name === \"afterClose\" || !self.$refs) {\r\n        $D.trigger(name + \".fb\", args);\r\n      } else {\r\n        self.$refs.container.trigger(name + \".fb\", args);\r\n      }\r\n    },\r\n\r\n    // Update infobar values, navigation button states and reveal caption\r\n    // ==================================================================\r\n\r\n    updateControls: function(force) {\r\n      var self = this,\r\n        current = self.current,\r\n        index = current.index,\r\n        caption = current.opts.caption,\r\n        $container = self.$refs.container,\r\n        $caption = self.$refs.caption;\r\n\r\n      // Recalculate content dimensions\r\n      current.$slide.trigger(\"refresh\");\r\n\r\n      self.$caption = caption && caption.length ? $caption.html(caption) : null;\r\n\r\n      if (!self.isHiddenControls && !self.isIdle) {\r\n        self.showControls();\r\n      }\r\n\r\n      // Update info and navigation elements\r\n      $container.find(\"[data-fancybox-count]\").html(self.group.length);\r\n      $container.find(\"[data-fancybox-index]\").html(index + 1);\r\n\r\n      $container.find(\"[data-fancybox-prev]\").toggleClass(\"disabled\", !current.opts.loop && index <= 0);\r\n      $container.find(\"[data-fancybox-next]\").toggleClass(\"disabled\", !current.opts.loop && index >= self.group.length - 1);\r\n\r\n      if (current.type === \"image\") {\r\n        // Re-enable buttons; update download button source\r\n        $container\r\n          .find(\"[data-fancybox-zoom]\")\r\n          .show()\r\n          .end()\r\n          .find(\"[data-fancybox-download]\")\r\n          .attr(\"href\", current.opts.image.src || current.src)\r\n          .show();\r\n      } else if (current.opts.toolbar) {\r\n        $container.find(\"[data-fancybox-download],[data-fancybox-zoom]\").hide();\r\n      }\r\n    },\r\n\r\n    // Hide toolbar and caption\r\n    // ========================\r\n\r\n    hideControls: function() {\r\n      this.isHiddenControls = true;\r\n\r\n      this.$refs.container.removeClass(\"fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav\");\r\n    },\r\n\r\n    showControls: function() {\r\n      var self = this,\r\n        opts = self.current ? self.current.opts : self.opts,\r\n        $container = self.$refs.container;\r\n\r\n      self.isHiddenControls = false;\r\n      self.idleSecondsCounter = 0;\r\n\r\n      $container\r\n        .toggleClass(\"fancybox-show-toolbar\", !!(opts.toolbar && opts.buttons))\r\n        .toggleClass(\"fancybox-show-infobar\", !!(opts.infobar && self.group.length > 1))\r\n        .toggleClass(\"fancybox-show-nav\", !!(opts.arrows && self.group.length > 1))\r\n        .toggleClass(\"fancybox-is-modal\", !!opts.modal);\r\n\r\n      if (self.$caption) {\r\n        $container.addClass(\"fancybox-show-caption \");\r\n      } else {\r\n        $container.removeClass(\"fancybox-show-caption\");\r\n      }\r\n    },\r\n\r\n    // Toggle toolbar and caption\r\n    // ==========================\r\n\r\n    toggleControls: function() {\r\n      if (this.isHiddenControls) {\r\n        this.showControls();\r\n      } else {\r\n        this.hideControls();\r\n      }\r\n    }\r\n  });\r\n\r\n  $.fancybox = {\r\n    version: \"3.3.5\",\r\n    defaults: defaults,\r\n\r\n    // Get current instance and execute a command.\r\n    //\r\n    // Examples of usage:\r\n    //\r\n    //   $instance = $.fancybox.getInstance();\r\n    //   $.fancybox.getInstance().jumpTo( 1 );\r\n    //   $.fancybox.getInstance( 'jumpTo', 1 );\r\n    //   $.fancybox.getInstance( function() {\r\n    //       console.info( this.currIndex );\r\n    //   });\r\n    // ======================================================\r\n\r\n    getInstance: function(command) {\r\n      var instance = $('.fancybox-container:not(\".fancybox-is-closing\"):last').data(\"FancyBox\"),\r\n        args = Array.prototype.slice.call(arguments, 1);\r\n\r\n      if (instance instanceof FancyBox) {\r\n        if ($.type(command) === \"string\") {\r\n          instance[command].apply(instance, args);\r\n        } else if ($.type(command) === \"function\") {\r\n          command.apply(instance, args);\r\n        }\r\n\r\n        return instance;\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    // Create new instance\r\n    // ===================\r\n\r\n    open: function(items, opts, index) {\r\n      return new FancyBox(items, opts, index);\r\n    },\r\n\r\n    // Close current or all instances\r\n    // ==============================\r\n\r\n    close: function(all) {\r\n      var instance = this.getInstance();\r\n\r\n      if (instance) {\r\n        instance.close();\r\n\r\n        // Try to find and close next instance\r\n\r\n        if (all === true) {\r\n          this.close();\r\n        }\r\n      }\r\n    },\r\n\r\n    // Close all instances and unbind all events\r\n    // =========================================\r\n\r\n    destroy: function() {\r\n      this.close(true);\r\n\r\n      $D.add(\"body\").off(\"click.fb-start\", \"**\");\r\n    },\r\n\r\n    // Try to detect mobile devices\r\n    // ============================\r\n\r\n    isMobile:\r\n      document.createTouch !== undefined && /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),\r\n\r\n    // Detect if 'translate3d' support is available\r\n    // ============================================\r\n\r\n    use3d: (function() {\r\n      var div = document.createElement(\"div\");\r\n\r\n      return (\r\n        window.getComputedStyle &&\r\n        window.getComputedStyle(div) &&\r\n        window.getComputedStyle(div).getPropertyValue(\"transform\") &&\r\n        !(document.documentMode && document.documentMode < 11)\r\n      );\r\n    })(),\r\n\r\n    // Helper function to get current visual state of an element\r\n    // returns array[ top, left, horizontal-scale, vertical-scale, opacity ]\r\n    // =====================================================================\r\n\r\n    getTranslate: function($el) {\r\n      var domRect;\r\n\r\n      if (!$el || !$el.length) {\r\n        return false;\r\n      }\r\n\r\n      domRect = $el[0].getBoundingClientRect();\r\n\r\n      return {\r\n        top: domRect.top || 0,\r\n        left: domRect.left || 0,\r\n        width: domRect.width,\r\n        height: domRect.height,\r\n        opacity: parseFloat($el.css(\"opacity\"))\r\n      };\r\n    },\r\n\r\n    // Shortcut for setting \"translate3d\" properties for element\r\n    // Can set be used to set opacity, too\r\n    // ========================================================\r\n\r\n    setTranslate: function($el, props) {\r\n      var str = \"\",\r\n        css = {};\r\n\r\n      if (!$el || !props) {\r\n        return;\r\n      }\r\n\r\n      if (props.left !== undefined || props.top !== undefined) {\r\n        str =\r\n          (props.left === undefined ? $el.position().left : props.left) +\r\n          \"px, \" +\r\n          (props.top === undefined ? $el.position().top : props.top) +\r\n          \"px\";\r\n\r\n        if (this.use3d) {\r\n          str = \"translate3d(\" + str + \", 0px)\";\r\n        } else {\r\n          str = \"translate(\" + str + \")\";\r\n        }\r\n      }\r\n\r\n      if (props.scaleX !== undefined && props.scaleY !== undefined) {\r\n        str = (str.length ? str + \" \" : \"\") + \"scale(\" + props.scaleX + \", \" + props.scaleY + \")\";\r\n      }\r\n\r\n      if (str.length) {\r\n        css.transform = str;\r\n      }\r\n\r\n      if (props.opacity !== undefined) {\r\n        css.opacity = props.opacity;\r\n      }\r\n\r\n      if (props.width !== undefined) {\r\n        css.width = props.width;\r\n      }\r\n\r\n      if (props.height !== undefined) {\r\n        css.height = props.height;\r\n      }\r\n\r\n      return $el.css(css);\r\n    },\r\n\r\n    // Simple CSS transition handler\r\n    // =============================\r\n\r\n    animate: function($el, to, duration, callback, leaveAnimationName) {\r\n      var final = false;\r\n\r\n      if ($.isFunction(duration)) {\r\n        callback = duration;\r\n        duration = null;\r\n      }\r\n\r\n      if (!$.isPlainObject(to)) {\r\n        $el.removeAttr(\"style\");\r\n      }\r\n\r\n      $.fancybox.stop($el);\r\n\r\n      $el.on(transitionEnd, function(e) {\r\n        // Skip events from child elements and z-index change\r\n        if (e && e.originalEvent && (!$el.is(e.originalEvent.target) || e.originalEvent.propertyName == \"z-index\")) {\r\n          return;\r\n        }\r\n\r\n        $.fancybox.stop($el);\r\n\r\n        if (final) {\r\n          $.fancybox.setTranslate($el, final);\r\n        }\r\n\r\n        if ($.isPlainObject(to)) {\r\n          if (leaveAnimationName === false) {\r\n            $el.removeAttr(\"style\");\r\n          }\r\n        } else if (leaveAnimationName !== true) {\r\n          $el.removeClass(to);\r\n        }\r\n\r\n        if ($.isFunction(callback)) {\r\n          callback(e);\r\n        }\r\n      });\r\n\r\n      if ($.isNumeric(duration)) {\r\n        $el.css(\"transition-duration\", duration + \"ms\");\r\n      }\r\n\r\n      // Start animation by changing CSS properties or class name\r\n      if ($.isPlainObject(to)) {\r\n        if (to.scaleX !== undefined && to.scaleY !== undefined) {\r\n          final = $.extend({}, to, {\r\n            width: $el.width() * to.scaleX,\r\n            height: $el.height() * to.scaleY,\r\n            scaleX: 1,\r\n            scaleY: 1\r\n          });\r\n\r\n          delete to.width;\r\n          delete to.height;\r\n\r\n          if ($el.parent().hasClass(\"fancybox-slide--image\")) {\r\n            $el.parent().addClass(\"fancybox-is-scaling\");\r\n          }\r\n        }\r\n\r\n        $.fancybox.setTranslate($el, to);\r\n      } else {\r\n        $el.addClass(to);\r\n      }\r\n\r\n      // Make sure that `transitionend` callback gets fired\r\n      $el.data(\r\n        \"timer\",\r\n        setTimeout(function() {\r\n          $el.trigger(\"transitionend\");\r\n        }, duration + 16)\r\n      );\r\n    },\r\n\r\n    stop: function($el) {\r\n      if ($el && $el.length) {\r\n        clearTimeout($el.data(\"timer\"));\r\n\r\n        $el.off(\"transitionend\").css(\"transition-duration\", \"\");\r\n\r\n        $el.parent().removeClass(\"fancybox-is-scaling\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // Default click handler for \"fancyboxed\" links\r\n  // ============================================\r\n\r\n  function _run(e, opts) {\r\n    var items = [],\r\n      index = 0,\r\n      $target,\r\n      value;\r\n\r\n    // Avoid opening multiple times\r\n    if (e && e.isDefaultPrevented()) {\r\n      return;\r\n    }\r\n\r\n    e.preventDefault();\r\n\r\n    opts = e && e.data ? e.data.options : opts || {};\r\n\r\n    $target = opts.$target || $(e.currentTarget);\r\n    value = $target.attr(\"data-fancybox\") || \"\";\r\n\r\n    // Get all related items and find index for clicked one\r\n    if (value) {\r\n      items = opts.selector ? $(opts.selector) : e.data ? e.data.items : [];\r\n      items = items.length ? items.filter('[data-fancybox=\"' + value + '\"]') : $('[data-fancybox=\"' + value + '\"]');\r\n\r\n      index = items.index($target);\r\n\r\n      // Sometimes current item can not be found (for example, if some script clones items)\r\n      if (index < 0) {\r\n        index = 0;\r\n      }\r\n    } else {\r\n      items = [$target];\r\n    }\r\n\r\n    $.fancybox.open(items, opts, index);\r\n  }\r\n\r\n  // Create a jQuery plugin\r\n  // ======================\r\n\r\n  $.fn.fancybox = function(options) {\r\n    var selector;\r\n\r\n    options = options || {};\r\n    selector = options.selector || false;\r\n\r\n    if (selector) {\r\n      // Use body element instead of document so it executes first\r\n      $(\"body\")\r\n        .off(\"click.fb-start\", selector)\r\n        .on(\"click.fb-start\", selector, {options: options}, _run);\r\n    } else {\r\n      this.off(\"click.fb-start\").on(\r\n        \"click.fb-start\",\r\n        {\r\n          items: this,\r\n          options: options\r\n        },\r\n        _run\r\n      );\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  // Self initializing plugin for all elements having `data-fancybox` attribute\r\n  // ==========================================================================\r\n\r\n  $D.on(\"click.fb-start\", \"[data-fancybox]\", _run);\r\n\r\n  // Enable \"trigger elements\"\r\n  // =========================\r\n\r\n  $D.on(\"click.fb-start\", \"[data-trigger]\", function(e) {\r\n    _run(e, {\r\n      $target: $('[data-fancybox=\"' + $(e.currentTarget).attr(\"data-trigger\") + '\"]').eq($(e.currentTarget).attr(\"data-index\") || 0),\r\n      $trigger: $(this)\r\n    });\r\n  });\r\n})(window, document, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// Media\r\n// Adds additional media type support\r\n//\r\n// ==========================================================================\r\n(function($) {\r\n  \"use strict\";\r\n\r\n  // Formats matching url to final form\r\n\r\n  var format = function(url, rez, params) {\r\n    if (!url) {\r\n      return;\r\n    }\r\n\r\n    params = params || \"\";\r\n\r\n    if ($.type(params) === \"object\") {\r\n      params = $.param(params, true);\r\n    }\r\n\r\n    $.each(rez, function(key, value) {\r\n      url = url.replace(\"$\" + key, value || \"\");\r\n    });\r\n\r\n    if (params.length) {\r\n      url += (url.indexOf(\"?\") > 0 ? \"&\" : \"?\") + params;\r\n    }\r\n\r\n    return url;\r\n  };\r\n\r\n  // Object containing properties for each media type\r\n\r\n  var defaults = {\r\n    youtube: {\r\n      matcher: /(youtube\\.com|youtu\\.be|youtube\\-nocookie\\.com)\\/(watch\\?(.*&)?v=|v\\/|u\\/|embed\\/?)?(videoseries\\?list=(.*)|[\\w-]{11}|\\?listType=(.*)&list=(.*))(.*)/i,\r\n      params: {\r\n        autoplay: 1,\r\n        autohide: 1,\r\n        fs: 1,\r\n        rel: 0,\r\n        hd: 1,\r\n        wmode: \"transparent\",\r\n        enablejsapi: 1,\r\n        html5: 1\r\n      },\r\n      paramPlace: 8,\r\n      type: \"iframe\",\r\n      url: \"//www.youtube.com/embed/$4\",\r\n      thumb: \"//img.youtube.com/vi/$4/hqdefault.jpg\"\r\n    },\r\n\r\n    vimeo: {\r\n      matcher: /^.+vimeo.com\\/(.*\\/)?([\\d]+)(.*)?/,\r\n      params: {\r\n        autoplay: 1,\r\n        hd: 1,\r\n        show_title: 1,\r\n        show_byline: 1,\r\n        show_portrait: 0,\r\n        fullscreen: 1,\r\n        api: 1\r\n      },\r\n      paramPlace: 3,\r\n      type: \"iframe\",\r\n      url: \"//player.vimeo.com/video/$2\"\r\n    },\r\n\r\n    instagram: {\r\n      matcher: /(instagr\\.am|instagram\\.com)\\/p\\/([a-zA-Z0-9_\\-]+)\\/?/i,\r\n      type: \"image\",\r\n      url: \"//$1/p/$2/media/?size=l\"\r\n    },\r\n\r\n    // Examples:\r\n    // http://maps.google.com/?ll=48.857995,2.294297&spn=0.007666,0.021136&t=m&z=16\r\n    // https://www.google.com/maps/@37.7852006,-122.4146355,14.65z\r\n    // https://www.google.com/maps/@52.2111123,2.9237542,6.61z?hl=en\r\n    // https://www.google.com/maps/place/Googleplex/@37.4220041,-122.0833494,17z/data=!4m5!3m4!1s0x0:0x6c296c66619367e0!8m2!3d37.4219998!4d-122.0840572\r\n    gmap_place: {\r\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(((maps\\/(place\\/(.*)\\/)?\\@(.*),(\\d+.?\\d+?)z))|(\\?ll=))(.*)?/i,\r\n      type: \"iframe\",\r\n      url: function(rez) {\r\n        return (\r\n          \"//maps.google.\" +\r\n          rez[2] +\r\n          \"/?ll=\" +\r\n          (rez[9] ? rez[9] + \"&z=\" + Math.floor(rez[10]) + (rez[12] ? rez[12].replace(/^\\//, \"&\") : \"\") : rez[12] + \"\").replace(/\\?/, \"&\") +\r\n          \"&output=\" +\r\n          (rez[12] && rez[12].indexOf(\"layer=c\") > 0 ? \"svembed\" : \"embed\")\r\n        );\r\n      }\r\n    },\r\n\r\n    // Examples:\r\n    // https://www.google.com/maps/search/Empire+State+Building/\r\n    // https://www.google.com/maps/search/?api=1&query=centurylink+field\r\n    // https://www.google.com/maps/search/?api=1&query=47.5951518,-122.3316393\r\n    gmap_search: {\r\n      matcher: /(maps\\.)?google\\.([a-z]{2,3}(\\.[a-z]{2})?)\\/(maps\\/search\\/)(.*)/i,\r\n      type: \"iframe\",\r\n      url: function(rez) {\r\n        return \"//maps.google.\" + rez[2] + \"/maps?q=\" + rez[5].replace(\"query=\", \"q=\").replace(\"api=1\", \"\") + \"&output=embed\";\r\n      }\r\n    }\r\n  };\r\n\r\n  $(document).on(\"objectNeedsType.fb\", function(e, instance, item) {\r\n    var url = item.src || \"\",\r\n      type = false,\r\n      media,\r\n      thumb,\r\n      rez,\r\n      params,\r\n      urlParams,\r\n      paramObj,\r\n      provider;\r\n\r\n    media = $.extend(true, {}, defaults, item.opts.media);\r\n\r\n    // Look for any matching media type\r\n    $.each(media, function(providerName, providerOpts) {\r\n      rez = url.match(providerOpts.matcher);\r\n\r\n      if (!rez) {\r\n        return;\r\n      }\r\n\r\n      type = providerOpts.type;\r\n      provider = providerName;\r\n      paramObj = {};\r\n\r\n      if (providerOpts.paramPlace && rez[providerOpts.paramPlace]) {\r\n        urlParams = rez[providerOpts.paramPlace];\r\n\r\n        if (urlParams[0] == \"?\") {\r\n          urlParams = urlParams.substring(1);\r\n        }\r\n\r\n        urlParams = urlParams.split(\"&\");\r\n\r\n        for (var m = 0; m < urlParams.length; ++m) {\r\n          var p = urlParams[m].split(\"=\", 2);\r\n\r\n          if (p.length == 2) {\r\n            paramObj[p[0]] = decodeURIComponent(p[1].replace(/\\+/g, \" \"));\r\n          }\r\n        }\r\n      }\r\n\r\n      params = $.extend(true, {}, providerOpts.params, item.opts[providerName], paramObj);\r\n\r\n      url =\r\n        $.type(providerOpts.url) === \"function\" ? providerOpts.url.call(this, rez, params, item) : format(providerOpts.url, rez, params);\r\n\r\n      thumb =\r\n        $.type(providerOpts.thumb) === \"function\" ? providerOpts.thumb.call(this, rez, params, item) : format(providerOpts.thumb, rez);\r\n\r\n      if (providerName === \"youtube\") {\r\n        url = url.replace(/&t=((\\d+)m)?(\\d+)s/, function(match, p1, m, s) {\r\n          return \"&start=\" + ((m ? parseInt(m, 10) * 60 : 0) + parseInt(s, 10));\r\n        });\r\n      } else if (providerName === \"vimeo\") {\r\n        url = url.replace(\"&%23\", \"#\");\r\n      }\r\n\r\n      return false;\r\n    });\r\n\r\n    // If it is found, then change content type and update the url\r\n\r\n    if (type) {\r\n      if (!item.opts.thumb && !(item.opts.$thumb && item.opts.$thumb.length)) {\r\n        item.opts.thumb = thumb;\r\n      }\r\n\r\n      if (type === \"iframe\") {\r\n        item.opts = $.extend(true, item.opts, {\r\n          iframe: {\r\n            preload: false,\r\n            attr: {\r\n              scrolling: \"no\"\r\n            }\r\n          }\r\n        });\r\n      }\r\n\r\n      $.extend(item, {\r\n        type: type,\r\n        src: url,\r\n        origSrc: item.src,\r\n        contentSource: provider,\r\n        contentType: type === \"image\" ? \"image\" : provider == \"gmap_place\" || provider == \"gmap_search\" ? \"map\" : \"video\"\r\n      });\r\n    } else if (url) {\r\n      item.type = item.opts.defaultType;\r\n    }\r\n  });\r\n})(window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// Guestures\r\n// Adds touch guestures, handles click and tap events\r\n//\r\n// ==========================================================================\r\n(function(window, document, $) {\r\n  \"use strict\";\r\n\r\n  var requestAFrame = (function() {\r\n    return (\r\n      window.requestAnimationFrame ||\r\n      window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      // if all else fails, use setTimeout\r\n      function(callback) {\r\n        return window.setTimeout(callback, 1000 / 60);\r\n      }\r\n    );\r\n  })();\r\n\r\n  var cancelAFrame = (function() {\r\n    return (\r\n      window.cancelAnimationFrame ||\r\n      window.webkitCancelAnimationFrame ||\r\n      window.mozCancelAnimationFrame ||\r\n      window.oCancelAnimationFrame ||\r\n      function(id) {\r\n        window.clearTimeout(id);\r\n      }\r\n    );\r\n  })();\r\n\r\n  var getPointerXY = function(e) {\r\n    var result = [];\r\n\r\n    e = e.originalEvent || e || window.e;\r\n    e = e.touches && e.touches.length ? e.touches : e.changedTouches && e.changedTouches.length ? e.changedTouches : [e];\r\n\r\n    for (var key in e) {\r\n      if (e[key].pageX) {\r\n        result.push({\r\n          x: e[key].pageX,\r\n          y: e[key].pageY\r\n        });\r\n      } else if (e[key].clientX) {\r\n        result.push({\r\n          x: e[key].clientX,\r\n          y: e[key].clientY\r\n        });\r\n      }\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  var distance = function(point2, point1, what) {\r\n    if (!point1 || !point2) {\r\n      return 0;\r\n    }\r\n\r\n    if (what === \"x\") {\r\n      return point2.x - point1.x;\r\n    } else if (what === \"y\") {\r\n      return point2.y - point1.y;\r\n    }\r\n\r\n    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));\r\n  };\r\n\r\n  var isClickable = function($el) {\r\n    if (\r\n      $el.is('a,area,button,[role=\"button\"],input,label,select,summary,textarea,video,audio') ||\r\n      $.isFunction($el.get(0).onclick) ||\r\n      $el.data(\"selectable\")\r\n    ) {\r\n      return true;\r\n    }\r\n\r\n    // Check for attributes like data-fancybox-next or data-fancybox-close\r\n    for (var i = 0, atts = $el[0].attributes, n = atts.length; i < n; i++) {\r\n      if (atts[i].nodeName.substr(0, 14) === \"data-fancybox-\") {\r\n        return true;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  };\r\n\r\n  var hasScrollbars = function(el) {\r\n    var overflowY = window.getComputedStyle(el)[\"overflow-y\"],\r\n      overflowX = window.getComputedStyle(el)[\"overflow-x\"],\r\n      vertical = (overflowY === \"scroll\" || overflowY === \"auto\") && el.scrollHeight > el.clientHeight,\r\n      horizontal = (overflowX === \"scroll\" || overflowX === \"auto\") && el.scrollWidth > el.clientWidth;\r\n\r\n    return vertical || horizontal;\r\n  };\r\n\r\n  var isScrollable = function($el) {\r\n    var rez = false;\r\n\r\n    while (true) {\r\n      rez = hasScrollbars($el.get(0));\r\n\r\n      if (rez) {\r\n        break;\r\n      }\r\n\r\n      $el = $el.parent();\r\n\r\n      if (!$el.length || $el.hasClass(\"fancybox-stage\") || $el.is(\"body\")) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    return rez;\r\n  };\r\n\r\n  var Guestures = function(instance) {\r\n    var self = this;\r\n\r\n    self.instance = instance;\r\n\r\n    self.$bg = instance.$refs.bg;\r\n    self.$stage = instance.$refs.stage;\r\n    self.$container = instance.$refs.container;\r\n\r\n    self.destroy();\r\n\r\n    self.$container.on(\"touchstart.fb.touch mousedown.fb.touch\", $.proxy(self, \"ontouchstart\"));\r\n  };\r\n\r\n  Guestures.prototype.destroy = function() {\r\n    this.$container.off(\".fb.touch\");\r\n  };\r\n\r\n  Guestures.prototype.ontouchstart = function(e) {\r\n    var self = this,\r\n      $target = $(e.target),\r\n      instance = self.instance,\r\n      current = instance.current,\r\n      $content = current.$content,\r\n      isTouchDevice = e.type == \"touchstart\";\r\n\r\n    // Do not respond to both (touch and mouse) events\r\n    if (isTouchDevice) {\r\n      self.$container.off(\"mousedown.fb.touch\");\r\n    }\r\n\r\n    // Ignore right click\r\n    if (e.originalEvent && e.originalEvent.button == 2) {\r\n      return;\r\n    }\r\n\r\n    // Ignore taping on links, buttons, input elements\r\n    if (!$target.length || isClickable($target) || isClickable($target.parent())) {\r\n      return;\r\n    }\r\n\r\n    // Ignore clicks on the scrollbar\r\n    if (!$target.is(\"img\") && e.originalEvent.clientX > $target[0].clientWidth + $target.offset().left) {\r\n      return;\r\n    }\r\n\r\n    // Ignore clicks while zooming or closing\r\n    if (!current || instance.isAnimating || instance.isClosing) {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n\r\n      return;\r\n    }\r\n\r\n    self.realPoints = self.startPoints = getPointerXY(e);\r\n\r\n    if (!self.startPoints.length) {\r\n      return;\r\n    }\r\n\r\n    e.stopPropagation();\r\n\r\n    self.startEvent = e;\r\n\r\n    self.canTap = true;\r\n    self.$target = $target;\r\n    self.$content = $content;\r\n    self.opts = current.opts.touch;\r\n\r\n    self.isPanning = false;\r\n    self.isSwiping = false;\r\n    self.isZooming = false;\r\n    self.isScrolling = false;\r\n\r\n    self.startTime = new Date().getTime();\r\n    self.distanceX = self.distanceY = self.distance = 0;\r\n\r\n    self.canvasWidth = Math.round(current.$slide[0].clientWidth);\r\n    self.canvasHeight = Math.round(current.$slide[0].clientHeight);\r\n\r\n    self.contentLastPos = null;\r\n    self.contentStartPos = $.fancybox.getTranslate(self.$content) || {top: 0, left: 0};\r\n    self.sliderStartPos = self.sliderLastPos || $.fancybox.getTranslate(current.$slide);\r\n\r\n    // Since position will be absolute, but we need to make it relative to the stage\r\n    self.stagePos = $.fancybox.getTranslate(instance.$refs.stage);\r\n\r\n    self.sliderStartPos.top -= self.stagePos.top;\r\n    self.sliderStartPos.left -= self.stagePos.left;\r\n\r\n    self.contentStartPos.top -= self.stagePos.top;\r\n    self.contentStartPos.left -= self.stagePos.left;\r\n\r\n    $(document)\r\n      .off(\".fb.touch\")\r\n      .on(isTouchDevice ? \"touchend.fb.touch touchcancel.fb.touch\" : \"mouseup.fb.touch mouseleave.fb.touch\", $.proxy(self, \"ontouchend\"))\r\n      .on(isTouchDevice ? \"touchmove.fb.touch\" : \"mousemove.fb.touch\", $.proxy(self, \"ontouchmove\"));\r\n\r\n    if ($.fancybox.isMobile) {\r\n      document.addEventListener(\"scroll\", self.onscroll, true);\r\n    }\r\n\r\n    if (!(self.opts || instance.canPan()) || !($target.is(self.$stage) || self.$stage.find($target).length)) {\r\n      if ($target.is(\".fancybox-image\")) {\r\n        e.preventDefault();\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    if (!($.fancybox.isMobile && (isScrollable($target) || isScrollable($target.parent())))) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    if (self.startPoints.length === 1 || current.hasError) {\r\n      if (self.instance.canPan()) {\r\n        $.fancybox.stop(self.$content);\r\n\r\n        self.$content.css(\"transition-duration\", \"\");\r\n\r\n        self.isPanning = true;\r\n      } else {\r\n        self.isSwiping = true;\r\n      }\r\n\r\n      self.$container.addClass(\"fancybox-controls--isGrabbing\");\r\n    }\r\n\r\n    if (self.startPoints.length === 2 && current.type === \"image\" && (current.isLoaded || current.$ghost)) {\r\n      self.canTap = false;\r\n      self.isSwiping = false;\r\n      self.isPanning = false;\r\n\r\n      self.isZooming = true;\r\n\r\n      $.fancybox.stop(self.$content);\r\n\r\n      self.$content.css(\"transition-duration\", \"\");\r\n\r\n      self.centerPointStartX = (self.startPoints[0].x + self.startPoints[1].x) * 0.5 - $(window).scrollLeft();\r\n      self.centerPointStartY = (self.startPoints[0].y + self.startPoints[1].y) * 0.5 - $(window).scrollTop();\r\n\r\n      self.percentageOfImageAtPinchPointX = (self.centerPointStartX - self.contentStartPos.left) / self.contentStartPos.width;\r\n      self.percentageOfImageAtPinchPointY = (self.centerPointStartY - self.contentStartPos.top) / self.contentStartPos.height;\r\n\r\n      self.startDistanceBetweenFingers = distance(self.startPoints[0], self.startPoints[1]);\r\n    }\r\n  };\r\n\r\n  Guestures.prototype.onscroll = function(e) {\r\n    var self = this;\r\n\r\n    self.isScrolling = true;\r\n\r\n    document.removeEventListener(\"scroll\", self.onscroll, true);\r\n  };\r\n\r\n  Guestures.prototype.ontouchmove = function(e) {\r\n    var self = this,\r\n      $target = $(e.target);\r\n\r\n    // Make sure user has not released over iframe or disabled element\r\n    if (e.originalEvent.buttons !== undefined && e.originalEvent.buttons === 0) {\r\n      self.ontouchend(e);\r\n      return;\r\n    }\r\n\r\n    if (self.isScrolling || !($target.is(self.$stage) || self.$stage.find($target).length)) {\r\n      self.canTap = false;\r\n\r\n      return;\r\n    }\r\n\r\n    self.newPoints = getPointerXY(e);\r\n\r\n    if (!(self.opts || self.instance.canPan()) || !self.newPoints.length || !self.newPoints.length) {\r\n      return;\r\n    }\r\n\r\n    if (!(self.isSwiping && self.isSwiping === true)) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    self.distanceX = distance(self.newPoints[0], self.startPoints[0], \"x\");\r\n    self.distanceY = distance(self.newPoints[0], self.startPoints[0], \"y\");\r\n\r\n    self.distance = distance(self.newPoints[0], self.startPoints[0]);\r\n\r\n    // Skip false ontouchmove events (Chrome)\r\n    if (self.distance > 0) {\r\n      if (self.isSwiping) {\r\n        self.onSwipe(e);\r\n      } else if (self.isPanning) {\r\n        self.onPan();\r\n      } else if (self.isZooming) {\r\n        self.onZoom();\r\n      }\r\n    }\r\n  };\r\n\r\n  Guestures.prototype.onSwipe = function(e) {\r\n    var self = this,\r\n      swiping = self.isSwiping,\r\n      left = self.sliderStartPos.left || 0,\r\n      angle;\r\n\r\n    // If direction is not yet determined\r\n    if (swiping === true) {\r\n      // We need at least 10px distance to correctly calculate an angle\r\n      if (Math.abs(self.distance) > 10) {\r\n        self.canTap = false;\r\n\r\n        if (self.instance.group.length < 2 && self.opts.vertical) {\r\n          self.isSwiping = \"y\";\r\n        } else if (self.instance.isDragging || self.opts.vertical === false || (self.opts.vertical === \"auto\" && $(window).width() > 800)) {\r\n          self.isSwiping = \"x\";\r\n        } else {\r\n          angle = Math.abs(Math.atan2(self.distanceY, self.distanceX) * 180 / Math.PI);\r\n\r\n          self.isSwiping = angle > 45 && angle < 135 ? \"y\" : \"x\";\r\n        }\r\n\r\n        self.canTap = false;\r\n\r\n        if (self.isSwiping === \"y\" && $.fancybox.isMobile && (isScrollable(self.$target) || isScrollable(self.$target.parent()))) {\r\n          self.isScrolling = true;\r\n\r\n          return;\r\n        }\r\n\r\n        self.instance.isDragging = self.isSwiping;\r\n\r\n        // Reset points to avoid jumping, because we dropped first swipes to calculate the angle\r\n        self.startPoints = self.newPoints;\r\n\r\n        $.each(self.instance.slides, function(index, slide) {\r\n          $.fancybox.stop(slide.$slide);\r\n\r\n          slide.$slide.css(\"transition-duration\", \"\");\r\n\r\n          slide.inTransition = false;\r\n\r\n          if (slide.pos === self.instance.current.pos) {\r\n            self.sliderStartPos.left = $.fancybox.getTranslate(slide.$slide).left - $.fancybox.getTranslate(self.instance.$refs.stage).left;\r\n          }\r\n        });\r\n\r\n        // Stop slideshow\r\n        if (self.instance.SlideShow && self.instance.SlideShow.isActive) {\r\n          self.instance.SlideShow.stop();\r\n        }\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    // Sticky edges\r\n    if (swiping == \"x\") {\r\n      if (\r\n        self.distanceX > 0 &&\r\n        (self.instance.group.length < 2 || (self.instance.current.index === 0 && !self.instance.current.opts.loop))\r\n      ) {\r\n        left = left + Math.pow(self.distanceX, 0.8);\r\n      } else if (\r\n        self.distanceX < 0 &&\r\n        (self.instance.group.length < 2 ||\r\n          (self.instance.current.index === self.instance.group.length - 1 && !self.instance.current.opts.loop))\r\n      ) {\r\n        left = left - Math.pow(-self.distanceX, 0.8);\r\n      } else {\r\n        left = left + self.distanceX;\r\n      }\r\n    }\r\n\r\n    self.sliderLastPos = {\r\n      top: swiping == \"x\" ? 0 : self.sliderStartPos.top + self.distanceY,\r\n      left: left\r\n    };\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n\r\n      self.requestId = null;\r\n    }\r\n\r\n    self.requestId = requestAFrame(function() {\r\n      if (self.sliderLastPos) {\r\n        $.each(self.instance.slides, function(index, slide) {\r\n          var pos = slide.pos - self.instance.currPos;\r\n\r\n          $.fancybox.setTranslate(slide.$slide, {\r\n            top: self.sliderLastPos.top,\r\n            left: self.sliderLastPos.left + pos * self.canvasWidth + pos * slide.opts.gutter\r\n          });\r\n        });\r\n\r\n        self.$container.addClass(\"fancybox-is-sliding\");\r\n      }\r\n    });\r\n  };\r\n\r\n  Guestures.prototype.onPan = function() {\r\n    var self = this;\r\n\r\n    // Prevent accidental movement (sometimes, when tapping casually, finger can move a bit)\r\n    if (distance(self.newPoints[0], self.realPoints[0]) < ($.fancybox.isMobile ? 10 : 5)) {\r\n      self.startPoints = self.newPoints;\r\n      return;\r\n    }\r\n\r\n    self.canTap = false;\r\n\r\n    self.contentLastPos = self.limitMovement();\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n\r\n      self.requestId = null;\r\n    }\r\n\r\n    self.requestId = requestAFrame(function() {\r\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\r\n    });\r\n  };\r\n\r\n  // Make panning sticky to the edges\r\n  Guestures.prototype.limitMovement = function() {\r\n    var self = this;\r\n\r\n    var canvasWidth = self.canvasWidth;\r\n    var canvasHeight = self.canvasHeight;\r\n\r\n    var distanceX = self.distanceX;\r\n    var distanceY = self.distanceY;\r\n\r\n    var contentStartPos = self.contentStartPos;\r\n\r\n    var currentOffsetX = contentStartPos.left;\r\n    var currentOffsetY = contentStartPos.top;\r\n\r\n    var currentWidth = contentStartPos.width;\r\n    var currentHeight = contentStartPos.height;\r\n\r\n    var minTranslateX, minTranslateY, maxTranslateX, maxTranslateY, newOffsetX, newOffsetY;\r\n\r\n    if (currentWidth > canvasWidth) {\r\n      newOffsetX = currentOffsetX + distanceX;\r\n    } else {\r\n      newOffsetX = currentOffsetX;\r\n    }\r\n\r\n    newOffsetY = currentOffsetY + distanceY;\r\n\r\n    // Slow down proportionally to traveled distance\r\n    minTranslateX = Math.max(0, canvasWidth * 0.5 - currentWidth * 0.5);\r\n    minTranslateY = Math.max(0, canvasHeight * 0.5 - currentHeight * 0.5);\r\n\r\n    maxTranslateX = Math.min(canvasWidth - currentWidth, canvasWidth * 0.5 - currentWidth * 0.5);\r\n    maxTranslateY = Math.min(canvasHeight - currentHeight, canvasHeight * 0.5 - currentHeight * 0.5);\r\n\r\n    //   ->\r\n    if (distanceX > 0 && newOffsetX > minTranslateX) {\r\n      newOffsetX = minTranslateX - 1 + Math.pow(-minTranslateX + currentOffsetX + distanceX, 0.8) || 0;\r\n    }\r\n\r\n    //    <-\r\n    if (distanceX < 0 && newOffsetX < maxTranslateX) {\r\n      newOffsetX = maxTranslateX + 1 - Math.pow(maxTranslateX - currentOffsetX - distanceX, 0.8) || 0;\r\n    }\r\n\r\n    //   \\/\r\n    if (distanceY > 0 && newOffsetY > minTranslateY) {\r\n      newOffsetY = minTranslateY - 1 + Math.pow(-minTranslateY + currentOffsetY + distanceY, 0.8) || 0;\r\n    }\r\n\r\n    //   /\\\r\n    if (distanceY < 0 && newOffsetY < maxTranslateY) {\r\n      newOffsetY = maxTranslateY + 1 - Math.pow(maxTranslateY - currentOffsetY - distanceY, 0.8) || 0;\r\n    }\r\n\r\n    return {\r\n      top: newOffsetY,\r\n      left: newOffsetX\r\n    };\r\n  };\r\n\r\n  Guestures.prototype.limitPosition = function(newOffsetX, newOffsetY, newWidth, newHeight) {\r\n    var self = this;\r\n\r\n    var canvasWidth = self.canvasWidth;\r\n    var canvasHeight = self.canvasHeight;\r\n\r\n    if (newWidth > canvasWidth) {\r\n      newOffsetX = newOffsetX > 0 ? 0 : newOffsetX;\r\n      newOffsetX = newOffsetX < canvasWidth - newWidth ? canvasWidth - newWidth : newOffsetX;\r\n    } else {\r\n      // Center horizontally\r\n      newOffsetX = Math.max(0, canvasWidth / 2 - newWidth / 2);\r\n    }\r\n\r\n    if (newHeight > canvasHeight) {\r\n      newOffsetY = newOffsetY > 0 ? 0 : newOffsetY;\r\n      newOffsetY = newOffsetY < canvasHeight - newHeight ? canvasHeight - newHeight : newOffsetY;\r\n    } else {\r\n      // Center vertically\r\n      newOffsetY = Math.max(0, canvasHeight / 2 - newHeight / 2);\r\n    }\r\n\r\n    return {\r\n      top: newOffsetY,\r\n      left: newOffsetX\r\n    };\r\n  };\r\n\r\n  Guestures.prototype.onZoom = function() {\r\n    var self = this;\r\n\r\n    // Calculate current distance between points to get pinch ratio and new width and height\r\n    var contentStartPos = self.contentStartPos;\r\n\r\n    var currentWidth = contentStartPos.width;\r\n    var currentHeight = contentStartPos.height;\r\n\r\n    var currentOffsetX = contentStartPos.left;\r\n    var currentOffsetY = contentStartPos.top;\r\n\r\n    var endDistanceBetweenFingers = distance(self.newPoints[0], self.newPoints[1]);\r\n\r\n    var pinchRatio = endDistanceBetweenFingers / self.startDistanceBetweenFingers;\r\n\r\n    var newWidth = Math.floor(currentWidth * pinchRatio);\r\n    var newHeight = Math.floor(currentHeight * pinchRatio);\r\n\r\n    // This is the translation due to pinch-zooming\r\n    var translateFromZoomingX = (currentWidth - newWidth) * self.percentageOfImageAtPinchPointX;\r\n    var translateFromZoomingY = (currentHeight - newHeight) * self.percentageOfImageAtPinchPointY;\r\n\r\n    // Point between the two touches\r\n    var centerPointEndX = (self.newPoints[0].x + self.newPoints[1].x) / 2 - $(window).scrollLeft();\r\n    var centerPointEndY = (self.newPoints[0].y + self.newPoints[1].y) / 2 - $(window).scrollTop();\r\n\r\n    // And this is the translation due to translation of the centerpoint\r\n    // between the two fingers\r\n    var translateFromTranslatingX = centerPointEndX - self.centerPointStartX;\r\n    var translateFromTranslatingY = centerPointEndY - self.centerPointStartY;\r\n\r\n    // The new offset is the old/current one plus the total translation\r\n    var newOffsetX = currentOffsetX + (translateFromZoomingX + translateFromTranslatingX);\r\n    var newOffsetY = currentOffsetY + (translateFromZoomingY + translateFromTranslatingY);\r\n\r\n    var newPos = {\r\n      top: newOffsetY,\r\n      left: newOffsetX,\r\n      scaleX: pinchRatio,\r\n      scaleY: pinchRatio\r\n    };\r\n\r\n    self.canTap = false;\r\n\r\n    self.newWidth = newWidth;\r\n    self.newHeight = newHeight;\r\n\r\n    self.contentLastPos = newPos;\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n\r\n      self.requestId = null;\r\n    }\r\n\r\n    self.requestId = requestAFrame(function() {\r\n      $.fancybox.setTranslate(self.$content, self.contentLastPos);\r\n    });\r\n  };\r\n\r\n  Guestures.prototype.ontouchend = function(e) {\r\n    var self = this;\r\n    var dMs = Math.max(new Date().getTime() - self.startTime, 1);\r\n\r\n    var swiping = self.isSwiping;\r\n    var panning = self.isPanning;\r\n    var zooming = self.isZooming;\r\n    var scrolling = self.isScrolling;\r\n\r\n    self.endPoints = getPointerXY(e);\r\n\r\n    self.$container.removeClass(\"fancybox-controls--isGrabbing\");\r\n\r\n    $(document).off(\".fb.touch\");\r\n\r\n    document.removeEventListener(\"scroll\", self.onscroll, true);\r\n\r\n    if (self.requestId) {\r\n      cancelAFrame(self.requestId);\r\n\r\n      self.requestId = null;\r\n    }\r\n\r\n    self.isSwiping = false;\r\n    self.isPanning = false;\r\n    self.isZooming = false;\r\n    self.isScrolling = false;\r\n\r\n    self.instance.isDragging = false;\r\n\r\n    if (self.canTap) {\r\n      return self.onTap(e);\r\n    }\r\n\r\n    self.speed = 366;\r\n\r\n    // Speed in px/ms\r\n    self.velocityX = self.distanceX / dMs * 0.5;\r\n    self.velocityY = self.distanceY / dMs * 0.5;\r\n\r\n    self.speedX = Math.max(self.speed * 0.5, Math.min(self.speed * 1.5, 1 / Math.abs(self.velocityX) * self.speed));\r\n\r\n    if (panning) {\r\n      self.endPanning();\r\n    } else if (zooming) {\r\n      self.endZooming();\r\n    } else {\r\n      self.endSwiping(swiping, scrolling);\r\n    }\r\n\r\n    return;\r\n  };\r\n\r\n  Guestures.prototype.endSwiping = function(swiping, scrolling) {\r\n    var self = this,\r\n      ret = false,\r\n      len = self.instance.group.length;\r\n\r\n    self.sliderLastPos = null;\r\n\r\n    // Close if swiped vertically / navigate if horizontally\r\n    if (swiping == \"y\" && !scrolling && Math.abs(self.distanceY) > 50) {\r\n      // Continue vertical movement\r\n      $.fancybox.animate(\r\n        self.instance.current.$slide,\r\n        {\r\n          top: self.sliderStartPos.top + self.distanceY + self.velocityY * 150,\r\n          opacity: 0\r\n        },\r\n        200\r\n      );\r\n\r\n      ret = self.instance.close(true, 200);\r\n    } else if (swiping == \"x\" && self.distanceX > 50 && len > 1) {\r\n      ret = self.instance.previous(self.speedX);\r\n    } else if (swiping == \"x\" && self.distanceX < -50 && len > 1) {\r\n      ret = self.instance.next(self.speedX);\r\n    }\r\n\r\n    if (ret === false && (swiping == \"x\" || swiping == \"y\")) {\r\n      if (scrolling || len < 2) {\r\n        self.instance.centerSlide(self.instance.current, 150);\r\n      } else {\r\n        self.instance.jumpTo(self.instance.current.index);\r\n      }\r\n    }\r\n\r\n    self.$container.removeClass(\"fancybox-is-sliding\");\r\n  };\r\n\r\n  // Limit panning from edges\r\n  // ========================\r\n  Guestures.prototype.endPanning = function() {\r\n    var self = this;\r\n    var newOffsetX, newOffsetY, newPos;\r\n\r\n    if (!self.contentLastPos) {\r\n      return;\r\n    }\r\n\r\n    if (self.opts.momentum === false) {\r\n      newOffsetX = self.contentLastPos.left;\r\n      newOffsetY = self.contentLastPos.top;\r\n    } else {\r\n      // Continue movement\r\n      newOffsetX = self.contentLastPos.left + self.velocityX * self.speed;\r\n      newOffsetY = self.contentLastPos.top + self.velocityY * self.speed;\r\n    }\r\n\r\n    newPos = self.limitPosition(newOffsetX, newOffsetY, self.contentStartPos.width, self.contentStartPos.height);\r\n\r\n    newPos.width = self.contentStartPos.width;\r\n    newPos.height = self.contentStartPos.height;\r\n\r\n    $.fancybox.animate(self.$content, newPos, 330);\r\n  };\r\n\r\n  Guestures.prototype.endZooming = function() {\r\n    var self = this;\r\n\r\n    var current = self.instance.current;\r\n\r\n    var newOffsetX, newOffsetY, newPos, reset;\r\n\r\n    var newWidth = self.newWidth;\r\n    var newHeight = self.newHeight;\r\n\r\n    if (!self.contentLastPos) {\r\n      return;\r\n    }\r\n\r\n    newOffsetX = self.contentLastPos.left;\r\n    newOffsetY = self.contentLastPos.top;\r\n\r\n    reset = {\r\n      top: newOffsetY,\r\n      left: newOffsetX,\r\n      width: newWidth,\r\n      height: newHeight,\r\n      scaleX: 1,\r\n      scaleY: 1\r\n    };\r\n\r\n    // Reset scalex/scaleY values; this helps for perfomance and does not break animation\r\n    $.fancybox.setTranslate(self.$content, reset);\r\n\r\n    if (newWidth < self.canvasWidth && newHeight < self.canvasHeight) {\r\n      self.instance.scaleToFit(150);\r\n    } else if (newWidth > current.width || newHeight > current.height) {\r\n      self.instance.scaleToActual(self.centerPointStartX, self.centerPointStartY, 150);\r\n    } else {\r\n      newPos = self.limitPosition(newOffsetX, newOffsetY, newWidth, newHeight);\r\n\r\n      // Switch from scale() to width/height or animation will not work correctly\r\n      $.fancybox.setTranslate(self.$content, $.fancybox.getTranslate(self.$content));\r\n\r\n      $.fancybox.animate(self.$content, newPos, 150);\r\n    }\r\n  };\r\n\r\n  Guestures.prototype.onTap = function(e) {\r\n    var self = this;\r\n    var $target = $(e.target);\r\n\r\n    var instance = self.instance;\r\n    var current = instance.current;\r\n\r\n    var endPoints = (e && getPointerXY(e)) || self.startPoints;\r\n\r\n    var tapX = endPoints[0] ? endPoints[0].x - $(window).scrollLeft() - self.stagePos.left : 0;\r\n    var tapY = endPoints[0] ? endPoints[0].y - $(window).scrollTop() - self.stagePos.top : 0;\r\n\r\n    var where;\r\n\r\n    var process = function(prefix) {\r\n      var action = current.opts[prefix];\r\n\r\n      if ($.isFunction(action)) {\r\n        action = action.apply(instance, [current, e]);\r\n      }\r\n\r\n      if (!action) {\r\n        return;\r\n      }\r\n\r\n      switch (action) {\r\n        case \"close\":\r\n          instance.close(self.startEvent);\r\n\r\n          break;\r\n\r\n        case \"toggleControls\":\r\n          instance.toggleControls(true);\r\n\r\n          break;\r\n\r\n        case \"next\":\r\n          instance.next();\r\n\r\n          break;\r\n\r\n        case \"nextOrClose\":\r\n          if (instance.group.length > 1) {\r\n            instance.next();\r\n          } else {\r\n            instance.close(self.startEvent);\r\n          }\r\n\r\n          break;\r\n\r\n        case \"zoom\":\r\n          if (current.type == \"image\" && (current.isLoaded || current.$ghost)) {\r\n            if (instance.canPan()) {\r\n              instance.scaleToFit();\r\n            } else if (instance.isScaledDown()) {\r\n              instance.scaleToActual(tapX, tapY);\r\n            } else if (instance.group.length < 2) {\r\n              instance.close(self.startEvent);\r\n            }\r\n          }\r\n\r\n          break;\r\n      }\r\n    };\r\n\r\n    // Ignore right click\r\n    if (e.originalEvent && e.originalEvent.button == 2) {\r\n      return;\r\n    }\r\n\r\n    // Skip if clicked on the scrollbar\r\n    if (!$target.is(\"img\") && tapX > $target[0].clientWidth + $target.offset().left) {\r\n      return;\r\n    }\r\n\r\n    // Check where is clicked\r\n    if ($target.is(\".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container\")) {\r\n      where = \"Outside\";\r\n    } else if ($target.is(\".fancybox-slide\")) {\r\n      where = \"Slide\";\r\n    } else if (\r\n      instance.current.$content &&\r\n      instance.current.$content\r\n        .find($target)\r\n        .addBack()\r\n        .filter($target).length\r\n    ) {\r\n      where = \"Content\";\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    // Check if this is a double tap\r\n    if (self.tapped) {\r\n      // Stop previously created single tap\r\n      clearTimeout(self.tapped);\r\n      self.tapped = null;\r\n\r\n      // Skip if distance between taps is too big\r\n      if (Math.abs(tapX - self.tapX) > 50 || Math.abs(tapY - self.tapY) > 50) {\r\n        return this;\r\n      }\r\n\r\n      // OK, now we assume that this is a double-tap\r\n      process(\"dblclick\" + where);\r\n    } else {\r\n      // Single tap will be processed if user has not clicked second time within 300ms\r\n      // or there is no need to wait for double-tap\r\n      self.tapX = tapX;\r\n      self.tapY = tapY;\r\n\r\n      if (current.opts[\"dblclick\" + where] && current.opts[\"dblclick\" + where] !== current.opts[\"click\" + where]) {\r\n        self.tapped = setTimeout(function() {\r\n          self.tapped = null;\r\n\r\n          process(\"click\" + where);\r\n        }, 500);\r\n      } else {\r\n        process(\"click\" + where);\r\n      }\r\n    }\r\n\r\n    return this;\r\n  };\r\n\r\n  $(document).on(\"onActivate.fb\", function(e, instance) {\r\n    if (instance && !instance.Guestures) {\r\n      instance.Guestures = new Guestures(instance);\r\n    }\r\n  });\r\n})(window, document, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// SlideShow\r\n// Enables slideshow functionality\r\n//\r\n// Example of usage:\r\n// $.fancybox.getInstance().SlideShow.start()\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  $.extend(true, $.fancybox.defaults, {\r\n    btnTpl: {\r\n      slideShow:\r\n        '<button data-fancybox-play class=\"fancybox-button fancybox-button--play\" title=\"{{PLAY_START}}\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M13,12 L27,20 L13,27 Z\" />' +\r\n        '<path d=\"M15,10 v19 M23,10 v19\" />' +\r\n        \"</svg>\" +\r\n        \"</button>\"\r\n    },\r\n    slideShow: {\r\n      autoStart: false,\r\n      speed: 3000\r\n    }\r\n  });\r\n\r\n  var SlideShow = function(instance) {\r\n    this.instance = instance;\r\n    this.init();\r\n  };\r\n\r\n  $.extend(SlideShow.prototype, {\r\n    timer: null,\r\n    isActive: false,\r\n    $button: null,\r\n\r\n    init: function() {\r\n      var self = this;\r\n\r\n      self.$button = self.instance.$refs.toolbar.find(\"[data-fancybox-play]\").on(\"click\", function() {\r\n        self.toggle();\r\n      });\r\n\r\n      if (self.instance.group.length < 2 || !self.instance.group[self.instance.currIndex].opts.slideShow) {\r\n        self.$button.hide();\r\n      }\r\n    },\r\n\r\n    set: function(force) {\r\n      var self = this;\r\n\r\n      // Check if reached last element\r\n      if (\r\n        self.instance &&\r\n        self.instance.current &&\r\n        (force === true || self.instance.current.opts.loop || self.instance.currIndex < self.instance.group.length - 1)\r\n      ) {\r\n        self.timer = setTimeout(function() {\r\n          if (self.isActive) {\r\n            self.instance.jumpTo((self.instance.currIndex + 1) % self.instance.group.length);\r\n          }\r\n        }, self.instance.current.opts.slideShow.speed);\r\n      } else {\r\n        self.stop();\r\n        self.instance.idleSecondsCounter = 0;\r\n        self.instance.showControls();\r\n      }\r\n    },\r\n\r\n    clear: function() {\r\n      var self = this;\r\n\r\n      clearTimeout(self.timer);\r\n\r\n      self.timer = null;\r\n    },\r\n\r\n    start: function() {\r\n      var self = this;\r\n      var current = self.instance.current;\r\n\r\n      if (current) {\r\n        self.isActive = true;\r\n\r\n        self.$button\r\n          .attr(\"title\", current.opts.i18n[current.opts.lang].PLAY_STOP)\r\n          .removeClass(\"fancybox-button--play\")\r\n          .addClass(\"fancybox-button--pause\");\r\n\r\n        self.set(true);\r\n      }\r\n    },\r\n\r\n    stop: function() {\r\n      var self = this;\r\n      var current = self.instance.current;\r\n\r\n      self.clear();\r\n\r\n      self.$button\r\n        .attr(\"title\", current.opts.i18n[current.opts.lang].PLAY_START)\r\n        .removeClass(\"fancybox-button--pause\")\r\n        .addClass(\"fancybox-button--play\");\r\n\r\n      self.isActive = false;\r\n    },\r\n\r\n    toggle: function() {\r\n      var self = this;\r\n\r\n      if (self.isActive) {\r\n        self.stop();\r\n      } else {\r\n        self.start();\r\n      }\r\n    }\r\n  });\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance) {\r\n      if (instance && !instance.SlideShow) {\r\n        instance.SlideShow = new SlideShow(instance);\r\n      }\r\n    },\r\n\r\n    \"beforeShow.fb\": function(e, instance, current, firstRun) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      if (firstRun) {\r\n        if (SlideShow && current.opts.slideShow.autoStart) {\r\n          SlideShow.start();\r\n        }\r\n      } else if (SlideShow && SlideShow.isActive) {\r\n        SlideShow.clear();\r\n      }\r\n    },\r\n\r\n    \"afterShow.fb\": function(e, instance, current) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      if (SlideShow && SlideShow.isActive) {\r\n        SlideShow.set();\r\n      }\r\n    },\r\n\r\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      // \"P\" or Spacebar\r\n      if (SlideShow && current.opts.slideShow && (keycode === 80 || keycode === 32) && !$(document.activeElement).is(\"button,a,input\")) {\r\n        keypress.preventDefault();\r\n\r\n        SlideShow.toggle();\r\n      }\r\n    },\r\n\r\n    \"beforeClose.fb onDeactivate.fb\": function(e, instance) {\r\n      var SlideShow = instance && instance.SlideShow;\r\n\r\n      if (SlideShow) {\r\n        SlideShow.stop();\r\n      }\r\n    }\r\n  });\r\n\r\n  // Page Visibility API to pause slideshow when window is not active\r\n  $(document).on(\"visibilitychange\", function() {\r\n    var instance = $.fancybox.getInstance();\r\n    var SlideShow = instance && instance.SlideShow;\r\n\r\n    if (SlideShow && SlideShow.isActive) {\r\n      if (document.hidden) {\r\n        SlideShow.clear();\r\n      } else {\r\n        SlideShow.set();\r\n      }\r\n    }\r\n  });\r\n})(document, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// FullScreen\r\n// Adds fullscreen functionality\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  // Collection of methods supported by user browser\r\n  var fn = (function() {\r\n    var fnMap = [\r\n      [\"requestFullscreen\", \"exitFullscreen\", \"fullscreenElement\", \"fullscreenEnabled\", \"fullscreenchange\", \"fullscreenerror\"],\r\n      // new WebKit\r\n      [\r\n        \"webkitRequestFullscreen\",\r\n        \"webkitExitFullscreen\",\r\n        \"webkitFullscreenElement\",\r\n        \"webkitFullscreenEnabled\",\r\n        \"webkitfullscreenchange\",\r\n        \"webkitfullscreenerror\"\r\n      ],\r\n      // old WebKit (Safari 5.1)\r\n      [\r\n        \"webkitRequestFullScreen\",\r\n        \"webkitCancelFullScreen\",\r\n        \"webkitCurrentFullScreenElement\",\r\n        \"webkitCancelFullScreen\",\r\n        \"webkitfullscreenchange\",\r\n        \"webkitfullscreenerror\"\r\n      ],\r\n      [\r\n        \"mozRequestFullScreen\",\r\n        \"mozCancelFullScreen\",\r\n        \"mozFullScreenElement\",\r\n        \"mozFullScreenEnabled\",\r\n        \"mozfullscreenchange\",\r\n        \"mozfullscreenerror\"\r\n      ],\r\n      [\"msRequestFullscreen\", \"msExitFullscreen\", \"msFullscreenElement\", \"msFullscreenEnabled\", \"MSFullscreenChange\", \"MSFullscreenError\"]\r\n    ];\r\n\r\n    var ret = {};\r\n\r\n    for (var i = 0; i < fnMap.length; i++) {\r\n      var val = fnMap[i];\r\n\r\n      if (val && val[1] in document) {\r\n        for (var j = 0; j < val.length; j++) {\r\n          ret[fnMap[0][j]] = val[j];\r\n        }\r\n\r\n        return ret;\r\n      }\r\n    }\r\n\r\n    return false;\r\n  })();\r\n\r\n  // If browser does not have Full Screen API, then simply unset default button template and stop\r\n  if (!fn) {\r\n    if ($ && $.fancybox) {\r\n      $.fancybox.defaults.btnTpl.fullScreen = false;\r\n    }\r\n\r\n    return;\r\n  }\r\n\r\n  var FullScreen = {\r\n    request: function(elem) {\r\n      elem = elem || document.documentElement;\r\n\r\n      elem[fn.requestFullscreen](elem.ALLOW_KEYBOARD_INPUT);\r\n    },\r\n    exit: function() {\r\n      document[fn.exitFullscreen]();\r\n    },\r\n    toggle: function(elem) {\r\n      elem = elem || document.documentElement;\r\n\r\n      if (this.isFullscreen()) {\r\n        this.exit();\r\n      } else {\r\n        this.request(elem);\r\n      }\r\n    },\r\n    isFullscreen: function() {\r\n      return Boolean(document[fn.fullscreenElement]);\r\n    },\r\n    enabled: function() {\r\n      return Boolean(document[fn.fullscreenEnabled]);\r\n    }\r\n  };\r\n\r\n  $.extend(true, $.fancybox.defaults, {\r\n    btnTpl: {\r\n      fullScreen:\r\n        '<button data-fancybox-fullscreen class=\"fancybox-button fancybox-button--fullscreen\" title=\"{{FULL_SCREEN}}\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M9,12 v16 h22 v-16 h-22 v8\" />' +\r\n        \"</svg>\" +\r\n        \"</button>\"\r\n    },\r\n    fullScreen: {\r\n      autoStart: false\r\n    }\r\n  });\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance) {\r\n      var $container;\r\n\r\n      if (instance && instance.group[instance.currIndex].opts.fullScreen) {\r\n        $container = instance.$refs.container;\r\n\r\n        $container.on(\"click.fb-fullscreen\", \"[data-fancybox-fullscreen]\", function(e) {\r\n          e.stopPropagation();\r\n          e.preventDefault();\r\n\r\n          FullScreen.toggle();\r\n        });\r\n\r\n        if (instance.opts.fullScreen && instance.opts.fullScreen.autoStart === true) {\r\n          FullScreen.request();\r\n        }\r\n\r\n        // Expose API\r\n        instance.FullScreen = FullScreen;\r\n      } else if (instance) {\r\n        instance.$refs.toolbar.find(\"[data-fancybox-fullscreen]\").hide();\r\n      }\r\n    },\r\n\r\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\r\n      // \"F\"\r\n      if (instance && instance.FullScreen && keycode === 70) {\r\n        keypress.preventDefault();\r\n\r\n        instance.FullScreen.toggle();\r\n      }\r\n    },\r\n\r\n    \"beforeClose.fb\": function(e, instance) {\r\n      if (instance && instance.FullScreen && instance.$refs.container.hasClass(\"fancybox-is-fullscreen\")) {\r\n        FullScreen.exit();\r\n      }\r\n    }\r\n  });\r\n\r\n  $(document).on(fn.fullscreenchange, function() {\r\n    var isFullscreen = FullScreen.isFullscreen(),\r\n      instance = $.fancybox.getInstance();\r\n\r\n    if (instance) {\r\n      // If image is zooming, then force to stop and reposition properly\r\n      if (instance.current && instance.current.type === \"image\" && instance.isAnimating) {\r\n        instance.current.$content.css(\"transition\", \"none\");\r\n\r\n        instance.isAnimating = false;\r\n\r\n        instance.update(true, true, 0);\r\n      }\r\n\r\n      instance.trigger(\"onFullscreenChange\", isFullscreen);\r\n\r\n      instance.$refs.container.toggleClass(\"fancybox-is-fullscreen\", isFullscreen);\r\n    }\r\n  });\r\n})(document, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// Thumbs\r\n// Displays thumbnails in a grid\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  var CLASS = \"fancybox-thumbs\",\r\n    CLASS_ACTIVE = CLASS + \"-active\",\r\n    CLASS_LOAD = CLASS + \"-loading\";\r\n\r\n  // Make sure there are default values\r\n  $.fancybox.defaults = $.extend(\r\n    true,\r\n    {\r\n      btnTpl: {\r\n        thumbs:\r\n          '<button data-fancybox-thumbs class=\"fancybox-button fancybox-button--thumbs\" title=\"{{THUMBS}}\">' +\r\n          '<svg viewBox=\"0 0 120 120\">' +\r\n          '<path d=\"M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z\" />' +\r\n          \"</svg>\" +\r\n          \"</button>\"\r\n      },\r\n      thumbs: {\r\n        autoStart: false, // Display thumbnails on opening\r\n        hideOnClose: true, // Hide thumbnail grid when closing animation starts\r\n        parentEl: \".fancybox-container\", // Container is injected into this element\r\n        axis: \"y\" // Vertical (y) or horizontal (x) scrolling\r\n      }\r\n    },\r\n    $.fancybox.defaults\r\n  );\r\n\r\n  var FancyThumbs = function(instance) {\r\n    this.init(instance);\r\n  };\r\n\r\n  $.extend(FancyThumbs.prototype, {\r\n    $button: null,\r\n    $grid: null,\r\n    $list: null,\r\n    isVisible: false,\r\n    isActive: false,\r\n\r\n    init: function(instance) {\r\n      var self = this,\r\n        first,\r\n        second;\r\n\r\n      self.instance = instance;\r\n\r\n      instance.Thumbs = self;\r\n\r\n      self.opts = instance.group[instance.currIndex].opts.thumbs;\r\n\r\n      // Enable thumbs if at least two group items have thumbnails\r\n      first = instance.group[0];\r\n      first = first.opts.thumb || (first.opts.$thumb && first.opts.$thumb.length ? first.opts.$thumb.attr(\"src\") : false);\r\n\r\n      if (instance.group.length > 1) {\r\n        second = instance.group[1];\r\n        second = second.opts.thumb || (second.opts.$thumb && second.opts.$thumb.length ? second.opts.$thumb.attr(\"src\") : false);\r\n      }\r\n\r\n      self.$button = instance.$refs.toolbar.find(\"[data-fancybox-thumbs]\");\r\n\r\n      if (self.opts && first && second && first && second) {\r\n        self.$button.show().on(\"click\", function() {\r\n          self.toggle();\r\n        });\r\n\r\n        self.isActive = true;\r\n      } else {\r\n        self.$button.hide();\r\n      }\r\n    },\r\n\r\n    create: function() {\r\n      var self = this,\r\n        instance = self.instance,\r\n        parentEl = self.opts.parentEl,\r\n        list = [],\r\n        src;\r\n\r\n      if (!self.$grid) {\r\n        // Create main element\r\n        self.$grid = $('<div class=\"' + CLASS + \" \" + CLASS + \"-\" + self.opts.axis + '\"></div>').appendTo(\r\n          instance.$refs.container\r\n            .find(parentEl)\r\n            .addBack()\r\n            .filter(parentEl)\r\n        );\r\n\r\n        // Add \"click\" event that performs gallery navigation\r\n        self.$grid.on(\"click\", \"li\", function() {\r\n          instance.jumpTo($(this).attr(\"data-index\"));\r\n        });\r\n      }\r\n\r\n      // Build the list\r\n      if (!self.$list) {\r\n        self.$list = $(\"<ul>\").appendTo(self.$grid);\r\n      }\r\n\r\n      $.each(instance.group, function(i, item) {\r\n        src = item.opts.thumb || (item.opts.$thumb ? item.opts.$thumb.attr(\"src\") : null);\r\n\r\n        if (!src && item.type === \"image\") {\r\n          src = item.src;\r\n        }\r\n\r\n        list.push(\r\n          '<li data-index=\"' +\r\n            i +\r\n            '\" tabindex=\"0\" class=\"' +\r\n            CLASS_LOAD +\r\n            '\"' +\r\n            (src && src.length ? ' style=\"background-image:url(' + src + ')\" />' : \"\") +\r\n            \"></li>\"\r\n        );\r\n      });\r\n\r\n      self.$list[0].innerHTML = list.join(\"\");\r\n\r\n      if (self.opts.axis === \"x\") {\r\n        // Set fixed width for list element to enable horizontal scrolling\r\n        self.$list.width(\r\n          parseInt(self.$grid.css(\"padding-right\"), 10) +\r\n            instance.group.length *\r\n              self.$list\r\n                .children()\r\n                .eq(0)\r\n                .outerWidth(true)\r\n        );\r\n      }\r\n    },\r\n\r\n    focus: function(duration) {\r\n      var self = this,\r\n        $list = self.$list,\r\n        $grid = self.$grid,\r\n        thumb,\r\n        thumbPos;\r\n\r\n      if (!self.instance.current) {\r\n        return;\r\n      }\r\n\r\n      thumb = $list\r\n        .children()\r\n        .removeClass(CLASS_ACTIVE)\r\n        .filter('[data-index=\"' + self.instance.current.index + '\"]')\r\n        .addClass(CLASS_ACTIVE);\r\n\r\n      thumbPos = thumb.position();\r\n\r\n      // Check if need to scroll to make current thumb visible\r\n      if (self.opts.axis === \"y\" && (thumbPos.top < 0 || thumbPos.top > $list.height() - thumb.outerHeight())) {\r\n        $list.stop().animate(\r\n          {\r\n            scrollTop: $list.scrollTop() + thumbPos.top\r\n          },\r\n          duration\r\n        );\r\n      } else if (\r\n        self.opts.axis === \"x\" &&\r\n        (thumbPos.left < $grid.scrollLeft() || thumbPos.left > $grid.scrollLeft() + ($grid.width() - thumb.outerWidth()))\r\n      ) {\r\n        $list\r\n          .parent()\r\n          .stop()\r\n          .animate(\r\n            {\r\n              scrollLeft: thumbPos.left\r\n            },\r\n            duration\r\n          );\r\n      }\r\n    },\r\n\r\n    update: function() {\r\n      var that = this;\r\n      that.instance.$refs.container.toggleClass(\"fancybox-show-thumbs\", this.isVisible);\r\n\r\n      if (that.isVisible) {\r\n        if (!that.$grid) {\r\n          that.create();\r\n        }\r\n\r\n        that.instance.trigger(\"onThumbsShow\");\r\n\r\n        that.focus(0);\r\n      } else if (that.$grid) {\r\n        that.instance.trigger(\"onThumbsHide\");\r\n      }\r\n\r\n      // Update content position\r\n      that.instance.update();\r\n    },\r\n\r\n    hide: function() {\r\n      this.isVisible = false;\r\n      this.update();\r\n    },\r\n\r\n    show: function() {\r\n      this.isVisible = true;\r\n      this.update();\r\n    },\r\n\r\n    toggle: function() {\r\n      this.isVisible = !this.isVisible;\r\n      this.update();\r\n    }\r\n  });\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance) {\r\n      var Thumbs;\r\n\r\n      if (instance && !instance.Thumbs) {\r\n        Thumbs = new FancyThumbs(instance);\r\n\r\n        if (Thumbs.isActive && Thumbs.opts.autoStart === true) {\r\n          Thumbs.show();\r\n        }\r\n      }\r\n    },\r\n\r\n    \"beforeShow.fb\": function(e, instance, item, firstRun) {\r\n      var Thumbs = instance && instance.Thumbs;\r\n\r\n      if (Thumbs && Thumbs.isVisible) {\r\n        Thumbs.focus(firstRun ? 0 : 250);\r\n      }\r\n    },\r\n\r\n    \"afterKeydown.fb\": function(e, instance, current, keypress, keycode) {\r\n      var Thumbs = instance && instance.Thumbs;\r\n\r\n      // \"G\"\r\n      if (Thumbs && Thumbs.isActive && keycode === 71) {\r\n        keypress.preventDefault();\r\n\r\n        Thumbs.toggle();\r\n      }\r\n    },\r\n\r\n    \"beforeClose.fb\": function(e, instance) {\r\n      var Thumbs = instance && instance.Thumbs;\r\n\r\n      if (Thumbs && Thumbs.isVisible && Thumbs.opts.hideOnClose !== false) {\r\n        Thumbs.$grid.hide();\r\n      }\r\n    }\r\n  });\r\n})(document, window.jQuery || jQuery);\r\n\r\n//// ==========================================================================\r\n//\r\n// Share\r\n// Displays simple form for sharing current url\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  $.extend(true, $.fancybox.defaults, {\r\n    btnTpl: {\r\n      share:\r\n        '<button data-fancybox-share class=\"fancybox-button fancybox-button--share\" title=\"{{SHARE}}\">' +\r\n        '<svg viewBox=\"0 0 40 40\">' +\r\n        '<path d=\"M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z\">' +\r\n        \"</svg>\" +\r\n        \"</button>\"\r\n    },\r\n    share: {\r\n      url: function(instance, item) {\r\n        return (\r\n          (!instance.currentHash && !(item.type === \"inline\" || item.type === \"html\") ? item.origSrc || item.src : false) || window.location\r\n        );\r\n      },\r\n      tpl:\r\n        '<div class=\"fancybox-share\">' +\r\n        \"<h1>{{SHARE}}</h1>\" +\r\n        \"<p>\" +\r\n        '<a class=\"fancybox-share__button fancybox-share__button--fb\" href=\"https://www.facebook.com/sharer/sharer.php?u={{url}}\">' +\r\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196\" /></svg>' +\r\n        \"<span>Facebook</span>\" +\r\n        \"</a>\" +\r\n        '<a class=\"fancybox-share__button fancybox-share__button--tw\" href=\"https://twitter.com/intent/tweet?url={{url}}&text={{descr}}\">' +\r\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z\" /></svg>' +\r\n        \"<span>Twitter</span>\" +\r\n        \"</a>\" +\r\n        '<a class=\"fancybox-share__button fancybox-share__button--pt\" href=\"https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}\">' +\r\n        '<svg viewBox=\"0 0 512 512\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z\" fill=\"#fff\"/></svg>' +\r\n        \"<span>Pinterest</span>\" +\r\n        \"</a>\" +\r\n        \"</p>\" +\r\n        '<p><input class=\"fancybox-share__input\" type=\"text\" value=\"{{url_raw}}\" /></p>' +\r\n        \"</div>\"\r\n    }\r\n  });\r\n\r\n  function escapeHtml(string) {\r\n    var entityMap = {\r\n      \"&\": \"&amp;\",\r\n      \"<\": \"&lt;\",\r\n      \">\": \"&gt;\",\r\n      '\"': \"&quot;\",\r\n      \"'\": \"&#39;\",\r\n      \"/\": \"&#x2F;\",\r\n      \"`\": \"&#x60;\",\r\n      \"=\": \"&#x3D;\"\r\n    };\r\n\r\n    return String(string).replace(/[&<>\"'`=\\/]/g, function(s) {\r\n      return entityMap[s];\r\n    });\r\n  }\r\n\r\n  $(document).on(\"click\", \"[data-fancybox-share]\", function() {\r\n    var instance = $.fancybox.getInstance(),\r\n      current = instance.current || null,\r\n      url,\r\n      tpl;\r\n\r\n    if (!current) {\r\n      return;\r\n    }\r\n\r\n    if ($.type(current.opts.share.url) === \"function\") {\r\n      url = current.opts.share.url.apply(current, [instance, current]);\r\n    }\r\n\r\n    tpl = current.opts.share.tpl\r\n      .replace(/\\{\\{media\\}\\}/g, current.type === \"image\" ? encodeURIComponent(current.src) : \"\")\r\n      .replace(/\\{\\{url\\}\\}/g, encodeURIComponent(url))\r\n      .replace(/\\{\\{url_raw\\}\\}/g, escapeHtml(url))\r\n      .replace(/\\{\\{descr\\}\\}/g, instance.$caption ? encodeURIComponent(instance.$caption.text()) : \"\");\r\n\r\n    $.fancybox.open({\r\n      src: instance.translate(instance, tpl),\r\n      type: \"html\",\r\n      opts: {\r\n        animationEffect: false,\r\n        afterLoad: function(shareInstance, shareCurrent) {\r\n          // Close self if parent instance is closing\r\n          instance.$refs.container.one(\"beforeClose.fb\", function() {\r\n            shareInstance.close(null, 0);\r\n          });\r\n\r\n          // Opening links in a popup window\r\n          shareCurrent.$content.find(\".fancybox-share__links a\").click(function() {\r\n            window.open(this.href, \"Share\", \"width=550, height=450\");\r\n            return false;\r\n          });\r\n        }\r\n      }\r\n    });\r\n  });\r\n})(document, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// Hash\r\n// Enables linking to each modal\r\n//\r\n// ==========================================================================\r\n(function(document, window, $) {\r\n  \"use strict\";\r\n\r\n  // Simple $.escapeSelector polyfill (for jQuery prior v3)\r\n  if (!$.escapeSelector) {\r\n    $.escapeSelector = function(sel) {\r\n      var rcssescape = /([\\0-\\x1f\\x7f]|^-?\\d)|^-$|[^\\x80-\\uFFFF\\w-]/g;\r\n      var fcssescape = function(ch, asCodePoint) {\r\n        if (asCodePoint) {\r\n          // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER\r\n          if (ch === \"\\0\") {\r\n            return \"\\uFFFD\";\r\n          }\r\n\r\n          // Control characters and (dependent upon position) numbers get escaped as code points\r\n          return ch.slice(0, -1) + \"\\\\\" + ch.charCodeAt(ch.length - 1).toString(16) + \" \";\r\n        }\r\n\r\n        // Other potentially-special ASCII characters get backslash-escaped\r\n        return \"\\\\\" + ch;\r\n      };\r\n\r\n      return (sel + \"\").replace(rcssescape, fcssescape);\r\n    };\r\n  }\r\n\r\n  // Get info about gallery name and current index from url\r\n  function parseUrl() {\r\n    var hash = window.location.hash.substr(1),\r\n      rez = hash.split(\"-\"),\r\n      index = rez.length > 1 && /^\\+?\\d+$/.test(rez[rez.length - 1]) ? parseInt(rez.pop(-1), 10) || 1 : 1,\r\n      gallery = rez.join(\"-\");\r\n\r\n    return {\r\n      hash: hash,\r\n      /* Index is starting from 1 */\r\n      index: index < 1 ? 1 : index,\r\n      gallery: gallery\r\n    };\r\n  }\r\n\r\n  // Trigger click evnt on links to open new fancyBox instance\r\n  function triggerFromUrl(url) {\r\n    var $el;\r\n\r\n    if (url.gallery !== \"\") {\r\n      // If we can find element matching 'data-fancybox' atribute, then trigger click event for that.\r\n      // It should start fancyBox\r\n      $el = $(\"[data-fancybox='\" + $.escapeSelector(url.gallery) + \"']\")\r\n        .eq(url.index - 1)\r\n        .trigger(\"click.fb-start\");\r\n    }\r\n  }\r\n\r\n  // Get gallery name from current instance\r\n  function getGalleryID(instance) {\r\n    var opts, ret;\r\n\r\n    if (!instance) {\r\n      return false;\r\n    }\r\n\r\n    opts = instance.current ? instance.current.opts : instance.opts;\r\n    ret = opts.hash || (opts.$orig ? opts.$orig.data(\"fancybox\") : \"\");\r\n\r\n    return ret === \"\" ? false : ret;\r\n  }\r\n\r\n  // Start when DOM becomes ready\r\n  $(function() {\r\n    // Check if user has disabled this module\r\n    if ($.fancybox.defaults.hash === false) {\r\n      return;\r\n    }\r\n\r\n    // Update hash when opening/closing fancyBox\r\n    $(document).on({\r\n      \"onInit.fb\": function(e, instance) {\r\n        var url, gallery;\r\n\r\n        if (instance.group[instance.currIndex].opts.hash === false) {\r\n          return;\r\n        }\r\n\r\n        url = parseUrl();\r\n        gallery = getGalleryID(instance);\r\n\r\n        // Make sure gallery start index matches index from hash\r\n        if (gallery && url.gallery && gallery == url.gallery) {\r\n          instance.currIndex = url.index - 1;\r\n        }\r\n      },\r\n\r\n      \"beforeShow.fb\": function(e, instance, current, firstRun) {\r\n        var gallery;\r\n\r\n        if (!current || current.opts.hash === false) {\r\n          return;\r\n        }\r\n\r\n        // Check if need to update window hash\r\n        gallery = getGalleryID(instance);\r\n\r\n        if (!gallery) {\r\n          return;\r\n        }\r\n\r\n        // Variable containing last hash value set by fancyBox\r\n        // It will be used to determine if fancyBox needs to close after hash change is detected\r\n        instance.currentHash = gallery + (instance.group.length > 1 ? \"-\" + (current.index + 1) : \"\");\r\n\r\n        // If current hash is the same (this instance most likely is opened by hashchange), then do nothing\r\n        if (window.location.hash === \"#\" + instance.currentHash) {\r\n          return;\r\n        }\r\n\r\n        if (!instance.origHash) {\r\n          instance.origHash = window.location.hash;\r\n        }\r\n\r\n        if (instance.hashTimer) {\r\n          clearTimeout(instance.hashTimer);\r\n        }\r\n\r\n        // Update hash\r\n        instance.hashTimer = setTimeout(function() {\r\n          if (\"replaceState\" in window.history) {\r\n            window.history[firstRun ? \"pushState\" : \"replaceState\"](\r\n              {},\r\n              document.title,\r\n              window.location.pathname + window.location.search + \"#\" + instance.currentHash\r\n            );\r\n\r\n            if (firstRun) {\r\n              instance.hasCreatedHistory = true;\r\n            }\r\n          } else {\r\n            window.location.hash = instance.currentHash;\r\n          }\r\n\r\n          instance.hashTimer = null;\r\n        }, 300);\r\n      },\r\n\r\n      \"beforeClose.fb\": function(e, instance, current) {\r\n        var gallery;\r\n\r\n        if (current.opts.hash === false) {\r\n          return;\r\n        }\r\n\r\n        gallery = getGalleryID(instance);\r\n\r\n        // Goto previous history entry\r\n        if (instance.currentHash && instance.hasCreatedHistory) {\r\n          window.history.back();\r\n        } else if (instance.currentHash) {\r\n          if (\"replaceState\" in window.history) {\r\n            window.history.replaceState({}, document.title, window.location.pathname + window.location.search + (instance.origHash || \"\"));\r\n          } else {\r\n            window.location.hash = instance.origHash;\r\n          }\r\n        }\r\n\r\n        instance.currentHash = null;\r\n\r\n        clearTimeout(instance.hashTimer);\r\n      }\r\n    });\r\n\r\n    // Check if need to start/close after url has changed\r\n    $(window).on(\"hashchange.fb\", function() {\r\n      var url = parseUrl(),\r\n        fb;\r\n\r\n      // Find last fancyBox instance that has \"hash\"\r\n      $.each(\r\n        $(\".fancybox-container\")\r\n          .get()\r\n          .reverse(),\r\n        function(index, value) {\r\n          var tmp = $(value).data(\"FancyBox\");\r\n          //isClosing\r\n          if (tmp.currentHash) {\r\n            fb = tmp;\r\n            return false;\r\n          }\r\n        }\r\n      );\r\n\r\n      if (fb) {\r\n        // Now, compare hash values\r\n        if (fb.currentHash && fb.currentHash !== url.gallery + \"-\" + url.index && !(url.index === 1 && fb.currentHash == url.gallery)) {\r\n          fb.currentHash = null;\r\n\r\n          fb.close();\r\n        }\r\n      } else if (url.gallery !== \"\") {\r\n        triggerFromUrl(url);\r\n      }\r\n    });\r\n\r\n    // Check current hash and trigger click event on matching element to start fancyBox, if needed\r\n    setTimeout(function() {\r\n      if (!$.fancybox.getInstance()) {\r\n        triggerFromUrl(parseUrl());\r\n      }\r\n    }, 50);\r\n  });\r\n})(document, window, window.jQuery || jQuery);\r\n\r\n// ==========================================================================\r\n//\r\n// Wheel\r\n// Basic mouse weheel support for gallery navigation\r\n//\r\n// ==========================================================================\r\n(function(document, $) {\r\n  \"use strict\";\r\n\r\n  var prevTime = new Date().getTime();\r\n\r\n  $(document).on({\r\n    \"onInit.fb\": function(e, instance, current) {\r\n      instance.$refs.stage.on(\"mousewheel DOMMouseScroll wheel MozMousePixelScroll\", function(e) {\r\n        var current = instance.current,\r\n          currTime = new Date().getTime();\r\n\r\n        if (instance.group.length < 2 || current.opts.wheel === false || (current.opts.wheel === \"auto\" && current.type !== \"image\")) {\r\n          return;\r\n        }\r\n\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if (current.$slide.hasClass(\"fancybox-animated\")) {\r\n          return;\r\n        }\r\n\r\n        e = e.originalEvent || e;\r\n\r\n        if (currTime - prevTime < 250) {\r\n          return;\r\n        }\r\n\r\n        prevTime = currTime;\r\n\r\n        instance[(-e.deltaY || -e.deltaX || e.wheelDelta || -e.detail) < 0 ? \"next\" : \"previous\"]();\r\n      });\r\n    }\r\n  });\r\n})(document, window.jQuery || jQuery);\r\n","/*\r\n * jQuery Form Styler v2.0.2\r\n * https://github.com/Dimox/jQueryFormStyler\r\n *\r\n * Copyright 2012-2017 Dimox (http://dimox.name/)\r\n * Released under the MIT license.\r\n *\r\n * Date: 2017.10.22\r\n *\r\n */\r\n\r\n;(function(factory) {\r\n\tif (typeof define === 'function' && define.amd) {\r\n\t\t// AMD\r\n\t\tdefine(['jquery'], factory);\r\n\t} else if (typeof exports === 'object') {\r\n\t\t// CommonJS\r\n\t\tmodule.exports = factory($ || require('jquery'));\r\n\t} else {\r\n\t\tfactory(jQuery);\r\n\t}\r\n}(function($) {\r\n\r\n\t'use strict';\r\n\r\n\tvar pluginName = 'styler',\r\n\t\t\tdefaults = {\r\n\t\t\t\tidSuffix: '-styler',\r\n\t\t\t\tfilePlaceholder: 'Файл не выбран',\r\n\t\t\t\tfileBrowse: 'Обзор...',\r\n\t\t\t\tfileNumber: 'Выбрано файлов: %s',\r\n\t\t\t\tselectPlaceholder: 'Выберите...',\r\n\t\t\t\tselectSearch: false,\r\n\t\t\t\tselectSearchLimit: 10,\r\n\t\t\t\tselectSearchNotFound: 'Совпадений не найдено',\r\n\t\t\t\tselectSearchPlaceholder: 'Поиск...',\r\n\t\t\t\tselectVisibleOptions: 0,\r\n\t\t\t\tselectSmartPositioning: true,\r\n\t\t\t\tlocale: 'ru',\r\n\t\t\t\tlocales: {\r\n\t\t\t\t\t'en': {\r\n\t\t\t\t\t\tfilePlaceholder: 'No file selected',\r\n\t\t\t\t\t\tfileBrowse: 'Browse...',\r\n\t\t\t\t\t\tfileNumber: 'Selected files: %s',\r\n\t\t\t\t\t\tselectPlaceholder: 'Select...',\r\n\t\t\t\t\t\tselectSearchNotFound: 'No matches found',\r\n\t\t\t\t\t\tselectSearchPlaceholder: 'Search...'\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonSelectOpened: function() {},\r\n\t\t\t\tonSelectClosed: function() {},\r\n\t\t\t\tonFormStyled: function() {}\r\n\t\t\t};\r\n\r\n\tfunction Plugin(element, options) {\r\n\t\tthis.element = element;\r\n\t\tthis.options = $.extend({}, defaults, options);\r\n\t\tvar locale = this.options.locale;\r\n\t\tif (this.options.locales[locale] !== undefined) {\r\n\t\t\t$.extend(this.options, this.options.locales[locale]);\r\n\t\t}\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tPlugin.prototype = {\r\n\r\n\t\t// инициализация\r\n\t\tinit: function() {\r\n\r\n\t\t\tvar el = $(this.element);\r\n\t\t\tvar opt = this.options;\r\n\r\n\t\t\tvar iOS = (navigator.userAgent.match(/(iPad|iPhone|iPod)/i) && !navigator.userAgent.match(/(Windows\\sPhone)/i)) ? true : false;\r\n\t\t\tvar Android = (navigator.userAgent.match(/Android/i) && !navigator.userAgent.match(/(Windows\\sPhone)/i)) ? true : false;\r\n\r\n\t\t\tfunction Attributes() {\r\n\t\t\t\tif (el.attr('id') !== undefined && el.attr('id') !== '') {\r\n\t\t\t\t\tthis.id = el.attr('id') + opt.idSuffix;\r\n\t\t\t\t}\r\n\t\t\t\tthis.title = el.attr('title');\r\n\t\t\t\tthis.classes = el.attr('class');\r\n\t\t\t\tthis.data = el.data();\r\n\t\t\t}\r\n\r\n\t\t\t// checkbox\r\n\t\t\tif (el.is(':checkbox')) {\r\n\r\n\t\t\t\tvar checkboxOutput = function() {\r\n\r\n\t\t\t\t\tvar att = new Attributes();\r\n\t\t\t\t\tvar checkbox = $('<div class=\"jq-checkbox\"><div class=\"jq-checkbox__div\"></div></div>')\r\n\t\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t\tid: att.id,\r\n\t\t\t\t\t\t\ttitle: att.title\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.addClass(att.classes)\r\n\t\t\t\t\t\t.data(att.data)\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\t\tel.after(checkbox).prependTo(checkbox);\r\n\t\t\t\t\tif (el.is(':checked')) checkbox.addClass('checked');\r\n\t\t\t\t\tif (el.is(':disabled')) checkbox.addClass('disabled');\r\n\r\n\t\t\t\t\t// клик на псевдочекбокс\r\n\t\t\t\t\tcheckbox.click(function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tel.triggerHandler('click');\r\n\t\t\t\t\t\tif (!checkbox.is('.disabled')) {\r\n\t\t\t\t\t\t\tif (el.is(':checked')) {\r\n\t\t\t\t\t\t\t\tel.prop('checked', false);\r\n\t\t\t\t\t\t\t\tcheckbox.removeClass('checked');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tel.prop('checked', true);\r\n\t\t\t\t\t\t\t\tcheckbox.addClass('checked');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tel.focus().change();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// клик на label\r\n\t\t\t\t\tel.closest('label').add('label[for=\"' + el.attr('id') + '\"]').on('click.styler', function(e) {\r\n\t\t\t\t\t\tif (!$(e.target).is('a') && !$(e.target).closest(checkbox).length) {\r\n\t\t\t\t\t\t\tcheckbox.triggerHandler('click');\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// переключение по Space или Enter\r\n\t\t\t\t\tel.on('change.styler', function() {\r\n\t\t\t\t\t\tif (el.is(':checked')) checkbox.addClass('checked');\r\n\t\t\t\t\t\telse checkbox.removeClass('checked');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// чтобы переключался чекбокс, который находится в теге label\r\n\t\t\t\t\t.on('keydown.styler', function(e) {\r\n\t\t\t\t\t\tif (e.which == 32) checkbox.click();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('focus.styler', function() {\r\n\t\t\t\t\t\tif (!checkbox.is('.disabled')) checkbox.addClass('focused');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('blur.styler', function() {\r\n\t\t\t\t\t\tcheckbox.removeClass('focused');\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}; // end checkboxOutput()\r\n\r\n\t\t\t\tcheckboxOutput();\r\n\r\n\t\t\t\t// обновление при динамическом изменении\r\n\t\t\t\tel.on('refresh', function() {\r\n\t\t\t\t\tel.closest('label').add('label[for=\"' + el.attr('id') + '\"]').off('.styler');\r\n\t\t\t\t\tel.off('.styler').parent().before(el).remove();\r\n\t\t\t\t\tcheckboxOutput();\r\n\t\t\t\t});\r\n\r\n\t\t\t// end checkbox\r\n\r\n\t\t\t// radio\r\n\t\t\t} else if (el.is(':radio')) {\r\n\r\n\t\t\t\tvar radioOutput = function() {\r\n\r\n\t\t\t\t\tvar att = new Attributes();\r\n\t\t\t\t\tvar radio = $('<div class=\"jq-radio\"><div class=\"jq-radio__div\"></div></div>')\r\n\t\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t\tid: att.id,\r\n\t\t\t\t\t\t\ttitle: att.title\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.addClass(att.classes)\r\n\t\t\t\t\t\t.data(att.data)\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\t\tel.after(radio).prependTo(radio);\r\n\t\t\t\t\tif (el.is(':checked')) radio.addClass('checked');\r\n\t\t\t\t\tif (el.is(':disabled')) radio.addClass('disabled');\r\n\r\n\t\t\t\t\t// определяем общего родителя у радиокнопок с одинаковым name\r\n\t\t\t\t\t// http://stackoverflow.com/a/27733847\r\n\t\t\t\t\t$.fn.commonParents = function() {\r\n\t\t\t\t\t\tvar cachedThis = this;\r\n\t\t\t\t\t\treturn cachedThis.first().parents().filter(function() {\r\n\t\t\t\t\t\t\treturn $(this).find(cachedThis).length === cachedThis.length;\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t};\r\n\t\t\t\t\t$.fn.commonParent = function() {\r\n\t\t\t\t\t\treturn $(this).commonParents().first();\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// клик на псевдорадиокнопке\r\n\t\t\t\t\tradio.click(function(e) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\tel.triggerHandler('click');\r\n\t\t\t\t\t\tif (!radio.is('.disabled')) {\r\n\t\t\t\t\t\t\tvar inputName = $('input[name=\"' + el.attr('name') + '\"]');\r\n\t\t\t\t\t\t\tinputName.commonParent().find(inputName).prop('checked', false).parent().removeClass('checked');\r\n\t\t\t\t\t\t\tel.prop('checked', true).parent().addClass('checked');\r\n\t\t\t\t\t\t\tel.focus().change();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// клик на label\r\n\t\t\t\t\tel.closest('label').add('label[for=\"' + el.attr('id') + '\"]').on('click.styler', function(e) {\r\n\t\t\t\t\t\tif (!$(e.target).is('a') && !$(e.target).closest(radio).length) {\r\n\t\t\t\t\t\t\tradio.triggerHandler('click');\r\n\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// переключение стрелками\r\n\t\t\t\t\tel.on('change.styler', function() {\r\n\t\t\t\t\t\tel.parent().addClass('checked');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('focus.styler', function() {\r\n\t\t\t\t\t\tif (!radio.is('.disabled')) radio.addClass('focused');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('blur.styler', function() {\r\n\t\t\t\t\t\tradio.removeClass('focused');\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}; // end radioOutput()\r\n\r\n\t\t\t\tradioOutput();\r\n\r\n\t\t\t\t// обновление при динамическом изменении\r\n\t\t\t\tel.on('refresh', function() {\r\n\t\t\t\t\tel.closest('label').add('label[for=\"' + el.attr('id') + '\"]').off('.styler');\r\n\t\t\t\t\tel.off('.styler').parent().before(el).remove();\r\n\t\t\t\t\tradioOutput();\r\n\t\t\t\t});\r\n\r\n\t\t\t// end radio\r\n\r\n\t\t\t// file\r\n\t\t\t} else if (el.is(':file')) {\r\n\r\n\t\t\t\tvar fileOutput = function() {\r\n\r\n\t\t\t\t\tvar att = new Attributes();\r\n\t\t\t\t\tvar placeholder = el.data('placeholder');\r\n\t\t\t\t\tif (placeholder === undefined) placeholder = opt.filePlaceholder;\r\n\t\t\t\t\tvar browse = el.data('browse');\r\n\t\t\t\t\tif (browse === undefined || browse === '') browse = opt.fileBrowse;\r\n\r\n\t\t\t\t\tvar file =\r\n\t\t\t\t\t\t$('<div class=\"jq-file\">' +\r\n\t\t\t\t\t\t\t\t'<div class=\"jq-file__name\">' + placeholder + '</div>' +\r\n\t\t\t\t\t\t\t\t'<div class=\"jq-file__browse\">' + browse + '</div>' +\r\n\t\t\t\t\t\t\t'</div>')\r\n\t\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t\tid: att.id,\r\n\t\t\t\t\t\t\ttitle: att.title\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.addClass(att.classes)\r\n\t\t\t\t\t\t.data(att.data)\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\t\tel.after(file).appendTo(file);\r\n\t\t\t\t\tif (el.is(':disabled')) file.addClass('disabled');\r\n\r\n\t\t\t\t\tvar value = el.val();\r\n\t\t\t\t\tvar name = $('div.jq-file__name', file);\r\n\r\n\t\t\t\t\t// чтобы при динамическом изменении имя файла не сбрасывалось\r\n\t\t\t\t\tif (value) name.text(value.replace(/.+[\\\\\\/]/, ''));\r\n\r\n\t\t\t\t\tel.on('change.styler', function() {\r\n\t\t\t\t\t\tvar value = el.val();\r\n\t\t\t\t\t\tif (el.is('[multiple]')) {\r\n\t\t\t\t\t\t\tvalue = '';\r\n\t\t\t\t\t\t\tvar files = el[0].files.length;\r\n\t\t\t\t\t\t\tif (files > 0) {\r\n\t\t\t\t\t\t\t\tvar number = el.data('number');\r\n\t\t\t\t\t\t\t\tif (number === undefined) number = opt.fileNumber;\r\n\t\t\t\t\t\t\t\tnumber = number.replace('%s', files);\r\n\t\t\t\t\t\t\t\tvalue = number;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tname.text(value.replace(/.+[\\\\\\/]/, ''));\r\n\t\t\t\t\t\tif (value === '') {\r\n\t\t\t\t\t\t\tname.text(placeholder);\r\n\t\t\t\t\t\t\tfile.removeClass('changed');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tfile.addClass('changed');\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('focus.styler', function() {\r\n\t\t\t\t\t\tfile.addClass('focused');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('blur.styler', function() {\r\n\t\t\t\t\t\tfile.removeClass('focused');\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.on('click.styler', function() {\r\n\t\t\t\t\t\tfile.removeClass('focused');\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t}; // end fileOutput()\r\n\r\n\t\t\t\tfileOutput();\r\n\r\n\t\t\t\t// обновление при динамическом изменении\r\n\t\t\t\tel.on('refresh', function() {\r\n\t\t\t\t\tel.off('.styler').parent().before(el).remove();\r\n\t\t\t\t\tfileOutput();\r\n\t\t\t\t});\r\n\r\n\t\t\t// end file\r\n\r\n\t\t\t// number\r\n\t\t\t} else if (el.is('input[type=\"number\"]')) {\r\n\r\n\t\t\t\tvar numberOutput = function() {\r\n\r\n\t\t\t\t\tvar att = new Attributes();\r\n\t\t\t\t\tvar number =\r\n\t\t\t\t\t\t$('<div class=\"jq-number\">' +\r\n\t\t\t\t\t\t\t\t'<div class=\"jq-number__spin minus\"></div>' +\r\n\t\t\t\t\t\t\t\t'<div class=\"jq-number__spin plus\"></div>' +\r\n\t\t\t\t\t\t\t'</div>')\r\n\t\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t\tid: att.id,\r\n\t\t\t\t\t\t\ttitle: att.title\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.addClass(att.classes)\r\n\t\t\t\t\t\t.data(att.data)\r\n\t\t\t\t\t;\r\n\r\n\t\t\t\t\tel.after(number).prependTo(number).wrap('<div class=\"jq-number__field\"></div>');\r\n\t\t\t\t\tif (el.is(':disabled')) number.addClass('disabled');\r\n\r\n\t\t\t\t\tvar min,\r\n\t\t\t\t\t\t\tmax,\r\n\t\t\t\t\t\t\tstep,\r\n\t\t\t\t\t\t\ttimeout = null,\r\n\t\t\t\t\t\t\tinterval = null;\r\n\t\t\t\t\tif (el.attr('min') !== undefined) min = el.attr('min');\r\n\t\t\t\t\tif (el.attr('max') !== undefined) max = el.attr('max');\r\n\t\t\t\t\tif (el.attr('step') !== undefined && $.isNumeric(el.attr('step')))\r\n\t\t\t\t\t\tstep = Number(el.attr('step'));\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\tstep = Number(1);\r\n\r\n\t\t\t\t\tvar changeValue = function(spin) {\r\n\t\t\t\t\t\tvar value = el.val(),\r\n\t\t\t\t\t\t\t\tnewValue;\r\n\r\n\t\t\t\t\t\tif (!$.isNumeric(value)) {\r\n\t\t\t\t\t\t\tvalue = 0;\r\n\t\t\t\t\t\t\tel.val('0');\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif (spin.is('.minus')) {\r\n\t\t\t\t\t\t\tnewValue = Number(value) - step;\r\n\t\t\t\t\t\t} else if (spin.is('.plus')) {\r\n\t\t\t\t\t\t\tnewValue = Number(value) + step;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// определяем количество десятичных знаков после запятой в step\r\n\t\t\t\t\t\tvar decimals = (step.toString().split('.')[1] || []).length;\r\n\t\t\t\t\t\tif (decimals > 0) {\r\n\t\t\t\t\t\t\tvar multiplier = '1';\r\n\t\t\t\t\t\t\twhile (multiplier.length <= decimals) multiplier = multiplier + '0';\r\n\t\t\t\t\t\t\t// избегаем появления лишних знаков после запятой\r\n\t\t\t\t\t\t\tnewValue = Math.round(newValue * multiplier) / multiplier;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tif ($.isNumeric(min) && $.isNumeric(max)) {\r\n\t\t\t\t\t\t\tif (newValue >= min && newValue <= max) el.val(newValue);\r\n\t\t\t\t\t\t} else if ($.isNumeric(min) && !$.isNumeric(max)) {\r\n\t\t\t\t\t\t\tif (newValue >= min) el.val(newValue);\r\n\t\t\t\t\t\t} else if (!$.isNumeric(min) && $.isNumeric(max)) {\r\n\t\t\t\t\t\t\tif (newValue <= max) el.val(newValue);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tel.val(newValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif (!number.is('.disabled')) {\r\n\t\t\t\t\t\tnumber.on('mousedown', 'div.jq-number__spin', function() {\r\n\t\t\t\t\t\t\tvar spin = $(this);\r\n\t\t\t\t\t\t\tchangeValue(spin);\r\n\t\t\t\t\t\t\ttimeout = setTimeout(function(){\r\n\t\t\t\t\t\t\t\tinterval = setInterval(function(){ changeValue(spin); }, 40);\r\n\t\t\t\t\t\t\t}, 350);\r\n\t\t\t\t\t\t}).on('mouseup mouseout', 'div.jq-number__spin', function() {\r\n\t\t\t\t\t\t\tclearTimeout(timeout);\r\n\t\t\t\t\t\t\tclearInterval(interval);\r\n\t\t\t\t\t\t}).on('mouseup', 'div.jq-number__spin', function() {\r\n\t\t\t\t\t\t\tel.change().trigger('input');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tel.on('focus.styler', function() {\r\n\t\t\t\t\t\t\tnumber.addClass('focused');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on('blur.styler', function() {\r\n\t\t\t\t\t\t\tnumber.removeClass('focused');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}; // end numberOutput()\r\n\r\n\t\t\t\tnumberOutput();\r\n\r\n\t\t\t\t// обновление при динамическом изменении\r\n\t\t\t\tel.on('refresh', function() {\r\n\t\t\t\t\tel.off('.styler').closest('.jq-number').before(el).remove();\r\n\t\t\t\t\tnumberOutput();\r\n\t\t\t\t});\r\n\r\n\t\t\t// end number\r\n\r\n\t\t\t// select\r\n\t\t\t} else if (el.is('select')) {\r\n\r\n\t\t\t\tvar selectboxOutput = function() {\r\n\r\n\t\t\t\t\t// запрещаем прокрутку страницы при прокрутке селекта\r\n\t\t\t\t\tfunction preventScrolling(selector) {\r\n\r\n\t\t\t\t\t\tvar scrollDiff = selector.prop('scrollHeight') - selector.outerHeight(),\r\n\t\t\t\t\t\t\t\twheelDelta = null,\r\n\t\t\t\t\t\t\t\tscrollTop = null;\r\n\r\n\t\t\t\t\t\tselector.off('mousewheel DOMMouseScroll').on('mousewheel DOMMouseScroll', function(e) {\r\n\r\n\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t * нормализация направления прокрутки\r\n\t\t\t\t\t\t\t * (firefox < 0 || chrome etc... > 0)\r\n\t\t\t\t\t\t\t * (e.originalEvent.detail < 0 || e.originalEvent.wheelDelta > 0)\r\n\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\twheelDelta = (e.originalEvent.detail < 0 || e.originalEvent.wheelDelta > 0) ? 1 : -1; // направление прокрутки (-1 вниз, 1 вверх)\r\n\t\t\t\t\t\t\tscrollTop = selector.scrollTop(); // позиция скролла\r\n\r\n\t\t\t\t\t\t\tif ((scrollTop >= scrollDiff && wheelDelta < 0) || (scrollTop <= 0 && wheelDelta > 0)) {\r\n\t\t\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar option = $('option', el);\r\n\t\t\t\t\tvar list = '';\r\n\t\t\t\t\t// формируем список селекта\r\n\t\t\t\t\tfunction makeList() {\r\n\t\t\t\t\t\tfor (var i = 0; i < option.length; i++) {\r\n\t\t\t\t\t\t\tvar op = option.eq(i);\r\n\t\t\t\t\t\t\tvar li = '',\r\n\t\t\t\t\t\t\t\t\tliClass = '',\r\n\t\t\t\t\t\t\t\t\tliClasses = '',\r\n\t\t\t\t\t\t\t\t\tid = '',\r\n\t\t\t\t\t\t\t\t\ttitle = '',\r\n\t\t\t\t\t\t\t\t\tdataList = '',\r\n\t\t\t\t\t\t\t\t\toptionClass = '',\r\n\t\t\t\t\t\t\t\t\toptgroupClass = '',\r\n\t\t\t\t\t\t\t\t\tdataJqfsClass = '';\r\n\t\t\t\t\t\t\tvar disabled = 'disabled';\r\n\t\t\t\t\t\t\tvar selDis = 'selected sel disabled';\r\n\t\t\t\t\t\t\tif (op.prop('selected')) liClass = 'selected sel';\r\n\t\t\t\t\t\t\tif (op.is(':disabled')) liClass = disabled;\r\n\t\t\t\t\t\t\tif (op.is(':selected:disabled')) liClass = selDis;\r\n\t\t\t\t\t\t\tif (op.attr('id') !== undefined && op.attr('id') !== '') id = ' id=\"' + op.attr('id') + opt.idSuffix + '\"';\r\n\t\t\t\t\t\t\tif (op.attr('title') !== undefined && option.attr('title') !== '') title = ' title=\"' + op.attr('title') + '\"';\r\n\t\t\t\t\t\t\tif (op.attr('class') !== undefined) {\r\n\t\t\t\t\t\t\t\toptionClass = ' ' + op.attr('class');\r\n\t\t\t\t\t\t\t\tdataJqfsClass = ' data-jqfs-class=\"' + op.attr('class') + '\"';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tvar data = op.data();\r\n\t\t\t\t\t\t\tfor (var k in data) {\r\n\t\t\t\t\t\t\t\tif (data[k] !== '') dataList += ' data-' + k + '=\"' + data[k] + '\"';\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( (liClass + optionClass) !== '' )   liClasses = ' class=\"' + liClass + optionClass + '\"';\r\n\t\t\t\t\t\t\tli = '<li' + dataJqfsClass + dataList + liClasses + title + id + '>'+ op.html() +'</li>';\r\n\r\n\t\t\t\t\t\t\t// если есть optgroup\r\n\t\t\t\t\t\t\tif (op.parent().is('optgroup')) {\r\n\t\t\t\t\t\t\t\tif (op.parent().attr('class') !== undefined) optgroupClass = ' ' + op.parent().attr('class');\r\n\t\t\t\t\t\t\t\tli = '<li' + dataJqfsClass + dataList + ' class=\"' + liClass + optionClass + ' option' + optgroupClass + '\"' + title + id + '>'+ op.html() +'</li>';\r\n\t\t\t\t\t\t\t\tif (op.is(':first-child')) {\r\n\t\t\t\t\t\t\t\t\tli = '<li class=\"optgroup' + optgroupClass + '\">' + op.parent().attr('label') + '</li>' + li;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tlist += li;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} // end makeList()\r\n\r\n\t\t\t\t\t// одиночный селект\r\n\t\t\t\t\tfunction doSelect() {\r\n\r\n\t\t\t\t\t\tvar att = new Attributes();\r\n\t\t\t\t\t\tvar searchHTML = '';\r\n\t\t\t\t\t\tvar selectPlaceholder = el.data('placeholder');\r\n\t\t\t\t\t\tvar selectSearch = el.data('search');\r\n\t\t\t\t\t\tvar selectSearchLimit = el.data('search-limit');\r\n\t\t\t\t\t\tvar selectSearchNotFound = el.data('search-not-found');\r\n\t\t\t\t\t\tvar selectSearchPlaceholder = el.data('search-placeholder');\r\n\t\t\t\t\t\tvar selectSmartPositioning = el.data('smart-positioning');\r\n\r\n\t\t\t\t\t\tif (selectPlaceholder === undefined) selectPlaceholder = opt.selectPlaceholder;\r\n\t\t\t\t\t\tif (selectSearch === undefined || selectSearch === '') selectSearch = opt.selectSearch;\r\n\t\t\t\t\t\tif (selectSearchLimit === undefined || selectSearchLimit === '') selectSearchLimit = opt.selectSearchLimit;\r\n\t\t\t\t\t\tif (selectSearchNotFound === undefined || selectSearchNotFound === '') selectSearchNotFound = opt.selectSearchNotFound;\r\n\t\t\t\t\t\tif (selectSearchPlaceholder === undefined) selectSearchPlaceholder = opt.selectSearchPlaceholder;\r\n\t\t\t\t\t\tif (selectSmartPositioning === undefined || selectSmartPositioning === '') selectSmartPositioning = opt.selectSmartPositioning;\r\n\r\n\t\t\t\t\t\tvar selectbox =\r\n\t\t\t\t\t\t\t$('<div class=\"jq-selectbox jqselect\">' +\r\n\t\t\t\t\t\t\t\t\t'<div class=\"jq-selectbox__select\">' +\r\n\t\t\t\t\t\t\t\t\t\t'<div class=\"jq-selectbox__select-text\"></div>' +\r\n\t\t\t\t\t\t\t\t\t\t'<div class=\"jq-selectbox__trigger\">' +\r\n\t\t\t\t\t\t\t\t\t\t\t'<div class=\"jq-selectbox__trigger-arrow\"></div></div>' +\r\n\t\t\t\t\t\t\t\t\t'</div>' +\r\n\t\t\t\t\t\t\t\t'</div>')\r\n\t\t\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t\t\tid: att.id,\r\n\t\t\t\t\t\t\t\ttitle: att.title\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.addClass(att.classes)\r\n\t\t\t\t\t\t\t.data(att.data)\r\n\t\t\t\t\t\t;\r\n\r\n\t\t\t\t\t\tel.after(selectbox).prependTo(selectbox);\r\n\r\n\t\t\t\t\t\tvar selectzIndex = selectbox.css('z-index');\r\n\t\t\t\t\t\tselectzIndex = (selectzIndex > 0 ) ? selectzIndex : 1;\r\n\t\t\t\t\t\tvar divSelect = $('div.jq-selectbox__select', selectbox);\r\n\t\t\t\t\t\tvar divText = $('div.jq-selectbox__select-text', selectbox);\r\n\t\t\t\t\t\tvar optionSelected = option.filter(':selected');\r\n\r\n\t\t\t\t\t\tmakeList();\r\n\r\n\t\t\t\t\t\tif (selectSearch) searchHTML =\r\n\t\t\t\t\t\t\t'<div class=\"jq-selectbox__search\"><input type=\"search\" autocomplete=\"off\" placeholder=\"' + selectSearchPlaceholder + '\"></div>' +\r\n\t\t\t\t\t\t\t'<div class=\"jq-selectbox__not-found\">' + selectSearchNotFound + '</div>';\r\n\t\t\t\t\t\tvar dropdown =\r\n\t\t\t\t\t\t\t$('<div class=\"jq-selectbox__dropdown\">' +\r\n\t\t\t\t\t\t\t\t\tsearchHTML + '<ul>' + list + '</ul>' +\r\n\t\t\t\t\t\t\t\t'</div>');\r\n\t\t\t\t\t\tselectbox.append(dropdown);\r\n\t\t\t\t\t\tvar ul = $('ul', dropdown);\r\n\t\t\t\t\t\tvar li = $('li', dropdown);\r\n\t\t\t\t\t\tvar search = $('input', dropdown);\r\n\t\t\t\t\t\tvar notFound = $('div.jq-selectbox__not-found', dropdown).hide();\r\n\t\t\t\t\t\tif (li.length < selectSearchLimit) search.parent().hide();\r\n\r\n\t\t\t\t\t\t// показываем опцию по умолчанию\r\n\t\t\t\t\t\t// если у 1-й опции нет текста, она выбрана по умолчанию и параметр selectPlaceholder не false, то показываем плейсхолдер\r\n\t\t\t\t\t\tif (option.first().text() === '' && option.first().is(':selected') && selectPlaceholder !== false) {\r\n\t\t\t\t\t\t\tdivText.text(selectPlaceholder).addClass('placeholder');\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tdivText.text(optionSelected.text());\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// определяем самый широкий пункт селекта\r\n\t\t\t\t\t\tvar liWidthInner = 0,\r\n\t\t\t\t\t\t\t\tliWidth = 0;\r\n\t\t\t\t\t\tli.css({'display': 'inline-block'});\r\n\t\t\t\t\t\tli.each(function() {\r\n\t\t\t\t\t\t\tvar l = $(this);\r\n\t\t\t\t\t\t\tif (l.innerWidth() > liWidthInner) {\r\n\t\t\t\t\t\t\t\tliWidthInner = l.innerWidth();\r\n\t\t\t\t\t\t\t\tliWidth = l.width();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tli.css({'display': ''});\r\n\r\n\t\t\t\t\t\t// подстраиваем ширину свернутого селекта в зависимости\r\n\t\t\t\t\t\t// от ширины плейсхолдера или самого широкого пункта\r\n\t\t\t\t\t\tif (divText.is('.placeholder') && (divText.width() > liWidthInner)) {\r\n\t\t\t\t\t\t\tdivText.width(divText.width());\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvar selClone = selectbox.clone().appendTo('body').width('auto');\r\n\t\t\t\t\t\t\tvar selCloneWidth = selClone.outerWidth();\r\n\t\t\t\t\t\t\tselClone.remove();\r\n\t\t\t\t\t\t\tif (selCloneWidth == selectbox.outerWidth()) {\r\n\t\t\t\t\t\t\t\tdivText.width(liWidth);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// подстраиваем ширину выпадающего списка в зависимости от самого широкого пункта\r\n\t\t\t\t\t\tif (liWidthInner > selectbox.width()) dropdown.width(liWidthInner);\r\n\r\n\t\t\t\t\t\t// прячем 1-ю пустую опцию, если она есть и если атрибут data-placeholder не пустой\r\n\t\t\t\t\t\t// если все же нужно, чтобы первая пустая опция отображалась, то указываем у селекта: data-placeholder=\"\"\r\n\t\t\t\t\t\tif (option.first().text() === '' && el.data('placeholder') !== '') {\r\n\t\t\t\t\t\t\tli.first().hide();\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar selectHeight = selectbox.outerHeight(true);\r\n\t\t\t\t\t\tvar searchHeight = search.parent().outerHeight(true) || 0;\r\n\t\t\t\t\t\tvar isMaxHeight = ul.css('max-height');\r\n\t\t\t\t\t\tvar liSelected = li.filter('.selected');\r\n\t\t\t\t\t\tif (liSelected.length < 1) li.first().addClass('selected sel');\r\n\t\t\t\t\t\tif (li.data('li-height') === undefined) {\r\n\t\t\t\t\t\t\tvar liOuterHeight = li.outerHeight();\r\n\t\t\t\t\t\t\tif (selectPlaceholder !== false) liOuterHeight = li.eq(1).outerHeight();\r\n\t\t\t\t\t\t\tli.data('li-height', liOuterHeight);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar position = dropdown.css('top');\r\n\t\t\t\t\t\tif (dropdown.css('left') == 'auto') dropdown.css({left: 0});\r\n\t\t\t\t\t\tif (dropdown.css('top') == 'auto') {\r\n\t\t\t\t\t\t\tdropdown.css({top: selectHeight});\r\n\t\t\t\t\t\t\tposition = selectHeight;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdropdown.hide();\r\n\r\n\t\t\t\t\t\t// если выбран не дефолтный пункт\r\n\t\t\t\t\t\tif (liSelected.length) {\r\n\t\t\t\t\t\t\t// добавляем класс, показывающий изменение селекта\r\n\t\t\t\t\t\t\tif (option.first().text() != optionSelected.text()) {\r\n\t\t\t\t\t\t\t\tselectbox.addClass('changed');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// передаем селекту класс выбранного пункта\r\n\t\t\t\t\t\t\tselectbox.data('jqfs-class', liSelected.data('jqfs-class'));\r\n\t\t\t\t\t\t\tselectbox.addClass(liSelected.data('jqfs-class'));\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// если селект неактивный\r\n\t\t\t\t\t\tif (el.is(':disabled')) {\r\n\t\t\t\t\t\t\tselectbox.addClass('disabled');\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// при клике на псевдоселекте\r\n\t\t\t\t\t\tdivSelect.click(function() {\r\n\r\n\t\t\t\t\t\t\t// колбек при закрытии селекта\r\n\t\t\t\t\t\t\tif ($('div.jq-selectbox').filter('.opened').length) {\r\n\t\t\t\t\t\t\t\topt.onSelectClosed.call($('div.jq-selectbox').filter('.opened'));\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tel.focus();\r\n\r\n\t\t\t\t\t\t\t// если iOS, то не показываем выпадающий список,\r\n\t\t\t\t\t\t\t// т.к. отображается нативный и неизвестно, как его спрятать\r\n\t\t\t\t\t\t\tif (iOS) return;\r\n\r\n\t\t\t\t\t\t\t// умное позиционирование\r\n\t\t\t\t\t\t\tvar win = $(window);\r\n\t\t\t\t\t\t\tvar liHeight = li.data('li-height');\r\n\t\t\t\t\t\t\tvar topOffset = selectbox.offset().top;\r\n\t\t\t\t\t\t\tvar bottomOffset = win.height() - selectHeight - (topOffset - win.scrollTop());\r\n\t\t\t\t\t\t\tvar visible = el.data('visible-options');\r\n\t\t\t\t\t\t\tif (visible === undefined || visible === '') visible = opt.selectVisibleOptions;\r\n\t\t\t\t\t\t\tvar minHeight = liHeight * 5;\r\n\t\t\t\t\t\t\tvar newHeight = liHeight * visible;\r\n\t\t\t\t\t\t\tif (visible > 0 && visible < 6) minHeight = newHeight;\r\n\t\t\t\t\t\t\tif (visible === 0) newHeight = 'auto';\r\n\r\n\t\t\t\t\t\t\tvar dropDown = function() {\r\n\t\t\t\t\t\t\t\tdropdown.height('auto').css({bottom: 'auto', top: position});\r\n\t\t\t\t\t\t\t\tvar maxHeightBottom = function() {\r\n\t\t\t\t\t\t\t\t\tul.css('max-height', Math.floor((bottomOffset - 20 - searchHeight) / liHeight) * liHeight);\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tmaxHeightBottom();\r\n\t\t\t\t\t\t\t\tul.css('max-height', newHeight);\r\n\t\t\t\t\t\t\t\tif (isMaxHeight != 'none') {\r\n\t\t\t\t\t\t\t\t\tul.css('max-height', isMaxHeight);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (bottomOffset < (dropdown.outerHeight() + 20)) {\r\n\t\t\t\t\t\t\t\t\tmaxHeightBottom();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\tvar dropUp = function() {\r\n\t\t\t\t\t\t\t\tdropdown.height('auto').css({top: 'auto', bottom: position});\r\n\t\t\t\t\t\t\t\tvar maxHeightTop = function() {\r\n\t\t\t\t\t\t\t\t\tul.css('max-height', Math.floor((topOffset - win.scrollTop() - 20 - searchHeight) / liHeight) * liHeight);\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tmaxHeightTop();\r\n\t\t\t\t\t\t\t\tul.css('max-height', newHeight);\r\n\t\t\t\t\t\t\t\tif (isMaxHeight != 'none') {\r\n\t\t\t\t\t\t\t\t\tul.css('max-height', isMaxHeight);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ((topOffset - win.scrollTop() - 20) < (dropdown.outerHeight() + 20)) {\r\n\t\t\t\t\t\t\t\t\tmaxHeightTop();\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\tif (selectSmartPositioning === true || selectSmartPositioning === 1) {\r\n\t\t\t\t\t\t\t\t// раскрытие вниз\r\n\t\t\t\t\t\t\t\tif (bottomOffset > (minHeight + searchHeight + 20)) {\r\n\t\t\t\t\t\t\t\t\tdropDown();\r\n\t\t\t\t\t\t\t\t\tselectbox.removeClass('dropup').addClass('dropdown');\r\n\t\t\t\t\t\t\t\t// раскрытие вверх\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tdropUp();\r\n\t\t\t\t\t\t\t\t\tselectbox.removeClass('dropdown').addClass('dropup');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (selectSmartPositioning === false || selectSmartPositioning === 0) {\r\n\t\t\t\t\t\t\t\t// раскрытие вниз\r\n\t\t\t\t\t\t\t\tif (bottomOffset > (minHeight + searchHeight + 20)) {\r\n\t\t\t\t\t\t\t\t\tdropDown();\r\n\t\t\t\t\t\t\t\t\tselectbox.removeClass('dropup').addClass('dropdown');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t// если умное позиционирование отключено\r\n\t\t\t\t\t\t\t\tdropdown.height('auto').css({bottom: 'auto', top: position});\r\n\t\t\t\t\t\t\t\tul.css('max-height', newHeight);\r\n\t\t\t\t\t\t\t\tif (isMaxHeight != 'none') {\r\n\t\t\t\t\t\t\t\t\tul.css('max-height', isMaxHeight);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// если выпадающий список выходит за правый край окна браузера,\r\n\t\t\t\t\t\t\t// то меняем позиционирование с левого на правое\r\n\t\t\t\t\t\t\tif (selectbox.offset().left + dropdown.outerWidth() > win.width()) {\r\n\t\t\t\t\t\t\t\tdropdown.css({left: 'auto', right: 0});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// конец умного позиционирования\r\n\r\n\t\t\t\t\t\t\t$('div.jqselect').css({zIndex: (selectzIndex - 1)}).removeClass('opened');\r\n\t\t\t\t\t\t\tselectbox.css({zIndex: selectzIndex});\r\n\t\t\t\t\t\t\tif (dropdown.is(':hidden')) {\r\n\t\t\t\t\t\t\t\t$('div.jq-selectbox__dropdown:visible').hide();\r\n\t\t\t\t\t\t\t\tdropdown.show();\r\n\t\t\t\t\t\t\t\tselectbox.addClass('opened focused');\r\n\t\t\t\t\t\t\t\t// колбек при открытии селекта\r\n\t\t\t\t\t\t\t\topt.onSelectOpened.call(selectbox);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdropdown.hide();\r\n\t\t\t\t\t\t\t\tselectbox.removeClass('opened dropup dropdown');\r\n\t\t\t\t\t\t\t\t// колбек при закрытии селекта\r\n\t\t\t\t\t\t\t\tif ($('div.jq-selectbox').filter('.opened').length) {\r\n\t\t\t\t\t\t\t\t\topt.onSelectClosed.call(selectbox);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// поисковое поле\r\n\t\t\t\t\t\t\tif (search.length) {\r\n\t\t\t\t\t\t\t\tsearch.val('').keyup();\r\n\t\t\t\t\t\t\t\tnotFound.hide();\r\n\t\t\t\t\t\t\t\tsearch.keyup(function() {\r\n\t\t\t\t\t\t\t\t\tvar query = $(this).val();\r\n\t\t\t\t\t\t\t\t\tli.each(function() {\r\n\t\t\t\t\t\t\t\t\t\tif (!$(this).html().match(new RegExp('.*?' + query + '.*?', 'i'))) {\r\n\t\t\t\t\t\t\t\t\t\t\t$(this).hide();\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t$(this).show();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t// прячем 1-ю пустую опцию\r\n\t\t\t\t\t\t\t\t\tif (option.first().text() === '' && el.data('placeholder') !== '') {\r\n\t\t\t\t\t\t\t\t\t\tli.first().hide();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (li.filter(':visible').length < 1) {\r\n\t\t\t\t\t\t\t\t\t\tnotFound.show();\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tnotFound.hide();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// прокручиваем до выбранного пункта при открытии списка\r\n\t\t\t\t\t\t\tif (li.filter('.selected').length) {\r\n\t\t\t\t\t\t\t\tif (el.val() === '') {\r\n\t\t\t\t\t\t\t\t\tul.scrollTop(0);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// если нечетное количество видимых пунктов,\r\n\t\t\t\t\t\t\t\t\t// то высоту пункта делим пополам для последующего расчета\r\n\t\t\t\t\t\t\t\t\tif ( (ul.innerHeight() / liHeight) % 2 !== 0 ) liHeight = liHeight / 2;\r\n\t\t\t\t\t\t\t\t\tul.scrollTop(ul.scrollTop() + li.filter('.selected').position().top - ul.innerHeight() / 2 + liHeight);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tpreventScrolling(ul);\r\n\r\n\t\t\t\t\t\t}); // end divSelect.click()\r\n\r\n\t\t\t\t\t\t// при наведении курсора на пункт списка\r\n\t\t\t\t\t\tli.hover(function() {\r\n\t\t\t\t\t\t\t$(this).siblings().removeClass('selected');\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tvar selectedText = li.filter('.selected').text();\r\n\r\n\t\t\t\t\t\t// при клике на пункт списка\r\n\t\t\t\t\t\tli.filter(':not(.disabled):not(.optgroup)').click(function() {\r\n\t\t\t\t\t\t\tel.focus();\r\n\t\t\t\t\t\t\tvar t = $(this);\r\n\t\t\t\t\t\t\tvar liText = t.text();\r\n\t\t\t\t\t\t\tif (!t.is('.selected')) {\r\n\t\t\t\t\t\t\t\tvar index = t.index();\r\n\t\t\t\t\t\t\t\tindex -= t.prevAll('.optgroup').length;\r\n\t\t\t\t\t\t\t\tt.addClass('selected sel').siblings().removeClass('selected sel');\r\n\t\t\t\t\t\t\t\toption.prop('selected', false).eq(index).prop('selected', true);\r\n\t\t\t\t\t\t\t\tselectedText = liText;\r\n\t\t\t\t\t\t\t\tdivText.text(liText);\r\n\r\n\t\t\t\t\t\t\t\t// передаем селекту класс выбранного пункта\r\n\t\t\t\t\t\t\t\tif (selectbox.data('jqfs-class')) selectbox.removeClass(selectbox.data('jqfs-class'));\r\n\t\t\t\t\t\t\t\tselectbox.data('jqfs-class', t.data('jqfs-class'));\r\n\t\t\t\t\t\t\t\tselectbox.addClass(t.data('jqfs-class'));\r\n\r\n\t\t\t\t\t\t\t\tel.change();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdropdown.hide();\r\n\t\t\t\t\t\t\tselectbox.removeClass('opened dropup dropdown');\r\n\t\t\t\t\t\t\t// колбек при закрытии селекта\r\n\t\t\t\t\t\t\topt.onSelectClosed.call(selectbox);\r\n\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tdropdown.mouseout(function() {\r\n\t\t\t\t\t\t\t$('li.sel', dropdown).addClass('selected');\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// изменение селекта\r\n\t\t\t\t\t\tel.on('change.styler', function() {\r\n\t\t\t\t\t\t\tdivText.text(option.filter(':selected').text()).removeClass('placeholder');\r\n\t\t\t\t\t\t\tli.removeClass('selected sel').not('.optgroup').eq(el[0].selectedIndex).addClass('selected sel');\r\n\t\t\t\t\t\t\t// добавляем класс, показывающий изменение селекта\r\n\t\t\t\t\t\t\tif (option.first().text() != li.filter('.selected').text()) {\r\n\t\t\t\t\t\t\t\tselectbox.addClass('changed');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tselectbox.removeClass('changed');\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on('focus.styler', function() {\r\n\t\t\t\t\t\t\tselectbox.addClass('focused');\r\n\t\t\t\t\t\t\t$('div.jqselect').not('.focused').removeClass('opened dropup dropdown').find('div.jq-selectbox__dropdown').hide();\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t.on('blur.styler', function() {\r\n\t\t\t\t\t\t\tselectbox.removeClass('focused');\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// изменение селекта с клавиатуры\r\n\t\t\t\t\t\t.on('keydown.styler keyup.styler', function(e) {\r\n\t\t\t\t\t\t\tvar liHeight = li.data('li-height');\r\n\t\t\t\t\t\t\tif (el.val() === '') {\r\n\t\t\t\t\t\t\t\tdivText.text(selectPlaceholder).addClass('placeholder');\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tdivText.text(option.filter(':selected').text());\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tli.removeClass('selected sel').not('.optgroup').eq(el[0].selectedIndex).addClass('selected sel');\r\n\t\t\t\t\t\t\t// вверх, влево, Page Up, Home\r\n\t\t\t\t\t\t\tif (e.which == 38 || e.which == 37 || e.which == 33 || e.which == 36) {\r\n\t\t\t\t\t\t\t\tif (el.val() === '') {\r\n\t\t\t\t\t\t\t\t\tul.scrollTop(0);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tul.scrollTop(ul.scrollTop() + li.filter('.selected').position().top);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// вниз, вправо, Page Down, End\r\n\t\t\t\t\t\t\tif (e.which == 40 || e.which == 39 || e.which == 34 || e.which == 35) {\r\n\t\t\t\t\t\t\t\tul.scrollTop(ul.scrollTop() + li.filter('.selected').position().top - ul.innerHeight() + liHeight);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t// закрываем выпадающий список при нажатии Enter\r\n\t\t\t\t\t\t\tif (e.which == 13) {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tdropdown.hide();\r\n\t\t\t\t\t\t\t\tselectbox.removeClass('opened dropup dropdown');\r\n\t\t\t\t\t\t\t\t// колбек при закрытии селекта\r\n\t\t\t\t\t\t\t\topt.onSelectClosed.call(selectbox);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}).on('keydown.styler', function(e) {\r\n\t\t\t\t\t\t\t// открываем выпадающий список при нажатии Space\r\n\t\t\t\t\t\t\tif (e.which == 32) {\r\n\t\t\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\t\t\tdivSelect.click();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// прячем выпадающий список при клике за пределами селекта\r\n\t\t\t\t\t\tif (!onDocumentClick.registered) {\r\n\t\t\t\t\t\t\t$(document).on('click', onDocumentClick);\r\n\t\t\t\t\t\t\tonDocumentClick.registered = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t} // end doSelect()\r\n\r\n\t\t\t\t\t// мультиселект\r\n\t\t\t\t\tfunction doMultipleSelect() {\r\n\r\n\t\t\t\t\t\tvar att = new Attributes();\r\n\t\t\t\t\t\tvar selectbox =\r\n\t\t\t\t\t\t\t$('<div class=\"jq-select-multiple jqselect\"></div>')\r\n\t\t\t\t\t\t\t.attr({\r\n\t\t\t\t\t\t\t\tid: att.id,\r\n\t\t\t\t\t\t\t\ttitle: att.title\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.addClass(att.classes)\r\n\t\t\t\t\t\t\t.data(att.data)\r\n\t\t\t\t\t\t;\r\n\r\n\t\t\t\t\t\tel.after(selectbox);\r\n\r\n\t\t\t\t\t\tmakeList();\r\n\t\t\t\t\t\tselectbox.append('<ul>' + list + '</ul>');\r\n\t\t\t\t\t\tvar ul = $('ul', selectbox);\r\n\t\t\t\t\t\tvar li = $('li', selectbox);\r\n\t\t\t\t\t\tvar size = el.attr('size');\r\n\t\t\t\t\t\tvar ulHeight = ul.outerHeight();\r\n\t\t\t\t\t\tvar liHeight = li.outerHeight();\r\n\t\t\t\t\t\tif (size !== undefined && size > 0) {\r\n\t\t\t\t\t\t\tul.css({'height': liHeight * size});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tul.css({'height': liHeight * 4});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (ulHeight > selectbox.height()) {\r\n\t\t\t\t\t\t\tul.css('overflowY', 'scroll');\r\n\t\t\t\t\t\t\tpreventScrolling(ul);\r\n\t\t\t\t\t\t\t// прокручиваем до выбранного пункта\r\n\t\t\t\t\t\t\tif (li.filter('.selected').length) {\r\n\t\t\t\t\t\t\t\tul.scrollTop(ul.scrollTop() + li.filter('.selected').position().top);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// прячем оригинальный селект\r\n\t\t\t\t\t\tel.prependTo(selectbox);\r\n\r\n\t\t\t\t\t\t// если селект неактивный\r\n\t\t\t\t\t\tif (el.is(':disabled')) {\r\n\t\t\t\t\t\t\tselectbox.addClass('disabled');\r\n\t\t\t\t\t\t\toption.each(function() {\r\n\t\t\t\t\t\t\t\tif ($(this).is(':selected')) li.eq($(this).index()).addClass('selected');\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t// если селект активный\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t// при клике на пункт списка\r\n\t\t\t\t\t\t\tli.filter(':not(.disabled):not(.optgroup)').click(function(e) {\r\n\t\t\t\t\t\t\t\tel.focus();\r\n\t\t\t\t\t\t\t\tvar clkd = $(this);\r\n\t\t\t\t\t\t\t\tif(!e.ctrlKey && !e.metaKey) clkd.addClass('selected');\r\n\t\t\t\t\t\t\t\tif(!e.shiftKey) clkd.addClass('first');\r\n\t\t\t\t\t\t\t\tif(!e.ctrlKey && !e.metaKey && !e.shiftKey) clkd.siblings().removeClass('selected first');\r\n\r\n\t\t\t\t\t\t\t\t// выделение пунктов при зажатом Ctrl\r\n\t\t\t\t\t\t\t\tif(e.ctrlKey || e.metaKey) {\r\n\t\t\t\t\t\t\t\t\tif (clkd.is('.selected')) clkd.removeClass('selected first');\r\n\t\t\t\t\t\t\t\t\t\telse clkd.addClass('selected first');\r\n\t\t\t\t\t\t\t\t\tclkd.siblings().removeClass('first');\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// выделение пунктов при зажатом Shift\r\n\t\t\t\t\t\t\t\tif(e.shiftKey) {\r\n\t\t\t\t\t\t\t\t\tvar prev = false,\r\n\t\t\t\t\t\t\t\t\t\t\tnext = false;\r\n\t\t\t\t\t\t\t\t\tclkd.siblings().removeClass('selected').siblings('.first').addClass('selected');\r\n\t\t\t\t\t\t\t\t\tclkd.prevAll().each(function() {\r\n\t\t\t\t\t\t\t\t\t\tif ($(this).is('.first')) prev = true;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tclkd.nextAll().each(function() {\r\n\t\t\t\t\t\t\t\t\t\tif ($(this).is('.first')) next = true;\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif (prev) {\r\n\t\t\t\t\t\t\t\t\t\tclkd.prevAll().each(function() {\r\n\t\t\t\t\t\t\t\t\t\t\tif ($(this).is('.selected')) return false;\r\n\t\t\t\t\t\t\t\t\t\t\t\telse $(this).not('.disabled, .optgroup').addClass('selected');\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (next) {\r\n\t\t\t\t\t\t\t\t\t\tclkd.nextAll().each(function() {\r\n\t\t\t\t\t\t\t\t\t\t\tif ($(this).is('.selected')) return false;\r\n\t\t\t\t\t\t\t\t\t\t\t\telse $(this).not('.disabled, .optgroup').addClass('selected');\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif (li.filter('.selected').length == 1) clkd.addClass('first');\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// отмечаем выбранные мышью\r\n\t\t\t\t\t\t\t\toption.prop('selected', false);\r\n\t\t\t\t\t\t\t\tli.filter('.selected').each(function() {\r\n\t\t\t\t\t\t\t\t\tvar t = $(this);\r\n\t\t\t\t\t\t\t\t\tvar index = t.index();\r\n\t\t\t\t\t\t\t\t\tif (t.is('.option')) index -= t.prevAll('.optgroup').length;\r\n\t\t\t\t\t\t\t\t\toption.eq(index).prop('selected', true);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tel.change();\r\n\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// отмечаем выбранные с клавиатуры\r\n\t\t\t\t\t\t\toption.each(function(i) {\r\n\t\t\t\t\t\t\t\t$(this).data('optionIndex', i);\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tel.on('change.styler', function() {\r\n\t\t\t\t\t\t\t\tli.removeClass('selected');\r\n\t\t\t\t\t\t\t\tvar arrIndexes = [];\r\n\t\t\t\t\t\t\t\toption.filter(':selected').each(function() {\r\n\t\t\t\t\t\t\t\t\tarrIndexes.push($(this).data('optionIndex'));\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\tli.not('.optgroup').filter(function(i) {\r\n\t\t\t\t\t\t\t\t\treturn $.inArray(i, arrIndexes) > -1;\r\n\t\t\t\t\t\t\t\t}).addClass('selected');\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.on('focus.styler', function() {\r\n\t\t\t\t\t\t\t\tselectbox.addClass('focused');\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t.on('blur.styler', function() {\r\n\t\t\t\t\t\t\t\tselectbox.removeClass('focused');\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\t// прокручиваем с клавиатуры\r\n\t\t\t\t\t\t\tif (ulHeight > selectbox.height()) {\r\n\t\t\t\t\t\t\t\tel.on('keydown.styler', function(e) {\r\n\t\t\t\t\t\t\t\t\t// вверх, влево, PageUp\r\n\t\t\t\t\t\t\t\t\tif (e.which == 38 || e.which == 37 || e.which == 33) {\r\n\t\t\t\t\t\t\t\t\t\tul.scrollTop(ul.scrollTop() + li.filter('.selected').position().top - liHeight);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t// вниз, вправо, PageDown\r\n\t\t\t\t\t\t\t\t\tif (e.which == 40 || e.which == 39 || e.which == 34) {\r\n\t\t\t\t\t\t\t\t\t\tul.scrollTop(ul.scrollTop() + li.filter('.selected:last').position().top - ul.innerHeight() + liHeight * 2);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} // end doMultipleSelect()\r\n\r\n\t\t\t\t\tif (el.is('[multiple]')) {\r\n\r\n\t\t\t\t\t\t// если Android или iOS, то мультиселект не стилизуем\r\n\t\t\t\t\t\t// причина для Android - в стилизованном селекте нет возможности выбрать несколько пунктов\r\n\t\t\t\t\t\t// причина для iOS - в стилизованном селекте неправильно отображаются выбранные пункты\r\n\t\t\t\t\t\tif (Android || iOS) return;\r\n\r\n\t\t\t\t\t\tdoMultipleSelect();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdoSelect();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t}; // end selectboxOutput()\r\n\r\n\t\t\t\tselectboxOutput();\r\n\r\n\t\t\t\t// обновление при динамическом изменении\r\n\t\t\t\tel.on('refresh', function() {\r\n\t\t\t\t\tel.off('.styler').parent().before(el).remove();\r\n\t\t\t\t\tselectboxOutput();\r\n\t\t\t\t});\r\n\r\n\t\t\t// end select\r\n\r\n\t\t\t// reset\r\n\t\t\t} else if (el.is(':reset')) {\r\n\t\t\t\tel.on('click', function() {\r\n\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\tel.closest('form').find('input, select').trigger('refresh');\r\n\t\t\t\t\t}, 1);\r\n\t\t\t\t});\r\n\t\t\t} // end reset\r\n\r\n\t\t}, // init: function()\r\n\r\n\t\t// деструктор\r\n\t\tdestroy: function() {\r\n\r\n\t\t\tvar el = $(this.element);\r\n\r\n\t\t\tif (el.is(':checkbox') || el.is(':radio')) {\r\n\t\t\t\tel.removeData('_' + pluginName).off('.styler refresh').removeAttr('style').parent().before(el).remove();\r\n\t\t\t\tel.closest('label').add('label[for=\"' + el.attr('id') + '\"]').off('.styler');\r\n\t\t\t} else if (el.is('input[type=\"number\"]')) {\r\n\t\t\t\tel.removeData('_' + pluginName).off('.styler refresh').closest('.jq-number').before(el).remove();\r\n\t\t\t} else if (el.is(':file') || el.is('select')) {\r\n\t\t\t\tel.removeData('_' + pluginName).off('.styler refresh').removeAttr('style').parent().before(el).remove();\r\n\t\t\t}\r\n\r\n\t\t} // destroy: function()\r\n\r\n\t}; // Plugin.prototype\r\n\r\n\t$.fn[pluginName] = function(options) {\r\n\t\tvar args = arguments;\r\n\t\tif (options === undefined || typeof options === 'object') {\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tif (!$.data(this, '_' + pluginName)) {\r\n\t\t\t\t\t$.data(this, '_' + pluginName, new Plugin(this, options));\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t\t// колбек после выполнения плагина\r\n\t\t\t.promise()\r\n\t\t\t.done(function() {\r\n\t\t\t\tvar opt = $(this[0]).data('_' + pluginName);\r\n\t\t\t\tif (opt) opt.options.onFormStyled.call();\r\n\t\t\t});\r\n\t\t\treturn this;\r\n\t\t} else if (typeof options === 'string' && options[0] !== '_' && options !== 'init') {\r\n\t\t\tvar returns;\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar instance = $.data(this, '_' + pluginName);\r\n\t\t\t\tif (instance instanceof Plugin && typeof instance[options] === 'function') {\r\n\t\t\t\t\treturns = instance[options].apply(instance, Array.prototype.slice.call(args, 1));\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn returns !== undefined ? returns : this;\r\n\t\t}\r\n\t};\r\n\r\n\t// прячем выпадающий список при клике за пределами селекта\r\n\tfunction onDocumentClick(e) {\r\n\t\t// e.target.nodeName != 'OPTION' - добавлено для обхода бага в Opera на движке Presto\r\n\t\t// (при изменении селекта с клавиатуры срабатывает событие onclick)\r\n\t\tif (!$(e.target).parents().hasClass('jq-selectbox') && e.target.nodeName != 'OPTION') {\r\n\t\t\tif ($('div.jq-selectbox.opened').length) {\r\n\t\t\t\tvar selectbox = $('div.jq-selectbox.opened'),\r\n\t\t\t\t\t\tsearch = $('div.jq-selectbox__search input', selectbox),\r\n\t\t\t\t\t\tdropdown = $('div.jq-selectbox__dropdown', selectbox),\r\n\t\t\t\t\t\topt = selectbox.find('select').data('_' + pluginName).options;\r\n\r\n\t\t\t\t// колбек при закрытии селекта\r\n\t\t\t\topt.onSelectClosed.call(selectbox);\r\n\r\n\t\t\t\tif (search.length) search.val('').keyup();\r\n\t\t\t\tdropdown.hide().find('li.sel').addClass('selected');\r\n\t\t\t\tselectbox.removeClass('focused opened dropup dropdown');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tonDocumentClick.registered = false;\r\n\r\n}));","/**\r\n * jquery.mask.js\r\n * @version: v1.14.15\r\n * @author: Igor Escobar\r\n *\r\n * Created by Igor Escobar on 2012-03-10. Please report any bug at github.com/igorescobar/jQuery-Mask-Plugin\r\n *\r\n * Copyright (c) 2012 Igor Escobar http://igorescobar.com\r\n *\r\n * The MIT License (http://www.opensource.org/licenses/mit-license.php)\r\n *\r\n * Permission is hereby granted, free of charge, to any person\r\n * obtaining a copy of this software and associated documentation\r\n * files (the \"Software\"), to deal in the Software without\r\n * restriction, including without limitation the rights to use,\r\n * copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the\r\n * Software is furnished to do so, subject to the following\r\n * conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be\r\n * included in all copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n * OTHER DEALINGS IN THE SOFTWARE.\r\n */\r\n\r\n/* jshint laxbreak: true */\r\n/* jshint maxcomplexity:17 */\r\n/* global define */\r\n\r\n// UMD (Universal Module Definition) patterns for JavaScript modules that work everywhere.\r\n// https://github.com/umdjs/umd/blob/master/templates/jqueryPlugin.js\r\n(function (factory, jQuery, Zepto) {\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(['jquery'], factory);\r\n    } else if (typeof exports === 'object') {\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        factory(jQuery || Zepto);\r\n    }\r\n\r\n}(function ($) {\r\n    'use strict';\r\n\r\n    var Mask = function (el, mask, options) {\r\n\r\n        var p = {\r\n            invalid: [],\r\n            getCaret: function () {\r\n                try {\r\n                    var sel,\r\n                        pos = 0,\r\n                        ctrl = el.get(0),\r\n                        dSel = document.selection,\r\n                        cSelStart = ctrl.selectionStart;\r\n\r\n                    // IE Support\r\n                    if (dSel && navigator.appVersion.indexOf('MSIE 10') === -1) {\r\n                        sel = dSel.createRange();\r\n                        sel.moveStart('character', -p.val().length);\r\n                        pos = sel.text.length;\r\n                    }\r\n                    // Firefox support\r\n                    else if (cSelStart || cSelStart === '0') {\r\n                        pos = cSelStart;\r\n                    }\r\n\r\n                    return pos;\r\n                } catch (e) {}\r\n            },\r\n            setCaret: function(pos) {\r\n                try {\r\n                    if (el.is(':focus')) {\r\n                        var range, ctrl = el.get(0);\r\n\r\n                        // Firefox, WebKit, etc..\r\n                        if (ctrl.setSelectionRange) {\r\n                            ctrl.setSelectionRange(pos, pos);\r\n                        } else { // IE\r\n                            range = ctrl.createTextRange();\r\n                            range.collapse(true);\r\n                            range.moveEnd('character', pos);\r\n                            range.moveStart('character', pos);\r\n                            range.select();\r\n                        }\r\n                    }\r\n                } catch (e) {}\r\n            },\r\n            events: function() {\r\n                el\r\n                .on('keydown.mask', function(e) {\r\n                    el.data('mask-keycode', e.keyCode || e.which);\r\n                    el.data('mask-previus-value', el.val());\r\n                    el.data('mask-previus-caret-pos', p.getCaret());\r\n                    p.maskDigitPosMapOld = p.maskDigitPosMap;\r\n                })\r\n                .on($.jMaskGlobals.useInput ? 'input.mask' : 'keyup.mask', p.behaviour)\r\n                .on('paste.mask drop.mask', function() {\r\n                    setTimeout(function() {\r\n                        el.keydown().keyup();\r\n                    }, 100);\r\n                })\r\n                .on('change.mask', function(){\r\n                    el.data('changed', true);\r\n                })\r\n                .on('blur.mask', function(){\r\n                    if (oldValue !== p.val() && !el.data('changed')) {\r\n                        el.trigger('change');\r\n                    }\r\n                    el.data('changed', false);\r\n                })\r\n                // it's very important that this callback remains in this position\r\n                // otherwhise oldValue it's going to work buggy\r\n                .on('blur.mask', function() {\r\n                    oldValue = p.val();\r\n                })\r\n                // select all text on focus\r\n                .on('focus.mask', function (e) {\r\n                    if (options.selectOnFocus === true) {\r\n                        $(e.target).select();\r\n                    }\r\n                })\r\n                // clear the value if it not complete the mask\r\n                .on('focusout.mask', function() {\r\n                    if (options.clearIfNotMatch && !regexMask.test(p.val())) {\r\n                       p.val('');\r\n                   }\r\n                });\r\n            },\r\n            getRegexMask: function() {\r\n                var maskChunks = [], translation, pattern, optional, recursive, oRecursive, r;\r\n\r\n                for (var i = 0; i < mask.length; i++) {\r\n                    translation = jMask.translation[mask.charAt(i)];\r\n\r\n                    if (translation) {\r\n\r\n                        pattern = translation.pattern.toString().replace(/.{1}$|^.{1}/g, '');\r\n                        optional = translation.optional;\r\n                        recursive = translation.recursive;\r\n\r\n                        if (recursive) {\r\n                            maskChunks.push(mask.charAt(i));\r\n                            oRecursive = {digit: mask.charAt(i), pattern: pattern};\r\n                        } else {\r\n                            maskChunks.push(!optional && !recursive ? pattern : (pattern + '?'));\r\n                        }\r\n\r\n                    } else {\r\n                        maskChunks.push(mask.charAt(i).replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&'));\r\n                    }\r\n                }\r\n\r\n                r = maskChunks.join('');\r\n\r\n                if (oRecursive) {\r\n                    r = r.replace(new RegExp('(' + oRecursive.digit + '(.*' + oRecursive.digit + ')?)'), '($1)?')\r\n                         .replace(new RegExp(oRecursive.digit, 'g'), oRecursive.pattern);\r\n                }\r\n\r\n                return new RegExp(r);\r\n            },\r\n            destroyEvents: function() {\r\n                el.off(['input', 'keydown', 'keyup', 'paste', 'drop', 'blur', 'focusout', ''].join('.mask '));\r\n            },\r\n            val: function(v) {\r\n                var isInput = el.is('input'),\r\n                    method = isInput ? 'val' : 'text',\r\n                    r;\r\n\r\n                if (arguments.length > 0) {\r\n                    if (el[method]() !== v) {\r\n                        el[method](v);\r\n                    }\r\n                    r = el;\r\n                } else {\r\n                    r = el[method]();\r\n                }\r\n\r\n                return r;\r\n            },\r\n            calculateCaretPosition: function() {\r\n                var oldVal = el.data('mask-previus-value') || '',\r\n                    newVal = p.getMasked(),\r\n                    caretPosNew = p.getCaret();\r\n                if (oldVal !== newVal) {\r\n                    var caretPosOld = el.data('mask-previus-caret-pos') || 0,\r\n                        newValL = newVal.length,\r\n                        oldValL = oldVal.length,\r\n                        maskDigitsBeforeCaret = 0,\r\n                        maskDigitsAfterCaret = 0,\r\n                        maskDigitsBeforeCaretAll = 0,\r\n                        maskDigitsBeforeCaretAllOld = 0,\r\n                        i = 0;\r\n\r\n                    for (i = caretPosNew; i < newValL; i++) {\r\n                        if (!p.maskDigitPosMap[i]) {\r\n                            break;\r\n                        }\r\n                        maskDigitsAfterCaret++;\r\n                    }\r\n\r\n                    for (i = caretPosNew - 1; i >= 0; i--) {\r\n                        if (!p.maskDigitPosMap[i]) {\r\n                            break;\r\n                        }\r\n                        maskDigitsBeforeCaret++;\r\n                    }\r\n\r\n                    for (i = caretPosNew - 1; i >= 0; i--) {\r\n                        if (p.maskDigitPosMap[i]) {\r\n                            maskDigitsBeforeCaretAll++;\r\n                        }\r\n                    }\r\n\r\n                    for (i = caretPosOld - 1; i >= 0; i--) {\r\n                        if (p.maskDigitPosMapOld[i]) {\r\n                            maskDigitsBeforeCaretAllOld++;\r\n                        }\r\n                    }\r\n\r\n                    // if the cursor is at the end keep it there\r\n                    if (caretPosNew > oldValL) {\r\n                      caretPosNew = newValL * 10;\r\n                    } else if (caretPosOld >= caretPosNew && caretPosOld !== oldValL) {\r\n                        if (!p.maskDigitPosMapOld[caretPosNew])  {\r\n                          var caretPos = caretPosNew;\r\n                          caretPosNew -= maskDigitsBeforeCaretAllOld - maskDigitsBeforeCaretAll;\r\n                          caretPosNew -= maskDigitsBeforeCaret;\r\n                          if (p.maskDigitPosMap[caretPosNew])  {\r\n                            caretPosNew = caretPos;\r\n                          }\r\n                        }\r\n                    }\r\n                    else if (caretPosNew > caretPosOld) {\r\n                        caretPosNew += maskDigitsBeforeCaretAll - maskDigitsBeforeCaretAllOld;\r\n                        caretPosNew += maskDigitsAfterCaret;\r\n                    }\r\n                }\r\n                return caretPosNew;\r\n            },\r\n            behaviour: function(e) {\r\n                e = e || window.event;\r\n                p.invalid = [];\r\n\r\n                var keyCode = el.data('mask-keycode');\r\n\r\n                if ($.inArray(keyCode, jMask.byPassKeys) === -1) {\r\n                    var newVal = p.getMasked(),\r\n                        caretPos = p.getCaret();\r\n\r\n                    // this is a compensation to devices/browsers that don't compensate\r\n                    // caret positioning the right way\r\n                    setTimeout(function() {\r\n                      p.setCaret(p.calculateCaretPosition());\r\n                    }, $.jMaskGlobals.keyStrokeCompensation);\r\n\r\n                    p.val(newVal);\r\n                    p.setCaret(caretPos);\r\n                    return p.callbacks(e);\r\n                }\r\n            },\r\n            getMasked: function(skipMaskChars, val) {\r\n                var buf = [],\r\n                    value = val === undefined ? p.val() : val + '',\r\n                    m = 0, maskLen = mask.length,\r\n                    v = 0, valLen = value.length,\r\n                    offset = 1, addMethod = 'push',\r\n                    resetPos = -1,\r\n                    maskDigitCount = 0,\r\n                    maskDigitPosArr = [],\r\n                    lastMaskChar,\r\n                    check;\r\n\r\n                if (options.reverse) {\r\n                    addMethod = 'unshift';\r\n                    offset = -1;\r\n                    lastMaskChar = 0;\r\n                    m = maskLen - 1;\r\n                    v = valLen - 1;\r\n                    check = function () {\r\n                        return m > -1 && v > -1;\r\n                    };\r\n                } else {\r\n                    lastMaskChar = maskLen - 1;\r\n                    check = function () {\r\n                        return m < maskLen && v < valLen;\r\n                    };\r\n                }\r\n\r\n                var lastUntranslatedMaskChar;\r\n                while (check()) {\r\n                    var maskDigit = mask.charAt(m),\r\n                        valDigit = value.charAt(v),\r\n                        translation = jMask.translation[maskDigit];\r\n\r\n                    if (translation) {\r\n                        if (valDigit.match(translation.pattern)) {\r\n                            buf[addMethod](valDigit);\r\n                             if (translation.recursive) {\r\n                                if (resetPos === -1) {\r\n                                    resetPos = m;\r\n                                } else if (m === lastMaskChar && m !== resetPos) {\r\n                                    m = resetPos - offset;\r\n                                }\r\n\r\n                                if (lastMaskChar === resetPos) {\r\n                                    m -= offset;\r\n                                }\r\n                            }\r\n                            m += offset;\r\n                        } else if (valDigit === lastUntranslatedMaskChar) {\r\n                            // matched the last untranslated (raw) mask character that we encountered\r\n                            // likely an insert offset the mask character from the last entry; fall\r\n                            // through and only increment v\r\n                            maskDigitCount--;\r\n                            lastUntranslatedMaskChar = undefined;\r\n                        } else if (translation.optional) {\r\n                            m += offset;\r\n                            v -= offset;\r\n                        } else if (translation.fallback) {\r\n                            buf[addMethod](translation.fallback);\r\n                            m += offset;\r\n                            v -= offset;\r\n                        } else {\r\n                          p.invalid.push({p: v, v: valDigit, e: translation.pattern});\r\n                        }\r\n                        v += offset;\r\n                    } else {\r\n                        if (!skipMaskChars) {\r\n                            buf[addMethod](maskDigit);\r\n                        }\r\n\r\n                        if (valDigit === maskDigit) {\r\n                            maskDigitPosArr.push(v);\r\n                            v += offset;\r\n                        } else {\r\n                            lastUntranslatedMaskChar = maskDigit;\r\n                            maskDigitPosArr.push(v + maskDigitCount);\r\n                            maskDigitCount++;\r\n                        }\r\n\r\n                        m += offset;\r\n                    }\r\n                }\r\n\r\n                var lastMaskCharDigit = mask.charAt(lastMaskChar);\r\n                if (maskLen === valLen + 1 && !jMask.translation[lastMaskCharDigit]) {\r\n                    buf.push(lastMaskCharDigit);\r\n                }\r\n\r\n                var newVal = buf.join('');\r\n                p.mapMaskdigitPositions(newVal, maskDigitPosArr, valLen);\r\n                return newVal;\r\n            },\r\n            mapMaskdigitPositions: function(newVal, maskDigitPosArr, valLen) {\r\n              var maskDiff = options.reverse ? newVal.length - valLen : 0;\r\n              p.maskDigitPosMap = {};\r\n              for (var i = 0; i < maskDigitPosArr.length; i++) {\r\n                p.maskDigitPosMap[maskDigitPosArr[i] + maskDiff] = 1;\r\n              }\r\n            },\r\n            callbacks: function (e) {\r\n                var val = p.val(),\r\n                    changed = val !== oldValue,\r\n                    defaultArgs = [val, e, el, options],\r\n                    callback = function(name, criteria, args) {\r\n                        if (typeof options[name] === 'function' && criteria) {\r\n                            options[name].apply(this, args);\r\n                        }\r\n                    };\r\n\r\n                callback('onChange', changed === true, defaultArgs);\r\n                callback('onKeyPress', changed === true, defaultArgs);\r\n                callback('onComplete', val.length === mask.length, defaultArgs);\r\n                callback('onInvalid', p.invalid.length > 0, [val, e, el, p.invalid, options]);\r\n            }\r\n        };\r\n\r\n        el = $(el);\r\n        var jMask = this, oldValue = p.val(), regexMask;\r\n\r\n        mask = typeof mask === 'function' ? mask(p.val(), undefined, el,  options) : mask;\r\n\r\n        // public methods\r\n        jMask.mask = mask;\r\n        jMask.options = options;\r\n        jMask.remove = function() {\r\n            var caret = p.getCaret();\r\n            if (jMask.options.placeholder) {\r\n                el.removeAttr('placeholder');\r\n            }\r\n            if (el.data('mask-maxlength')) {\r\n                el.removeAttr('maxlength');\r\n            }\r\n            p.destroyEvents();\r\n            p.val(jMask.getCleanVal());\r\n            p.setCaret(caret);\r\n            return el;\r\n        };\r\n\r\n        // get value without mask\r\n        jMask.getCleanVal = function() {\r\n           return p.getMasked(true);\r\n        };\r\n\r\n        // get masked value without the value being in the input or element\r\n        jMask.getMaskedVal = function(val) {\r\n           return p.getMasked(false, val);\r\n        };\r\n\r\n       jMask.init = function(onlyMask) {\r\n            onlyMask = onlyMask || false;\r\n            options = options || {};\r\n\r\n            jMask.clearIfNotMatch  = $.jMaskGlobals.clearIfNotMatch;\r\n            jMask.byPassKeys       = $.jMaskGlobals.byPassKeys;\r\n            jMask.translation      = $.extend({}, $.jMaskGlobals.translation, options.translation);\r\n\r\n            jMask = $.extend(true, {}, jMask, options);\r\n\r\n            regexMask = p.getRegexMask();\r\n\r\n            if (onlyMask) {\r\n                p.events();\r\n                p.val(p.getMasked());\r\n            } else {\r\n                if (options.placeholder) {\r\n                    el.attr('placeholder' , options.placeholder);\r\n                }\r\n\r\n                // this is necessary, otherwise if the user submit the form\r\n                // and then press the \"back\" button, the autocomplete will erase\r\n                // the data. Works fine on IE9+, FF, Opera, Safari.\r\n                if (el.data('mask')) {\r\n                  el.attr('autocomplete', 'off');\r\n                }\r\n\r\n                // detect if is necessary let the user type freely.\r\n                // for is a lot faster than forEach.\r\n                for (var i = 0, maxlength = true; i < mask.length; i++) {\r\n                    var translation = jMask.translation[mask.charAt(i)];\r\n                    if (translation && translation.recursive) {\r\n                        maxlength = false;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if (maxlength) {\r\n                    el.attr('maxlength', mask.length).data('mask-maxlength', true);\r\n                }\r\n\r\n                p.destroyEvents();\r\n                p.events();\r\n\r\n                var caret = p.getCaret();\r\n                p.val(p.getMasked());\r\n                p.setCaret(caret);\r\n            }\r\n        };\r\n\r\n        jMask.init(!el.is('input'));\r\n    };\r\n\r\n    $.maskWatchers = {};\r\n    var HTMLAttributes = function () {\r\n        var input = $(this),\r\n            options = {},\r\n            prefix = 'data-mask-',\r\n            mask = input.attr('data-mask');\r\n\r\n        if (input.attr(prefix + 'reverse')) {\r\n            options.reverse = true;\r\n        }\r\n\r\n        if (input.attr(prefix + 'clearifnotmatch')) {\r\n            options.clearIfNotMatch = true;\r\n        }\r\n\r\n        if (input.attr(prefix + 'selectonfocus') === 'true') {\r\n           options.selectOnFocus = true;\r\n        }\r\n\r\n        if (notSameMaskObject(input, mask, options)) {\r\n            return input.data('mask', new Mask(this, mask, options));\r\n        }\r\n    },\r\n    notSameMaskObject = function(field, mask, options) {\r\n        options = options || {};\r\n        var maskObject = $(field).data('mask'),\r\n            stringify = JSON.stringify,\r\n            value = $(field).val() || $(field).text();\r\n        try {\r\n            if (typeof mask === 'function') {\r\n                mask = mask(value);\r\n            }\r\n            return typeof maskObject !== 'object' || stringify(maskObject.options) !== stringify(options) || maskObject.mask !== mask;\r\n        } catch (e) {}\r\n    },\r\n    eventSupported = function(eventName) {\r\n        var el = document.createElement('div'), isSupported;\r\n\r\n        eventName = 'on' + eventName;\r\n        isSupported = (eventName in el);\r\n\r\n        if ( !isSupported ) {\r\n            el.setAttribute(eventName, 'return;');\r\n            isSupported = typeof el[eventName] === 'function';\r\n        }\r\n        el = null;\r\n\r\n        return isSupported;\r\n    };\r\n\r\n    $.fn.mask = function(mask, options) {\r\n        options = options || {};\r\n        var selector = this.selector,\r\n            globals = $.jMaskGlobals,\r\n            interval = globals.watchInterval,\r\n            watchInputs = options.watchInputs || globals.watchInputs,\r\n            maskFunction = function() {\r\n                if (notSameMaskObject(this, mask, options)) {\r\n                    return $(this).data('mask', new Mask(this, mask, options));\r\n                }\r\n            };\r\n\r\n        $(this).each(maskFunction);\r\n\r\n        if (selector && selector !== '' && watchInputs) {\r\n            clearInterval($.maskWatchers[selector]);\r\n            $.maskWatchers[selector] = setInterval(function(){\r\n                $(document).find(selector).each(maskFunction);\r\n            }, interval);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    $.fn.masked = function(val) {\r\n        return this.data('mask').getMaskedVal(val);\r\n    };\r\n\r\n    $.fn.unmask = function() {\r\n        clearInterval($.maskWatchers[this.selector]);\r\n        delete $.maskWatchers[this.selector];\r\n        return this.each(function() {\r\n            var dataMask = $(this).data('mask');\r\n            if (dataMask) {\r\n                dataMask.remove().removeData('mask');\r\n            }\r\n        });\r\n    };\r\n\r\n    $.fn.cleanVal = function() {\r\n        return this.data('mask').getCleanVal();\r\n    };\r\n\r\n    $.applyDataMask = function(selector) {\r\n        selector = selector || $.jMaskGlobals.maskElements;\r\n        var $selector = (selector instanceof $) ? selector : $(selector);\r\n        $selector.filter($.jMaskGlobals.dataMaskAttr).each(HTMLAttributes);\r\n    };\r\n\r\n    var globals = {\r\n        maskElements: 'input,td,span,div',\r\n        dataMaskAttr: '*[data-mask]',\r\n        dataMask: true,\r\n        watchInterval: 300,\r\n        watchInputs: true,\r\n        keyStrokeCompensation: 10,\r\n        // old versions of chrome dont work great with input event\r\n        useInput: !/Chrome\\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent) && eventSupported('input'),\r\n        watchDataMask: false,\r\n        byPassKeys: [9, 16, 17, 18, 36, 37, 38, 39, 40, 91],\r\n        translation: {\r\n            '0': {pattern: /\\d/},\r\n            '9': {pattern: /\\d/, optional: true},\r\n            '#': {pattern: /\\d/, recursive: true},\r\n            'A': {pattern: /[a-zA-Z0-9]/},\r\n            'S': {pattern: /[a-zA-Z]/}\r\n        }\r\n    };\r\n\r\n    $.jMaskGlobals = $.jMaskGlobals || {};\r\n    globals = $.jMaskGlobals = $.extend(true, {}, globals, $.jMaskGlobals);\r\n\r\n    // looking for inputs with data-mask attribute\r\n    if (globals.dataMask) {\r\n        $.applyDataMask();\r\n    }\r\n\r\n    setInterval(function() {\r\n        if ($.jMaskGlobals.watchDataMask) {\r\n            $.applyDataMask();\r\n        }\r\n    }, globals.watchInterval);\r\n}, window.jQuery, window.Zepto));\r\n","/*!\r\n * jQuery Validation Plugin v1.17.0\r\n *\r\n * https://jqueryvalidation.org/\r\n *\r\n * Copyright (c) 2017 Jörn Zaefferer\r\n * Released under the MIT license\r\n */\r\n(function( factory ) {\r\n\tif ( typeof define === \"function\" && define.amd ) {\r\n\t\tdefine( [\"jquery\"], factory );\r\n\t} else if (typeof module === \"object\" && module.exports) {\r\n\t\tmodule.exports = factory( require( \"jquery\" ) );\r\n\t} else {\r\n\t\tfactory( jQuery );\r\n\t}\r\n}(function( $ ) {\r\n\r\n$.extend( $.fn, {\n\n\t// https://jqueryvalidation.org/validate/\n\tvalidate: function( options ) {\n\n\t\t// If nothing is selected, return nothing; can't chain anyway\n\t\tif ( !this.length ) {\n\t\t\tif ( options && options.debug && window.console ) {\n\t\t\t\tconsole.warn( \"Nothing selected, can't validate, returning nothing.\" );\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Check if a validator for this form was already created\n\t\tvar validator = $.data( this[ 0 ], \"validator\" );\n\t\tif ( validator ) {\n\t\t\treturn validator;\n\t\t}\n\n\t\t// Add novalidate tag if HTML5.\n\t\tthis.attr( \"novalidate\", \"novalidate\" );\n\n\t\tvalidator = new $.validator( options, this[ 0 ] );\n\t\t$.data( this[ 0 ], \"validator\", validator );\n\n\t\tif ( validator.settings.onsubmit ) {\n\n\t\t\tthis.on( \"click.validate\", \":submit\", function( event ) {\n\n\t\t\t\t// Track the used submit button to properly handle scripted\n\t\t\t\t// submits later.\n\t\t\t\tvalidator.submitButton = event.currentTarget;\n\n\t\t\t\t// Allow suppressing validation by adding a cancel class to the submit button\n\t\t\t\tif ( $( this ).hasClass( \"cancel\" ) ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\n\t\t\t\t// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button\n\t\t\t\tif ( $( this ).attr( \"formnovalidate\" ) !== undefined ) {\n\t\t\t\t\tvalidator.cancelSubmit = true;\n\t\t\t\t}\n\t\t\t} );\n\n\t\t\t// Validate the form on submit\n\t\t\tthis.on( \"submit.validate\", function( event ) {\n\t\t\t\tif ( validator.settings.debug ) {\n\n\t\t\t\t\t// Prevent form submit to be able to see console output\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t}\n\t\t\t\tfunction handle() {\n\t\t\t\t\tvar hidden, result;\n\n\t\t\t\t\t// Insert a hidden input as a replacement for the missing submit button\n\t\t\t\t\t// The hidden input is inserted in two cases:\n\t\t\t\t\t//   - A user defined a `submitHandler`\n\t\t\t\t\t//   - There was a pending request due to `remote` method and `stopRequest()`\n\t\t\t\t\t//     was called to submit the form in case it's valid\n\t\t\t\t\tif ( validator.submitButton && ( validator.settings.submitHandler || validator.formSubmitted ) ) {\n\t\t\t\t\t\thidden = $( \"<input type='hidden'/>\" )\n\t\t\t\t\t\t\t.attr( \"name\", validator.submitButton.name )\n\t\t\t\t\t\t\t.val( $( validator.submitButton ).val() )\n\t\t\t\t\t\t\t.appendTo( validator.currentForm );\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( validator.settings.submitHandler ) {\n\t\t\t\t\t\tresult = validator.settings.submitHandler.call( validator, validator.currentForm, event );\n\t\t\t\t\t\tif ( hidden ) {\n\n\t\t\t\t\t\t\t// And clean up afterwards; thanks to no-block-scope, hidden can be referenced\n\t\t\t\t\t\t\thidden.remove();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif ( result !== undefined ) {\n\t\t\t\t\t\t\treturn result;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\n\t\t\t\t// Prevent submit for invalid forms or custom submit handlers\n\t\t\t\tif ( validator.cancelSubmit ) {\n\t\t\t\t\tvalidator.cancelSubmit = false;\n\t\t\t\t\treturn handle();\n\t\t\t\t}\n\t\t\t\tif ( validator.form() ) {\n\t\t\t\t\tif ( validator.pendingRequest ) {\n\t\t\t\t\t\tvalidator.formSubmitted = true;\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t\treturn handle();\n\t\t\t\t} else {\n\t\t\t\t\tvalidator.focusInvalid();\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\n\t\treturn validator;\n\t},\n\n\t// https://jqueryvalidation.org/valid/\n\tvalid: function() {\n\t\tvar valid, validator, errorList;\n\n\t\tif ( $( this[ 0 ] ).is( \"form\" ) ) {\n\t\t\tvalid = this.validate().form();\n\t\t} else {\n\t\t\terrorList = [];\n\t\t\tvalid = true;\n\t\t\tvalidator = $( this[ 0 ].form ).validate();\n\t\t\tthis.each( function() {\n\t\t\t\tvalid = validator.element( this ) && valid;\n\t\t\t\tif ( !valid ) {\n\t\t\t\t\terrorList = errorList.concat( validator.errorList );\n\t\t\t\t}\n\t\t\t} );\n\t\t\tvalidator.errorList = errorList;\n\t\t}\n\t\treturn valid;\n\t},\n\n\t// https://jqueryvalidation.org/rules/\n\trules: function( command, argument ) {\n\t\tvar element = this[ 0 ],\n\t\t\tsettings, staticRules, existingRules, data, param, filtered;\n\n\t\t// If nothing is selected, return empty object; can't chain anyway\n\t\tif ( element == null ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( !element.form && element.hasAttribute( \"contenteditable\" ) ) {\n\t\t\telement.form = this.closest( \"form\" )[ 0 ];\n\t\t\telement.name = this.attr( \"name\" );\n\t\t}\n\n\t\tif ( element.form == null ) {\n\t\t\treturn;\n\t\t}\n\n\t\tif ( command ) {\n\t\t\tsettings = $.data( element.form, \"validator\" ).settings;\n\t\t\tstaticRules = settings.rules;\n\t\t\texistingRules = $.validator.staticRules( element );\n\t\t\tswitch ( command ) {\n\t\t\tcase \"add\":\n\t\t\t\t$.extend( existingRules, $.validator.normalizeRule( argument ) );\n\n\t\t\t\t// Remove messages from rules, but allow them to be set separately\n\t\t\t\tdelete existingRules.messages;\n\t\t\t\tstaticRules[ element.name ] = existingRules;\n\t\t\t\tif ( argument.messages ) {\n\t\t\t\t\tsettings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase \"remove\":\n\t\t\t\tif ( !argument ) {\n\t\t\t\t\tdelete staticRules[ element.name ];\n\t\t\t\t\treturn existingRules;\n\t\t\t\t}\n\t\t\t\tfiltered = {};\n\t\t\t\t$.each( argument.split( /\\s/ ), function( index, method ) {\n\t\t\t\t\tfiltered[ method ] = existingRules[ method ];\n\t\t\t\t\tdelete existingRules[ method ];\n\t\t\t\t} );\n\t\t\t\treturn filtered;\n\t\t\t}\n\t\t}\n\n\t\tdata = $.validator.normalizeRules(\n\t\t$.extend(\n\t\t\t{},\n\t\t\t$.validator.classRules( element ),\n\t\t\t$.validator.attributeRules( element ),\n\t\t\t$.validator.dataRules( element ),\n\t\t\t$.validator.staticRules( element )\n\t\t), element );\n\n\t\t// Make sure required is at front\n\t\tif ( data.required ) {\n\t\t\tparam = data.required;\n\t\t\tdelete data.required;\n\t\t\tdata = $.extend( { required: param }, data );\n\t\t}\n\n\t\t// Make sure remote is at back\n\t\tif ( data.remote ) {\n\t\t\tparam = data.remote;\n\t\t\tdelete data.remote;\n\t\t\tdata = $.extend( data, { remote: param } );\n\t\t}\n\n\t\treturn data;\n\t}\n} );\n\n// Custom selectors\n$.extend( $.expr.pseudos || $.expr[ \":\" ], {\t\t// '|| $.expr[ \":\" ]' here enables backwards compatibility to jQuery 1.7. Can be removed when dropping jQ 1.7.x support\n\n\t// https://jqueryvalidation.org/blank-selector/\n\tblank: function( a ) {\n\t\treturn !$.trim( \"\" + $( a ).val() );\n\t},\n\n\t// https://jqueryvalidation.org/filled-selector/\n\tfilled: function( a ) {\n\t\tvar val = $( a ).val();\n\t\treturn val !== null && !!$.trim( \"\" + val );\n\t},\n\n\t// https://jqueryvalidation.org/unchecked-selector/\n\tunchecked: function( a ) {\n\t\treturn !$( a ).prop( \"checked\" );\n\t}\n} );\n\n// Constructor for validator\n$.validator = function( options, form ) {\n\tthis.settings = $.extend( true, {}, $.validator.defaults, options );\n\tthis.currentForm = form;\n\tthis.init();\n};\n\n// https://jqueryvalidation.org/jQuery.validator.format/\n$.validator.format = function( source, params ) {\n\tif ( arguments.length === 1 ) {\n\t\treturn function() {\n\t\t\tvar args = $.makeArray( arguments );\n\t\t\targs.unshift( source );\n\t\t\treturn $.validator.format.apply( this, args );\n\t\t};\n\t}\n\tif ( params === undefined ) {\n\t\treturn source;\n\t}\n\tif ( arguments.length > 2 && params.constructor !== Array  ) {\n\t\tparams = $.makeArray( arguments ).slice( 1 );\n\t}\n\tif ( params.constructor !== Array ) {\n\t\tparams = [ params ];\n\t}\n\t$.each( params, function( i, n ) {\n\t\tsource = source.replace( new RegExp( \"\\\\{\" + i + \"\\\\}\", \"g\" ), function() {\n\t\t\treturn n;\n\t\t} );\n\t} );\n\treturn source;\n};\n\n$.extend( $.validator, {\n\n\tdefaults: {\n\t\tmessages: {},\n\t\tgroups: {},\n\t\trules: {},\n\t\terrorClass: \"error\",\n\t\tpendingClass: \"pending\",\n\t\tvalidClass: \"valid\",\n\t\terrorElement: \"label\",\n\t\tfocusCleanup: false,\n\t\tfocusInvalid: true,\n\t\terrorContainer: $( [] ),\n\t\terrorLabelContainer: $( [] ),\n\t\tonsubmit: true,\n\t\tignore: \":hidden\",\n\t\tignoreTitle: false,\n\t\tonfocusin: function( element ) {\n\t\t\tthis.lastActive = element;\n\n\t\t\t// Hide error label and remove error class on focus if enabled\n\t\t\tif ( this.settings.focusCleanup ) {\n\t\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.hideThese( this.errorsFor( element ) );\n\t\t\t}\n\t\t},\n\t\tonfocusout: function( element ) {\n\t\t\tif ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonkeyup: function( element, event ) {\n\n\t\t\t// Avoid revalidate the field when pressing one of the following keys\n\t\t\t// Shift       => 16\n\t\t\t// Ctrl        => 17\n\t\t\t// Alt         => 18\n\t\t\t// Caps lock   => 20\n\t\t\t// End         => 35\n\t\t\t// Home        => 36\n\t\t\t// Left arrow  => 37\n\t\t\t// Up arrow    => 38\n\t\t\t// Right arrow => 39\n\t\t\t// Down arrow  => 40\n\t\t\t// Insert      => 45\n\t\t\t// Num lock    => 144\n\t\t\t// AltGr key   => 225\n\t\t\tvar excludedKeys = [\n\t\t\t\t16, 17, 18, 20, 35, 36, 37,\n\t\t\t\t38, 39, 40, 45, 144, 225\n\t\t\t];\n\n\t\t\tif ( event.which === 9 && this.elementValue( element ) === \"\" || $.inArray( event.keyCode, excludedKeys ) !== -1 ) {\n\t\t\t\treturn;\n\t\t\t} else if ( element.name in this.submitted || element.name in this.invalid ) {\n\t\t\t\tthis.element( element );\n\t\t\t}\n\t\t},\n\t\tonclick: function( element ) {\n\n\t\t\t// Click on selects, radiobuttons and checkboxes\n\t\t\tif ( element.name in this.submitted ) {\n\t\t\t\tthis.element( element );\n\n\t\t\t// Or option elements, check parent select in that case\n\t\t\t} else if ( element.parentNode.name in this.submitted ) {\n\t\t\t\tthis.element( element.parentNode );\n\t\t\t}\n\t\t},\n\t\thighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).addClass( errorClass ).removeClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).addClass( errorClass ).removeClass( validClass );\n\t\t\t}\n\t\t},\n\t\tunhighlight: function( element, errorClass, validClass ) {\n\t\t\tif ( element.type === \"radio\" ) {\n\t\t\t\tthis.findByName( element.name ).removeClass( errorClass ).addClass( validClass );\n\t\t\t} else {\n\t\t\t\t$( element ).removeClass( errorClass ).addClass( validClass );\n\t\t\t}\n\t\t}\n\t},\n\n\t// https://jqueryvalidation.org/jQuery.validator.setDefaults/\n\tsetDefaults: function( settings ) {\n\t\t$.extend( $.validator.defaults, settings );\n\t},\n\n\tmessages: {\n\t\trequired: \"This field is required.\",\n\t\tremote: \"Please fix this field.\",\n\t\temail: \"Please enter a valid email address.\",\n\t\turl: \"Please enter a valid URL.\",\n\t\tdate: \"Please enter a valid date.\",\n\t\tdateISO: \"Please enter a valid date (ISO).\",\n\t\tnumber: \"Please enter a valid number.\",\n\t\tdigits: \"Please enter only digits.\",\n\t\tequalTo: \"Please enter the same value again.\",\n\t\tmaxlength: $.validator.format( \"Please enter no more than {0} characters.\" ),\n\t\tminlength: $.validator.format( \"Please enter at least {0} characters.\" ),\n\t\trangelength: $.validator.format( \"Please enter a value between {0} and {1} characters long.\" ),\n\t\trange: $.validator.format( \"Please enter a value between {0} and {1}.\" ),\n\t\tmax: $.validator.format( \"Please enter a value less than or equal to {0}.\" ),\n\t\tmin: $.validator.format( \"Please enter a value greater than or equal to {0}.\" ),\n\t\tstep: $.validator.format( \"Please enter a multiple of {0}.\" )\n\t},\n\n\tautoCreateRanges: false,\n\n\tprototype: {\n\n\t\tinit: function() {\n\t\t\tthis.labelContainer = $( this.settings.errorLabelContainer );\n\t\t\tthis.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );\n\t\t\tthis.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );\n\t\t\tthis.submitted = {};\n\t\t\tthis.valueCache = {};\n\t\t\tthis.pendingRequest = 0;\n\t\t\tthis.pending = {};\n\t\t\tthis.invalid = {};\n\t\t\tthis.reset();\n\n\t\t\tvar groups = ( this.groups = {} ),\n\t\t\t\trules;\n\t\t\t$.each( this.settings.groups, function( key, value ) {\n\t\t\t\tif ( typeof value === \"string\" ) {\n\t\t\t\t\tvalue = value.split( /\\s/ );\n\t\t\t\t}\n\t\t\t\t$.each( value, function( index, name ) {\n\t\t\t\t\tgroups[ name ] = key;\n\t\t\t\t} );\n\t\t\t} );\n\t\t\trules = this.settings.rules;\n\t\t\t$.each( rules, function( key, value ) {\n\t\t\t\trules[ key ] = $.validator.normalizeRule( value );\n\t\t\t} );\n\n\t\t\tfunction delegate( event ) {\n\n\t\t\t\t// Set form expando on contenteditable\n\t\t\t\tif ( !this.form && this.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\t\tthis.form = $( this ).closest( \"form\" )[ 0 ];\n\t\t\t\t\tthis.name = $( this ).attr( \"name\" );\n\t\t\t\t}\n\n\t\t\t\tvar validator = $.data( this.form, \"validator\" ),\n\t\t\t\t\teventType = \"on\" + event.type.replace( /^validate/, \"\" ),\n\t\t\t\t\tsettings = validator.settings;\n\t\t\t\tif ( settings[ eventType ] && !$( this ).is( settings.ignore ) ) {\n\t\t\t\t\tsettings[ eventType ].call( validator, this, event );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.on( \"focusin.validate focusout.validate keyup.validate\",\n\t\t\t\t\t\":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], \" +\n\t\t\t\t\t\"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], \" +\n\t\t\t\t\t\"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], \" +\n\t\t\t\t\t\"[type='radio'], [type='checkbox'], [contenteditable], [type='button']\", delegate )\n\n\t\t\t\t// Support: Chrome, oldIE\n\t\t\t\t// \"select\" is provided as event.target when clicking a option\n\t\t\t\t.on( \"click.validate\", \"select, option, [type='radio'], [type='checkbox']\", delegate );\n\n\t\t\tif ( this.settings.invalidHandler ) {\n\t\t\t\t$( this.currentForm ).on( \"invalid-form.validate\", this.settings.invalidHandler );\n\t\t\t}\n\t\t},\n\n\t\t// https://jqueryvalidation.org/Validator.form/\n\t\tform: function() {\n\t\t\tthis.checkForm();\n\t\t\t$.extend( this.submitted, this.errorMap );\n\t\t\tthis.invalid = $.extend( {}, this.errorMap );\n\t\t\tif ( !this.valid() ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t}\n\t\t\tthis.showErrors();\n\t\t\treturn this.valid();\n\t\t},\n\n\t\tcheckForm: function() {\n\t\t\tthis.prepareForm();\n\t\t\tfor ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {\n\t\t\t\tthis.check( elements[ i ] );\n\t\t\t}\n\t\t\treturn this.valid();\n\t\t},\n\n\t\t// https://jqueryvalidation.org/Validator.element/\n\t\telement: function( element ) {\n\t\t\tvar cleanElement = this.clean( element ),\n\t\t\t\tcheckElement = this.validationTargetFor( cleanElement ),\n\t\t\t\tv = this,\n\t\t\t\tresult = true,\n\t\t\t\trs, group;\n\n\t\t\tif ( checkElement === undefined ) {\n\t\t\t\tdelete this.invalid[ cleanElement.name ];\n\t\t\t} else {\n\t\t\t\tthis.prepareElement( checkElement );\n\t\t\t\tthis.currentElements = $( checkElement );\n\n\t\t\t\t// If this element is grouped, then validate all group elements already\n\t\t\t\t// containing a value\n\t\t\t\tgroup = this.groups[ checkElement.name ];\n\t\t\t\tif ( group ) {\n\t\t\t\t\t$.each( this.groups, function( name, testgroup ) {\n\t\t\t\t\t\tif ( testgroup === group && name !== checkElement.name ) {\n\t\t\t\t\t\t\tcleanElement = v.validationTargetFor( v.clean( v.findByName( name ) ) );\n\t\t\t\t\t\t\tif ( cleanElement && cleanElement.name in v.invalid ) {\n\t\t\t\t\t\t\t\tv.currentElements.push( cleanElement );\n\t\t\t\t\t\t\t\tresult = v.check( cleanElement ) && result;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} );\n\t\t\t\t}\n\n\t\t\t\trs = this.check( checkElement ) !== false;\n\t\t\t\tresult = result && rs;\n\t\t\t\tif ( rs ) {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = false;\n\t\t\t\t} else {\n\t\t\t\t\tthis.invalid[ checkElement.name ] = true;\n\t\t\t\t}\n\n\t\t\t\tif ( !this.numberOfInvalids() ) {\n\n\t\t\t\t\t// Hide error containers on last error\n\t\t\t\t\tthis.toHide = this.toHide.add( this.containers );\n\t\t\t\t}\n\t\t\t\tthis.showErrors();\n\n\t\t\t\t// Add aria-invalid status for screen readers\n\t\t\t\t$( element ).attr( \"aria-invalid\", !rs );\n\t\t\t}\n\n\t\t\treturn result;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/Validator.showErrors/\n\t\tshowErrors: function( errors ) {\n\t\t\tif ( errors ) {\n\t\t\t\tvar validator = this;\n\n\t\t\t\t// Add items to error list and map\n\t\t\t\t$.extend( this.errorMap, errors );\n\t\t\t\tthis.errorList = $.map( this.errorMap, function( message, name ) {\n\t\t\t\t\treturn {\n\t\t\t\t\t\tmessage: message,\n\t\t\t\t\t\telement: validator.findByName( name )[ 0 ]\n\t\t\t\t\t};\n\t\t\t\t} );\n\n\t\t\t\t// Remove items from success list\n\t\t\t\tthis.successList = $.grep( this.successList, function( element ) {\n\t\t\t\t\treturn !( element.name in errors );\n\t\t\t\t} );\n\t\t\t}\n\t\t\tif ( this.settings.showErrors ) {\n\t\t\t\tthis.settings.showErrors.call( this, this.errorMap, this.errorList );\n\t\t\t} else {\n\t\t\t\tthis.defaultShowErrors();\n\t\t\t}\n\t\t},\n\n\t\t// https://jqueryvalidation.org/Validator.resetForm/\n\t\tresetForm: function() {\n\t\t\tif ( $.fn.resetForm ) {\n\t\t\t\t$( this.currentForm ).resetForm();\n\t\t\t}\n\t\t\tthis.invalid = {};\n\t\t\tthis.submitted = {};\n\t\t\tthis.prepareForm();\n\t\t\tthis.hideErrors();\n\t\t\tvar elements = this.elements()\n\t\t\t\t.removeData( \"previousValue\" )\n\t\t\t\t.removeAttr( \"aria-invalid\" );\n\n\t\t\tthis.resetElements( elements );\n\t\t},\n\n\t\tresetElements: function( elements ) {\n\t\t\tvar i;\n\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0; elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ],\n\t\t\t\t\t\tthis.settings.errorClass, \"\" );\n\t\t\t\t\tthis.findByName( elements[ i ].name ).removeClass( this.settings.validClass );\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\telements\n\t\t\t\t\t.removeClass( this.settings.errorClass )\n\t\t\t\t\t.removeClass( this.settings.validClass );\n\t\t\t}\n\t\t},\n\n\t\tnumberOfInvalids: function() {\n\t\t\treturn this.objectLength( this.invalid );\n\t\t},\n\n\t\tobjectLength: function( obj ) {\n\t\t\t/* jshint unused: false */\n\t\t\tvar count = 0,\n\t\t\t\ti;\n\t\t\tfor ( i in obj ) {\n\n\t\t\t\t// This check allows counting elements with empty error\n\t\t\t\t// message as invalid elements\n\t\t\t\tif ( obj[ i ] !== undefined && obj[ i ] !== null && obj[ i ] !== false ) {\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn count;\n\t\t},\n\n\t\thideErrors: function() {\n\t\t\tthis.hideThese( this.toHide );\n\t\t},\n\n\t\thideThese: function( errors ) {\n\t\t\terrors.not( this.containers ).text( \"\" );\n\t\t\tthis.addWrapper( errors ).hide();\n\t\t},\n\n\t\tvalid: function() {\n\t\t\treturn this.size() === 0;\n\t\t},\n\n\t\tsize: function() {\n\t\t\treturn this.errorList.length;\n\t\t},\n\n\t\tfocusInvalid: function() {\n\t\t\tif ( this.settings.focusInvalid ) {\n\t\t\t\ttry {\n\t\t\t\t\t$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [] )\n\t\t\t\t\t.filter( \":visible\" )\n\t\t\t\t\t.focus()\n\n\t\t\t\t\t// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\n\t\t\t\t\t.trigger( \"focusin\" );\n\t\t\t\t} catch ( e ) {\n\n\t\t\t\t\t// Ignore IE throwing errors when focusing hidden elements\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\tfindLastActive: function() {\n\t\t\tvar lastActive = this.lastActive;\n\t\t\treturn lastActive && $.grep( this.errorList, function( n ) {\n\t\t\t\treturn n.element.name === lastActive.name;\n\t\t\t} ).length === 1 && lastActive;\n\t\t},\n\n\t\telements: function() {\n\t\t\tvar validator = this,\n\t\t\t\trulesCache = {};\n\n\t\t\t// Select all valid inputs inside the form (no submit or reset buttons)\n\t\t\treturn $( this.currentForm )\n\t\t\t.find( \"input, select, textarea, [contenteditable]\" )\n\t\t\t.not( \":submit, :reset, :image, :disabled\" )\n\t\t\t.not( this.settings.ignore )\n\t\t\t.filter( function() {\n\t\t\t\tvar name = this.name || $( this ).attr( \"name\" ); // For contenteditable\n\t\t\t\tif ( !name && validator.settings.debug && window.console ) {\n\t\t\t\t\tconsole.error( \"%o has no name assigned\", this );\n\t\t\t\t}\n\n\t\t\t\t// Set form expando on contenteditable\n\t\t\t\tif ( this.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\t\tthis.form = $( this ).closest( \"form\" )[ 0 ];\n\t\t\t\t\tthis.name = name;\n\t\t\t\t}\n\n\t\t\t\t// Select only the first element for each name, and only those with rules specified\n\t\t\t\tif ( name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\n\t\t\t\trulesCache[ name ] = true;\n\t\t\t\treturn true;\n\t\t\t} );\n\t\t},\n\n\t\tclean: function( selector ) {\n\t\t\treturn $( selector )[ 0 ];\n\t\t},\n\n\t\terrors: function() {\n\t\t\tvar errorClass = this.settings.errorClass.split( \" \" ).join( \".\" );\n\t\t\treturn $( this.settings.errorElement + \".\" + errorClass, this.errorContext );\n\t\t},\n\n\t\tresetInternals: function() {\n\t\t\tthis.successList = [];\n\t\t\tthis.errorList = [];\n\t\t\tthis.errorMap = {};\n\t\t\tthis.toShow = $( [] );\n\t\t\tthis.toHide = $( [] );\n\t\t},\n\n\t\treset: function() {\n\t\t\tthis.resetInternals();\n\t\t\tthis.currentElements = $( [] );\n\t\t},\n\n\t\tprepareForm: function() {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errors().add( this.containers );\n\t\t},\n\n\t\tprepareElement: function( element ) {\n\t\t\tthis.reset();\n\t\t\tthis.toHide = this.errorsFor( element );\n\t\t},\n\n\t\telementValue: function( element ) {\n\t\t\tvar $element = $( element ),\n\t\t\t\ttype = element.type,\n\t\t\t\tval, idx;\n\n\t\t\tif ( type === \"radio\" || type === \"checkbox\" ) {\n\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).val();\n\t\t\t} else if ( type === \"number\" && typeof element.validity !== \"undefined\" ) {\n\t\t\t\treturn element.validity.badInput ? \"NaN\" : $element.val();\n\t\t\t}\n\n\t\t\tif ( element.hasAttribute( \"contenteditable\" ) ) {\n\t\t\t\tval = $element.text();\n\t\t\t} else {\n\t\t\t\tval = $element.val();\n\t\t\t}\n\n\t\t\tif ( type === \"file\" ) {\n\n\t\t\t\t// Modern browser (chrome & safari)\n\t\t\t\tif ( val.substr( 0, 12 ) === \"C:\\\\fakepath\\\\\" ) {\n\t\t\t\t\treturn val.substr( 12 );\n\t\t\t\t}\n\n\t\t\t\t// Legacy browsers\n\t\t\t\t// Unix-based path\n\t\t\t\tidx = val.lastIndexOf( \"/\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Windows-based path\n\t\t\t\tidx = val.lastIndexOf( \"\\\\\" );\n\t\t\t\tif ( idx >= 0 ) {\n\t\t\t\t\treturn val.substr( idx + 1 );\n\t\t\t\t}\n\n\t\t\t\t// Just the file name\n\t\t\t\treturn val;\n\t\t\t}\n\n\t\t\tif ( typeof val === \"string\" ) {\n\t\t\t\treturn val.replace( /\\r/g, \"\" );\n\t\t\t}\n\t\t\treturn val;\n\t\t},\n\n\t\tcheck: function( element ) {\n\t\t\telement = this.validationTargetFor( this.clean( element ) );\n\n\t\t\tvar rules = $( element ).rules(),\n\t\t\t\trulesCount = $.map( rules, function( n, i ) {\n\t\t\t\t\treturn i;\n\t\t\t\t} ).length,\n\t\t\t\tdependencyMismatch = false,\n\t\t\t\tval = this.elementValue( element ),\n\t\t\t\tresult, method, rule, normalizer;\n\n\t\t\t// Prioritize the local normalizer defined for this element over the global one\n\t\t\t// if the former exists, otherwise user the global one in case it exists.\n\t\t\tif ( typeof rules.normalizer === \"function\" ) {\n\t\t\t\tnormalizer = rules.normalizer;\n\t\t\t} else if (\ttypeof this.settings.normalizer === \"function\" ) {\n\t\t\t\tnormalizer = this.settings.normalizer;\n\t\t\t}\n\n\t\t\t// If normalizer is defined, then call it to retreive the changed value instead\n\t\t\t// of using the real one.\n\t\t\t// Note that `this` in the normalizer is `element`.\n\t\t\tif ( normalizer ) {\n\t\t\t\tval = normalizer.call( element, val );\n\n\t\t\t\tif ( typeof val !== \"string\" ) {\n\t\t\t\t\tthrow new TypeError( \"The normalizer should return a string value.\" );\n\t\t\t\t}\n\n\t\t\t\t// Delete the normalizer from rules to avoid treating it as a pre-defined method.\n\t\t\t\tdelete rules.normalizer;\n\t\t\t}\n\n\t\t\tfor ( method in rules ) {\n\t\t\t\trule = { method: method, parameters: rules[ method ] };\n\t\t\t\ttry {\n\t\t\t\t\tresult = $.validator.methods[ method ].call( this, val, element, rule.parameters );\n\n\t\t\t\t\t// If a method indicates that the field is optional and therefore valid,\n\t\t\t\t\t// don't mark it as valid when there are no other rules\n\t\t\t\t\tif ( result === \"dependency-mismatch\" && rulesCount === 1 ) {\n\t\t\t\t\t\tdependencyMismatch = true;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tdependencyMismatch = false;\n\n\t\t\t\t\tif ( result === \"pending\" ) {\n\t\t\t\t\t\tthis.toHide = this.toHide.not( this.errorsFor( element ) );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( !result ) {\n\t\t\t\t\t\tthis.formatAndAdd( element, rule );\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t} catch ( e ) {\n\t\t\t\t\tif ( this.settings.debug && window.console ) {\n\t\t\t\t\t\tconsole.log( \"Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\", e );\n\t\t\t\t\t}\n\t\t\t\t\tif ( e instanceof TypeError ) {\n\t\t\t\t\t\te.message += \".  Exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method.\";\n\t\t\t\t\t}\n\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( dependencyMismatch ) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( this.objectLength( rules ) ) {\n\t\t\t\tthis.successList.push( element );\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\n\t\t// Return the custom message for the given element and validation method\n\t\t// specified in the element's HTML5 data attribute\n\t\t// return the generic message if present and no method specific message is present\n\t\tcustomDataMessage: function( element, method ) {\n\t\t\treturn $( element ).data( \"msg\" + method.charAt( 0 ).toUpperCase() +\n\t\t\t\tmethod.substring( 1 ).toLowerCase() ) || $( element ).data( \"msg\" );\n\t\t},\n\n\t\t// Return the custom message for the given element name and validation method\n\t\tcustomMessage: function( name, method ) {\n\t\t\tvar m = this.settings.messages[ name ];\n\t\t\treturn m && ( m.constructor === String ? m : m[ method ] );\n\t\t},\n\n\t\t// Return the first defined argument, allowing empty strings\n\t\tfindDefined: function() {\n\t\t\tfor ( var i = 0; i < arguments.length; i++ ) {\n\t\t\t\tif ( arguments[ i ] !== undefined ) {\n\t\t\t\t\treturn arguments[ i ];\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn undefined;\n\t\t},\n\n\t\t// The second parameter 'rule' used to be a string, and extended to an object literal\n\t\t// of the following form:\n\t\t// rule = {\n\t\t//     method: \"method name\",\n\t\t//     parameters: \"the given method parameters\"\n\t\t// }\n\t\t//\n\t\t// The old behavior still supported, kept to maintain backward compatibility with\n\t\t// old code, and will be removed in the next major release.\n\t\tdefaultMessage: function( element, rule ) {\n\t\t\tif ( typeof rule === \"string\" ) {\n\t\t\t\trule = { method: rule };\n\t\t\t}\n\n\t\t\tvar message = this.findDefined(\n\t\t\t\t\tthis.customMessage( element.name, rule.method ),\n\t\t\t\t\tthis.customDataMessage( element, rule.method ),\n\n\t\t\t\t\t// 'title' is never undefined, so handle empty string as undefined\n\t\t\t\t\t!this.settings.ignoreTitle && element.title || undefined,\n\t\t\t\t\t$.validator.messages[ rule.method ],\n\t\t\t\t\t\"<strong>Warning: No message defined for \" + element.name + \"</strong>\"\n\t\t\t\t),\n\t\t\t\ttheregex = /\\$?\\{(\\d+)\\}/g;\n\t\t\tif ( typeof message === \"function\" ) {\n\t\t\t\tmessage = message.call( this, rule.parameters, element );\n\t\t\t} else if ( theregex.test( message ) ) {\n\t\t\t\tmessage = $.validator.format( message.replace( theregex, \"{$1}\" ), rule.parameters );\n\t\t\t}\n\n\t\t\treturn message;\n\t\t},\n\n\t\tformatAndAdd: function( element, rule ) {\n\t\t\tvar message = this.defaultMessage( element, rule );\n\n\t\t\tthis.errorList.push( {\n\t\t\t\tmessage: message,\n\t\t\t\telement: element,\n\t\t\t\tmethod: rule.method\n\t\t\t} );\n\n\t\t\tthis.errorMap[ element.name ] = message;\n\t\t\tthis.submitted[ element.name ] = message;\n\t\t},\n\n\t\taddWrapper: function( toToggle ) {\n\t\t\tif ( this.settings.wrapper ) {\n\t\t\t\ttoToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );\n\t\t\t}\n\t\t\treturn toToggle;\n\t\t},\n\n\t\tdefaultShowErrors: function() {\n\t\t\tvar i, elements, error;\n\t\t\tfor ( i = 0; this.errorList[ i ]; i++ ) {\n\t\t\t\terror = this.errorList[ i ];\n\t\t\t\tif ( this.settings.highlight ) {\n\t\t\t\t\tthis.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t\tthis.showLabel( error.element, error.message );\n\t\t\t}\n\t\t\tif ( this.errorList.length ) {\n\t\t\t\tthis.toShow = this.toShow.add( this.containers );\n\t\t\t}\n\t\t\tif ( this.settings.success ) {\n\t\t\t\tfor ( i = 0; this.successList[ i ]; i++ ) {\n\t\t\t\t\tthis.showLabel( this.successList[ i ] );\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( this.settings.unhighlight ) {\n\t\t\t\tfor ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {\n\t\t\t\t\tthis.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toHide = this.toHide.not( this.toShow );\n\t\t\tthis.hideErrors();\n\t\t\tthis.addWrapper( this.toShow ).show();\n\t\t},\n\n\t\tvalidElements: function() {\n\t\t\treturn this.currentElements.not( this.invalidElements() );\n\t\t},\n\n\t\tinvalidElements: function() {\n\t\t\treturn $( this.errorList ).map( function() {\n\t\t\t\treturn this.element;\n\t\t\t} );\n\t\t},\n\n\t\tshowLabel: function( element, message ) {\n\t\t\tvar place, group, errorID, v,\n\t\t\t\terror = this.errorsFor( element ),\n\t\t\t\telementID = this.idOrName( element ),\n\t\t\t\tdescribedBy = $( element ).attr( \"aria-describedby\" );\n\n\t\t\tif ( error.length ) {\n\n\t\t\t\t// Refresh error/success class\n\t\t\t\terror.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );\n\n\t\t\t\t// Replace message on existing label\n\t\t\t\terror.html( message );\n\t\t\t} else {\n\n\t\t\t\t// Create error element\n\t\t\t\terror = $( \"<\" + this.settings.errorElement + \">\" )\n\t\t\t\t\t.attr( \"id\", elementID + \"-error\" )\n\t\t\t\t\t.addClass( this.settings.errorClass )\n\t\t\t\t\t.html( message || \"\" );\n\n\t\t\t\t// Maintain reference to the element to be placed into the DOM\n\t\t\t\tplace = error;\n\t\t\t\tif ( this.settings.wrapper ) {\n\n\t\t\t\t\t// Make sure the element is visible, even in IE\n\t\t\t\t\t// actually showing the wrapped element is handled elsewhere\n\t\t\t\t\tplace = error.hide().show().wrap( \"<\" + this.settings.wrapper + \"/>\" ).parent();\n\t\t\t\t}\n\t\t\t\tif ( this.labelContainer.length ) {\n\t\t\t\t\tthis.labelContainer.append( place );\n\t\t\t\t} else if ( this.settings.errorPlacement ) {\n\t\t\t\t\tthis.settings.errorPlacement.call( this, place, $( element ) );\n\t\t\t\t} else {\n\t\t\t\t\tplace.insertAfter( element );\n\t\t\t\t}\n\n\t\t\t\t// Link error back to the element\n\t\t\t\tif ( error.is( \"label\" ) ) {\n\n\t\t\t\t\t// If the error is a label, then associate using 'for'\n\t\t\t\t\terror.attr( \"for\", elementID );\n\n\t\t\t\t\t// If the element is not a child of an associated label, then it's necessary\n\t\t\t\t\t// to explicitly apply aria-describedby\n\t\t\t\t} else if ( error.parents( \"label[for='\" + this.escapeCssMeta( elementID ) + \"']\" ).length === 0 ) {\n\t\t\t\t\terrorID = error.attr( \"id\" );\n\n\t\t\t\t\t// Respect existing non-error aria-describedby\n\t\t\t\t\tif ( !describedBy ) {\n\t\t\t\t\t\tdescribedBy = errorID;\n\t\t\t\t\t} else if ( !describedBy.match( new RegExp( \"\\\\b\" + this.escapeCssMeta( errorID ) + \"\\\\b\" ) ) ) {\n\n\t\t\t\t\t\t// Add to end of list if not already present\n\t\t\t\t\t\tdescribedBy += \" \" + errorID;\n\t\t\t\t\t}\n\t\t\t\t\t$( element ).attr( \"aria-describedby\", describedBy );\n\n\t\t\t\t\t// If this element is grouped, then assign to all elements in the same group\n\t\t\t\t\tgroup = this.groups[ element.name ];\n\t\t\t\t\tif ( group ) {\n\t\t\t\t\t\tv = this;\n\t\t\t\t\t\t$.each( v.groups, function( name, testgroup ) {\n\t\t\t\t\t\t\tif ( testgroup === group ) {\n\t\t\t\t\t\t\t\t$( \"[name='\" + v.escapeCssMeta( name ) + \"']\", v.currentForm )\n\t\t\t\t\t\t\t\t\t.attr( \"aria-describedby\", error.attr( \"id\" ) );\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ( !message && this.settings.success ) {\n\t\t\t\terror.text( \"\" );\n\t\t\t\tif ( typeof this.settings.success === \"string\" ) {\n\t\t\t\t\terror.addClass( this.settings.success );\n\t\t\t\t} else {\n\t\t\t\t\tthis.settings.success( error, element );\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.toShow = this.toShow.add( error );\n\t\t},\n\n\t\terrorsFor: function( element ) {\n\t\t\tvar name = this.escapeCssMeta( this.idOrName( element ) ),\n\t\t\t\tdescriber = $( element ).attr( \"aria-describedby\" ),\n\t\t\t\tselector = \"label[for='\" + name + \"'], label[for='\" + name + \"'] *\";\n\n\t\t\t// 'aria-describedby' should directly reference the error element\n\t\t\tif ( describer ) {\n\t\t\t\tselector = selector + \", #\" + this.escapeCssMeta( describer )\n\t\t\t\t\t.replace( /\\s+/g, \", #\" );\n\t\t\t}\n\n\t\t\treturn this\n\t\t\t\t.errors()\n\t\t\t\t.filter( selector );\n\t\t},\n\n\t\t// See https://api.jquery.com/category/selectors/, for CSS\n\t\t// meta-characters that should be escaped in order to be used with JQuery\n\t\t// as a literal part of a name/id or any selector.\n\t\tescapeCssMeta: function( string ) {\n\t\t\treturn string.replace( /([\\\\!\"#$%&'()*+,./:;<=>?@\\[\\]^`{|}~])/g, \"\\\\$1\" );\n\t\t},\n\n\t\tidOrName: function( element ) {\n\t\t\treturn this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );\n\t\t},\n\n\t\tvalidationTargetFor: function( element ) {\n\n\t\t\t// If radio/checkbox, validate first element in group instead\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\telement = this.findByName( element.name );\n\t\t\t}\n\n\t\t\t// Always apply ignore filter\n\t\t\treturn $( element ).not( this.settings.ignore )[ 0 ];\n\t\t},\n\n\t\tcheckable: function( element ) {\n\t\t\treturn ( /radio|checkbox/i ).test( element.type );\n\t\t},\n\n\t\tfindByName: function( name ) {\n\t\t\treturn $( this.currentForm ).find( \"[name='\" + this.escapeCssMeta( name ) + \"']\" );\n\t\t},\n\n\t\tgetLength: function( value, element ) {\n\t\t\tswitch ( element.nodeName.toLowerCase() ) {\n\t\t\tcase \"select\":\n\t\t\t\treturn $( \"option:selected\", element ).length;\n\t\t\tcase \"input\":\n\t\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\t\treturn this.findByName( element.name ).filter( \":checked\" ).length;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn value.length;\n\t\t},\n\n\t\tdepend: function( param, element ) {\n\t\t\treturn this.dependTypes[ typeof param ] ? this.dependTypes[ typeof param ]( param, element ) : true;\n\t\t},\n\n\t\tdependTypes: {\n\t\t\t\"boolean\": function( param ) {\n\t\t\t\treturn param;\n\t\t\t},\n\t\t\t\"string\": function( param, element ) {\n\t\t\t\treturn !!$( param, element.form ).length;\n\t\t\t},\n\t\t\t\"function\": function( param, element ) {\n\t\t\t\treturn param( element );\n\t\t\t}\n\t\t},\n\n\t\toptional: function( element ) {\n\t\t\tvar val = this.elementValue( element );\n\t\t\treturn !$.validator.methods.required.call( this, val, element ) && \"dependency-mismatch\";\n\t\t},\n\n\t\tstartRequest: function( element ) {\n\t\t\tif ( !this.pending[ element.name ] ) {\n\t\t\t\tthis.pendingRequest++;\n\t\t\t\t$( element ).addClass( this.settings.pendingClass );\n\t\t\t\tthis.pending[ element.name ] = true;\n\t\t\t}\n\t\t},\n\n\t\tstopRequest: function( element, valid ) {\n\t\t\tthis.pendingRequest--;\n\n\t\t\t// Sometimes synchronization fails, make sure pendingRequest is never < 0\n\t\t\tif ( this.pendingRequest < 0 ) {\n\t\t\t\tthis.pendingRequest = 0;\n\t\t\t}\n\t\t\tdelete this.pending[ element.name ];\n\t\t\t$( element ).removeClass( this.settings.pendingClass );\n\t\t\tif ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {\n\t\t\t\t$( this.currentForm ).submit();\n\n\t\t\t\t// Remove the hidden input that was used as a replacement for the\n\t\t\t\t// missing submit button. The hidden input is added by `handle()`\n\t\t\t\t// to ensure that the value of the used submit button is passed on\n\t\t\t\t// for scripted submits triggered by this method\n\t\t\t\tif ( this.submitButton ) {\n\t\t\t\t\t$( \"input:hidden[name='\" + this.submitButton.name + \"']\", this.currentForm ).remove();\n\t\t\t\t}\n\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t} else if ( !valid && this.pendingRequest === 0 && this.formSubmitted ) {\n\t\t\t\t$( this.currentForm ).triggerHandler( \"invalid-form\", [ this ] );\n\t\t\t\tthis.formSubmitted = false;\n\t\t\t}\n\t\t},\n\n\t\tpreviousValue: function( element, method ) {\n\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\n\t\t\treturn $.data( element, \"previousValue\" ) || $.data( element, \"previousValue\", {\n\t\t\t\told: null,\n\t\t\t\tvalid: true,\n\t\t\t\tmessage: this.defaultMessage( element, { method: method } )\n\t\t\t} );\n\t\t},\n\n\t\t// Cleans up all forms and elements, removes validator-specific events\n\t\tdestroy: function() {\n\t\t\tthis.resetForm();\n\n\t\t\t$( this.currentForm )\n\t\t\t\t.off( \".validate\" )\n\t\t\t\t.removeData( \"validator\" )\n\t\t\t\t.find( \".validate-equalTo-blur\" )\n\t\t\t\t\t.off( \".validate-equalTo\" )\n\t\t\t\t\t.removeClass( \"validate-equalTo-blur\" );\n\t\t}\n\n\t},\n\n\tclassRuleSettings: {\n\t\trequired: { required: true },\n\t\temail: { email: true },\n\t\turl: { url: true },\n\t\tdate: { date: true },\n\t\tdateISO: { dateISO: true },\n\t\tnumber: { number: true },\n\t\tdigits: { digits: true },\n\t\tcreditcard: { creditcard: true }\n\t},\n\n\taddClassRules: function( className, rules ) {\n\t\tif ( className.constructor === String ) {\n\t\t\tthis.classRuleSettings[ className ] = rules;\n\t\t} else {\n\t\t\t$.extend( this.classRuleSettings, className );\n\t\t}\n\t},\n\n\tclassRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tclasses = $( element ).attr( \"class\" );\n\n\t\tif ( classes ) {\n\t\t\t$.each( classes.split( \" \" ), function() {\n\t\t\t\tif ( this in $.validator.classRuleSettings ) {\n\t\t\t\t\t$.extend( rules, $.validator.classRuleSettings[ this ] );\n\t\t\t\t}\n\t\t\t} );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeAttributeRule: function( rules, type, method, value ) {\n\n\t\t// Convert the value to a number for number inputs, and for text for backwards compability\n\t\t// allows type=\"date\" and others to be compared as strings\n\t\tif ( /min|max|step/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {\n\t\t\tvalue = Number( value );\n\n\t\t\t// Support Opera Mini, which returns NaN for undefined minlength\n\t\t\tif ( isNaN( value ) ) {\n\t\t\t\tvalue = undefined;\n\t\t\t}\n\t\t}\n\n\t\tif ( value || value === 0 ) {\n\t\t\trules[ method ] = value;\n\t\t} else if ( type === method && type !== \"range\" ) {\n\n\t\t\t// Exception: the jquery validate 'range' method\n\t\t\t// does not test for the html5 'range' type\n\t\t\trules[ method ] = true;\n\t\t}\n\t},\n\n\tattributeRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\n\t\t\t// Support for <input required> in both html5 and older browsers\n\t\t\tif ( method === \"required\" ) {\n\t\t\t\tvalue = element.getAttribute( method );\n\n\t\t\t\t// Some browsers return an empty string for the required attribute\n\t\t\t\t// and non-HTML5 browsers might have required=\"\" markup\n\t\t\t\tif ( value === \"\" ) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t}\n\n\t\t\t\t// Force non-HTML5 browsers to return bool\n\t\t\t\tvalue = !!value;\n\t\t\t} else {\n\t\t\t\tvalue = $element.attr( method );\n\t\t\t}\n\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\n\t\t// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs\n\t\tif ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {\n\t\t\tdelete rules.maxlength;\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\tdataRules: function( element ) {\n\t\tvar rules = {},\n\t\t\t$element = $( element ),\n\t\t\ttype = element.getAttribute( \"type\" ),\n\t\t\tmethod, value;\n\n\t\tfor ( method in $.validator.methods ) {\n\t\t\tvalue = $element.data( \"rule\" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );\n\t\t\tthis.normalizeAttributeRule( rules, type, method, value );\n\t\t}\n\t\treturn rules;\n\t},\n\n\tstaticRules: function( element ) {\n\t\tvar rules = {},\n\t\t\tvalidator = $.data( element.form, \"validator\" );\n\n\t\tif ( validator.settings.rules ) {\n\t\t\trules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};\n\t\t}\n\t\treturn rules;\n\t},\n\n\tnormalizeRules: function( rules, element ) {\n\n\t\t// Handle dependency check\n\t\t$.each( rules, function( prop, val ) {\n\n\t\t\t// Ignore rule when param is explicitly false, eg. required:false\n\t\t\tif ( val === false ) {\n\t\t\t\tdelete rules[ prop ];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif ( val.param || val.depends ) {\n\t\t\t\tvar keepRule = true;\n\t\t\t\tswitch ( typeof val.depends ) {\n\t\t\t\tcase \"string\":\n\t\t\t\t\tkeepRule = !!$( val.depends, element.form ).length;\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"function\":\n\t\t\t\t\tkeepRule = val.depends.call( element, element );\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tif ( keepRule ) {\n\t\t\t\t\trules[ prop ] = val.param !== undefined ? val.param : true;\n\t\t\t\t} else {\n\t\t\t\t\t$.data( element.form, \"validator\" ).resetElements( $( element ) );\n\t\t\t\t\tdelete rules[ prop ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\t// Evaluate parameters\n\t\t$.each( rules, function( rule, parameter ) {\n\t\t\trules[ rule ] = $.isFunction( parameter ) && rule !== \"normalizer\" ? parameter( element ) : parameter;\n\t\t} );\n\n\t\t// Clean number parameters\n\t\t$.each( [ \"minlength\", \"maxlength\" ], function() {\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\trules[ this ] = Number( rules[ this ] );\n\t\t\t}\n\t\t} );\n\t\t$.each( [ \"rangelength\", \"range\" ], function() {\n\t\t\tvar parts;\n\t\t\tif ( rules[ this ] ) {\n\t\t\t\tif ( $.isArray( rules[ this ] ) ) {\n\t\t\t\t\trules[ this ] = [ Number( rules[ this ][ 0 ] ), Number( rules[ this ][ 1 ] ) ];\n\t\t\t\t} else if ( typeof rules[ this ] === \"string\" ) {\n\t\t\t\t\tparts = rules[ this ].replace( /[\\[\\]]/g, \"\" ).split( /[\\s,]+/ );\n\t\t\t\t\trules[ this ] = [ Number( parts[ 0 ] ), Number( parts[ 1 ] ) ];\n\t\t\t\t}\n\t\t\t}\n\t\t} );\n\n\t\tif ( $.validator.autoCreateRanges ) {\n\n\t\t\t// Auto-create ranges\n\t\t\tif ( rules.min != null && rules.max != null ) {\n\t\t\t\trules.range = [ rules.min, rules.max ];\n\t\t\t\tdelete rules.min;\n\t\t\t\tdelete rules.max;\n\t\t\t}\n\t\t\tif ( rules.minlength != null && rules.maxlength != null ) {\n\t\t\t\trules.rangelength = [ rules.minlength, rules.maxlength ];\n\t\t\t\tdelete rules.minlength;\n\t\t\t\tdelete rules.maxlength;\n\t\t\t}\n\t\t}\n\n\t\treturn rules;\n\t},\n\n\t// Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\n\tnormalizeRule: function( data ) {\n\t\tif ( typeof data === \"string\" ) {\n\t\t\tvar transformed = {};\n\t\t\t$.each( data.split( /\\s/ ), function() {\n\t\t\t\ttransformed[ this ] = true;\n\t\t\t} );\n\t\t\tdata = transformed;\n\t\t}\n\t\treturn data;\n\t},\n\n\t// https://jqueryvalidation.org/jQuery.validator.addMethod/\n\taddMethod: function( name, method, message ) {\n\t\t$.validator.methods[ name ] = method;\n\t\t$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];\n\t\tif ( method.length < 3 ) {\n\t\t\t$.validator.addClassRules( name, $.validator.normalizeRule( name ) );\n\t\t}\n\t},\n\n\t// https://jqueryvalidation.org/jQuery.validator.methods/\n\tmethods: {\n\n\t\t// https://jqueryvalidation.org/required-method/\n\t\trequired: function( value, element, param ) {\n\n\t\t\t// Check if dependency is met\n\t\t\tif ( !this.depend( param, element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\t\t\tif ( element.nodeName.toLowerCase() === \"select\" ) {\n\n\t\t\t\t// Could be an array for select-multiple or a string, both are fine this way\n\t\t\t\tvar val = $( element ).val();\n\t\t\t\treturn val && val.length > 0;\n\t\t\t}\n\t\t\tif ( this.checkable( element ) ) {\n\t\t\t\treturn this.getLength( value, element ) > 0;\n\t\t\t}\n\t\t\treturn value.length > 0;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/email-method/\n\t\temail: function( value, element ) {\n\n\t\t\t// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address\n\t\t\t// Retrieved 2014-01-14\n\t\t\t// If you have a problem with this implementation, report a bug against the above spec\n\t\t\t// Or use custom methods to implement your own email validation\n\t\t\treturn this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/url-method/\n\t\turl: function( value, element ) {\n\n\t\t\t// Copyright (c) 2010-2013 Diego Perini, MIT licensed\n\t\t\t// https://gist.github.com/dperini/729294\n\t\t\t// see also https://mathiasbynens.be/demo/url-regex\n\t\t\t// modified to allow protocol-relative URLs\n\t\t\treturn this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})).?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i.test( value );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/date-method/\n\t\tdate: function( value, element ) {\n\t\t\treturn this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/dateISO-method/\n\t\tdateISO: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d{4}[\\/\\-](0?[1-9]|1[012])[\\/\\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/number-method/\n\t\tnumber: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^(?:-?\\d+|-?\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test( value );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/digits-method/\n\t\tdigits: function( value, element ) {\n\t\t\treturn this.optional( element ) || /^\\d+$/.test( value );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/minlength-method/\n\t\tminlength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length >= param;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/maxlength-method/\n\t\tmaxlength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || length <= param;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/rangelength-method/\n\t\trangelength: function( value, element, param ) {\n\t\t\tvar length = $.isArray( value ) ? value.length : this.getLength( value, element );\n\t\t\treturn this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/min-method/\n\t\tmin: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value >= param;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/max-method/\n\t\tmax: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || value <= param;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/range-method/\n\t\trange: function( value, element, param ) {\n\t\t\treturn this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );\n\t\t},\n\n\t\t// https://jqueryvalidation.org/step-method/\n\t\tstep: function( value, element, param ) {\n\t\t\tvar type = $( element ).attr( \"type\" ),\n\t\t\t\terrorMessage = \"Step attribute on input type \" + type + \" is not supported.\",\n\t\t\t\tsupportedTypes = [ \"text\", \"number\", \"range\" ],\n\t\t\t\tre = new RegExp( \"\\\\b\" + type + \"\\\\b\" ),\n\t\t\t\tnotSupported = type && !re.test( supportedTypes.join() ),\n\t\t\t\tdecimalPlaces = function( num ) {\n\t\t\t\t\tvar match = ( \"\" + num ).match( /(?:\\.(\\d+))?$/ );\n\t\t\t\t\tif ( !match ) {\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Number of digits right of decimal point.\n\t\t\t\t\treturn match[ 1 ] ? match[ 1 ].length : 0;\n\t\t\t\t},\n\t\t\t\ttoInt = function( num ) {\n\t\t\t\t\treturn Math.round( num * Math.pow( 10, decimals ) );\n\t\t\t\t},\n\t\t\t\tvalid = true,\n\t\t\t\tdecimals;\n\n\t\t\t// Works only for text, number and range input types\n\t\t\t// TODO find a way to support input types date, datetime, datetime-local, month, time and week\n\t\t\tif ( notSupported ) {\n\t\t\t\tthrow new Error( errorMessage );\n\t\t\t}\n\n\t\t\tdecimals = decimalPlaces( param );\n\n\t\t\t// Value can't have too many decimals\n\t\t\tif ( decimalPlaces( value ) > decimals || toInt( value ) % toInt( param ) !== 0 ) {\n\t\t\t\tvalid = false;\n\t\t\t}\n\n\t\t\treturn this.optional( element ) || valid;\n\t\t},\n\n\t\t// https://jqueryvalidation.org/equalTo-method/\n\t\tequalTo: function( value, element, param ) {\n\n\t\t\t// Bind to the blur event of the target in order to revalidate whenever the target field is updated\n\t\t\tvar target = $( param );\n\t\t\tif ( this.settings.onfocusout && target.not( \".validate-equalTo-blur\" ).length ) {\n\t\t\t\ttarget.addClass( \"validate-equalTo-blur\" ).on( \"blur.validate-equalTo\", function() {\n\t\t\t\t\t$( element ).valid();\n\t\t\t\t} );\n\t\t\t}\n\t\t\treturn value === target.val();\n\t\t},\n\n\t\t// https://jqueryvalidation.org/remote-method/\n\t\tremote: function( value, element, param, method ) {\n\t\t\tif ( this.optional( element ) ) {\n\t\t\t\treturn \"dependency-mismatch\";\n\t\t\t}\n\n\t\t\tmethod = typeof method === \"string\" && method || \"remote\";\n\n\t\t\tvar previous = this.previousValue( element, method ),\n\t\t\t\tvalidator, data, optionDataString;\n\n\t\t\tif ( !this.settings.messages[ element.name ] ) {\n\t\t\t\tthis.settings.messages[ element.name ] = {};\n\t\t\t}\n\t\t\tprevious.originalMessage = previous.originalMessage || this.settings.messages[ element.name ][ method ];\n\t\t\tthis.settings.messages[ element.name ][ method ] = previous.message;\n\n\t\t\tparam = typeof param === \"string\" && { url: param } || param;\n\t\t\toptionDataString = $.param( $.extend( { data: value }, param.data ) );\n\t\t\tif ( previous.old === optionDataString ) {\n\t\t\t\treturn previous.valid;\n\t\t\t}\n\n\t\t\tprevious.old = optionDataString;\n\t\t\tvalidator = this;\n\t\t\tthis.startRequest( element );\n\t\t\tdata = {};\n\t\t\tdata[ element.name ] = value;\n\t\t\t$.ajax( $.extend( true, {\n\t\t\t\tmode: \"abort\",\n\t\t\t\tport: \"validate\" + element.name,\n\t\t\t\tdataType: \"json\",\n\t\t\t\tdata: data,\n\t\t\t\tcontext: validator.currentForm,\n\t\t\t\tsuccess: function( response ) {\n\t\t\t\t\tvar valid = response === true || response === \"true\",\n\t\t\t\t\t\terrors, message, submitted;\n\n\t\t\t\t\tvalidator.settings.messages[ element.name ][ method ] = previous.originalMessage;\n\t\t\t\t\tif ( valid ) {\n\t\t\t\t\t\tsubmitted = validator.formSubmitted;\n\t\t\t\t\t\tvalidator.resetInternals();\n\t\t\t\t\t\tvalidator.toHide = validator.errorsFor( element );\n\t\t\t\t\t\tvalidator.formSubmitted = submitted;\n\t\t\t\t\t\tvalidator.successList.push( element );\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = false;\n\t\t\t\t\t\tvalidator.showErrors();\n\t\t\t\t\t} else {\n\t\t\t\t\t\terrors = {};\n\t\t\t\t\t\tmessage = response || validator.defaultMessage( element, { method: method, parameters: value } );\n\t\t\t\t\t\terrors[ element.name ] = previous.message = message;\n\t\t\t\t\t\tvalidator.invalid[ element.name ] = true;\n\t\t\t\t\t\tvalidator.showErrors( errors );\n\t\t\t\t\t}\n\t\t\t\t\tprevious.valid = valid;\n\t\t\t\t\tvalidator.stopRequest( element, valid );\n\t\t\t\t}\n\t\t\t}, param ) );\n\t\t\treturn \"pending\";\n\t\t}\n\t}\n\n} );\n\r\n// Ajax mode: abort\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\n\nvar pendingRequests = {},\n\tajax;\n\n// Use a prefilter if available (1.5+)\nif ( $.ajaxPrefilter ) {\n\t$.ajaxPrefilter( function( settings, _, xhr ) {\n\t\tvar port = settings.port;\n\t\tif ( settings.mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = xhr;\n\t\t}\n\t} );\n} else {\n\n\t// Proxy ajax\n\tajax = $.ajax;\n\t$.ajax = function( settings ) {\n\t\tvar mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\n\t\t\tport = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\n\t\tif ( mode === \"abort\" ) {\n\t\t\tif ( pendingRequests[ port ] ) {\n\t\t\t\tpendingRequests[ port ].abort();\n\t\t\t}\n\t\t\tpendingRequests[ port ] = ajax.apply( this, arguments );\n\t\t\treturn pendingRequests[ port ];\n\t\t}\n\t\treturn ajax.apply( this, arguments );\n\t};\n}\nreturn $;\r\n}));","(function( factory ) {\n\tif ( typeof define === \"function\" && define.amd ) {\n\t\tdefine( [\"jquery\", \"../jquery.validate\"], factory );\n\t} else if (typeof module === \"object\" && module.exports) {\n\t\tmodule.exports = factory( require( \"jquery\" ) );\n\t} else {\n\t\tfactory( jQuery );\n\t}\n}(function( $ ) {\n\n/*\n * Translated default messages for the jQuery validation plugin.\n * Locale: RU (Russian; русский язык)\n */\n$.extend( $.validator.messages, {\n\trequired: \"Это поле необходимо заполнить.\",\n\tremote: \"Пожалуйста, введите правильное значение.\",\n\temail: \"Пожалуйста, введите корректный адрес электронной почты.\",\n\turl: \"Пожалуйста, введите корректный URL.\",\n\tdate: \"Пожалуйста, введите корректную дату.\",\n\tdateISO: \"Пожалуйста, введите корректную дату в формате ISO.\",\n\tnumber: \"Пожалуйста, введите число.\",\n\tdigits: \"Пожалуйста, вводите только цифры.\",\n\tcreditcard: \"Пожалуйста, введите правильный номер кредитной карты.\",\n\tequalTo: \"Пожалуйста, введите такое же значение ещё раз.\",\n\textension: \"Пожалуйста, выберите файл с правильным расширением.\",\n\tmaxlength: $.validator.format( \"Пожалуйста, введите не больше {0} символов.\" ),\n\tminlength: $.validator.format( \"Пожалуйста, введите не меньше {0} символов.\" ),\n\trangelength: $.validator.format( \"Пожалуйста, введите значение длиной от {0} до {1} символов.\" ),\n\trange: $.validator.format( \"Пожалуйста, введите число от {0} до {1}.\" ),\n\tmax: $.validator.format( \"Пожалуйста, введите число, меньшее или равное {0}.\" ),\n\tmin: $.validator.format( \"Пожалуйста, введите число, большее или равное {0}.\" )\n} );\nreturn $;\n}));","$(function($, window){\r\n\t$.fn.resizeselect = function(settings) {  \r\n\t\treturn this.each(function() { \r\n\t\t\t$(this).change(function(){\r\n\t\t\t\tvar $this = $(this);\r\n\t\t\t\t// create test element\r\n\t\t\t\tvar text = $this.find(\"option:selected\").text();\r\n\t\t\t\tvar $test = $(\"<span style=\\\"font-size:\"+$this.css(\"font-size\")+\"\\\">\").html(text);\r\n\t\t\t\t// add to parent, get width, and get out\r\n\t\t\t\t$test.appendTo($this.parent());\r\n\t\t\t\tvar width = $test.width();\r\n\t\t\t\t$test.remove();\r\n\t\t\t\t// set select width\r\n\t\t\t\t$this.width(width);\r\n\t\t\t\t// run on start\r\n\t\t\t}).change();\r\n\t\t});\r\n\t};\r\n}(jQuery));","/*\r\n     _ _      _       _\r\n ___| (_) ___| | __  (_)___\r\n/ __| | |/ __| |/ /  | / __|\r\n\\__ \\ | | (__|   < _ | \\__ \\\r\n|___/_|_|\\___|_|\\_(_)/ |___/\r\n                   |__/\r\n\r\n Version: 1.9.0\r\n  Author: Ken Wheeler\r\n Website: http://kenwheeler.github.io\r\n    Docs: http://kenwheeler.github.io/slick\r\n    Repo: http://github.com/kenwheeler/slick\r\n  Issues: http://github.com/kenwheeler/slick/issues\r\n\r\n */\r\n/* global window, document, define, jQuery, setInterval, clearInterval */\r\n;(function(factory) {\r\n    'use strict';\r\n    if (typeof define === 'function' && define.amd) {\r\n        define(['jquery'], factory);\r\n    } else if (typeof exports !== 'undefined') {\r\n        module.exports = factory(require('jquery'));\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n\r\n}(function($) {\r\n    'use strict';\r\n    var Slick = window.Slick || {};\r\n\r\n    Slick = (function() {\r\n\r\n        var instanceUid = 0;\r\n\r\n        function Slick(element, settings) {\r\n\r\n            var _ = this, dataSettings;\r\n\r\n            _.defaults = {\r\n                accessibility: true,\r\n                adaptiveHeight: false,\r\n                appendArrows: $(element),\r\n                appendDots: $(element),\r\n                arrows: true,\r\n                asNavFor: null,\r\n                prevArrow: '<button class=\"slick-prev\" aria-label=\"Previous\" type=\"button\">Previous</button>',\r\n                nextArrow: '<button class=\"slick-next\" aria-label=\"Next\" type=\"button\">Next</button>',\r\n                autoplay: false,\r\n                autoplaySpeed: 3000,\r\n                centerMode: false,\r\n                centerPadding: '50px',\r\n                cssEase: 'ease',\r\n                customPaging: function(slider, i) {\r\n                    return $('<button type=\"button\" />').text(i + 1);\r\n                },\r\n                dots: false,\r\n                dotsClass: 'slick-dots',\r\n                draggable: true,\r\n                easing: 'linear',\r\n                edgeFriction: 0.35,\r\n                fade: false,\r\n                focusOnSelect: false,\r\n                focusOnChange: false,\r\n                infinite: true,\r\n                initialSlide: 0,\r\n                lazyLoad: 'ondemand',\r\n                mobileFirst: false,\r\n                pauseOnHover: true,\r\n                pauseOnFocus: true,\r\n                pauseOnDotsHover: false,\r\n                respondTo: 'window',\r\n                responsive: null,\r\n                rows: 1,\r\n                rtl: false,\r\n                slide: '',\r\n                slidesPerRow: 1,\r\n                slidesToShow: 1,\r\n                slidesToScroll: 1,\r\n                speed: 500,\r\n                swipe: true,\r\n                swipeToSlide: false,\r\n                touchMove: true,\r\n                touchThreshold: 5,\r\n                useCSS: true,\r\n                useTransform: true,\r\n                variableWidth: false,\r\n                vertical: false,\r\n                verticalSwiping: false,\r\n                waitForAnimate: true,\r\n                zIndex: 1000\r\n            };\r\n\r\n            _.initials = {\r\n                animating: false,\r\n                dragging: false,\r\n                autoPlayTimer: null,\r\n                currentDirection: 0,\r\n                currentLeft: null,\r\n                currentSlide: 0,\r\n                direction: 1,\r\n                $dots: null,\r\n                listWidth: null,\r\n                listHeight: null,\r\n                loadIndex: 0,\r\n                $nextArrow: null,\r\n                $prevArrow: null,\r\n                scrolling: false,\r\n                slideCount: null,\r\n                slideWidth: null,\r\n                $slideTrack: null,\r\n                $slides: null,\r\n                sliding: false,\r\n                slideOffset: 0,\r\n                swipeLeft: null,\r\n                swiping: false,\r\n                $list: null,\r\n                touchObject: {},\r\n                transformsEnabled: false,\r\n                unslicked: false\r\n            };\r\n\r\n            $.extend(_, _.initials);\r\n\r\n            _.activeBreakpoint = null;\r\n            _.animType = null;\r\n            _.animProp = null;\r\n            _.breakpoints = [];\r\n            _.breakpointSettings = [];\r\n            _.cssTransitions = false;\r\n            _.focussed = false;\r\n            _.interrupted = false;\r\n            _.hidden = 'hidden';\r\n            _.paused = true;\r\n            _.positionProp = null;\r\n            _.respondTo = null;\r\n            _.rowCount = 1;\r\n            _.shouldClick = true;\r\n            _.$slider = $(element);\r\n            _.$slidesCache = null;\r\n            _.transformType = null;\r\n            _.transitionType = null;\r\n            _.visibilityChange = 'visibilitychange';\r\n            _.windowWidth = 0;\r\n            _.windowTimer = null;\r\n\r\n            dataSettings = $(element).data('slick') || {};\r\n\r\n            _.options = $.extend({}, _.defaults, settings, dataSettings);\r\n\r\n            _.currentSlide = _.options.initialSlide;\r\n\r\n            _.originalSettings = _.options;\r\n\r\n            if (typeof document.mozHidden !== 'undefined') {\r\n                _.hidden = 'mozHidden';\r\n                _.visibilityChange = 'mozvisibilitychange';\r\n            } else if (typeof document.webkitHidden !== 'undefined') {\r\n                _.hidden = 'webkitHidden';\r\n                _.visibilityChange = 'webkitvisibilitychange';\r\n            }\r\n\r\n            _.autoPlay = $.proxy(_.autoPlay, _);\r\n            _.autoPlayClear = $.proxy(_.autoPlayClear, _);\r\n            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);\r\n            _.changeSlide = $.proxy(_.changeSlide, _);\r\n            _.clickHandler = $.proxy(_.clickHandler, _);\r\n            _.selectHandler = $.proxy(_.selectHandler, _);\r\n            _.setPosition = $.proxy(_.setPosition, _);\r\n            _.swipeHandler = $.proxy(_.swipeHandler, _);\r\n            _.dragHandler = $.proxy(_.dragHandler, _);\r\n            _.keyHandler = $.proxy(_.keyHandler, _);\r\n\r\n            _.instanceUid = instanceUid++;\r\n\r\n            // A simple way to check for HTML strings\r\n            // Strict HTML recognition (must start with <)\r\n            // Extracted from jQuery v1.11 source\r\n            _.htmlExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*)$/;\r\n\r\n\r\n            _.registerBreakpoints();\r\n            _.init(true);\r\n\r\n        }\r\n\r\n        return Slick;\r\n\r\n    }());\r\n\r\n    Slick.prototype.activateADA = function() {\r\n        var _ = this;\r\n\r\n        _.$slideTrack.find('.slick-active').attr({\r\n            'aria-hidden': 'false'\r\n        }).find('a, input, button, select').attr({\r\n            'tabindex': '0'\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {\r\n\r\n        var _ = this;\r\n\r\n        if (typeof(index) === 'boolean') {\r\n            addBefore = index;\r\n            index = null;\r\n        } else if (index < 0 || (index >= _.slideCount)) {\r\n            return false;\r\n        }\r\n\r\n        _.unload();\r\n\r\n        if (typeof(index) === 'number') {\r\n            if (index === 0 && _.$slides.length === 0) {\r\n                $(markup).appendTo(_.$slideTrack);\r\n            } else if (addBefore) {\r\n                $(markup).insertBefore(_.$slides.eq(index));\r\n            } else {\r\n                $(markup).insertAfter(_.$slides.eq(index));\r\n            }\r\n        } else {\r\n            if (addBefore === true) {\r\n                $(markup).prependTo(_.$slideTrack);\r\n            } else {\r\n                $(markup).appendTo(_.$slideTrack);\r\n            }\r\n        }\r\n\r\n        _.$slides = _.$slideTrack.children(this.options.slide);\r\n\r\n        _.$slideTrack.children(this.options.slide).detach();\r\n\r\n        _.$slideTrack.append(_.$slides);\r\n\r\n        _.$slides.each(function(index, element) {\r\n            $(element).attr('data-slick-index', index);\r\n        });\r\n\r\n        _.$slidesCache = _.$slides;\r\n\r\n        _.reinit();\r\n\r\n    };\r\n\r\n    Slick.prototype.animateHeight = function() {\r\n        var _ = this;\r\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\r\n            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);\r\n            _.$list.animate({\r\n                height: targetHeight\r\n            }, _.options.speed);\r\n        }\r\n    };\r\n\r\n    Slick.prototype.animateSlide = function(targetLeft, callback) {\r\n\r\n        var animProps = {},\r\n            _ = this;\r\n\r\n        _.animateHeight();\r\n\r\n        if (_.options.rtl === true && _.options.vertical === false) {\r\n            targetLeft = -targetLeft;\r\n        }\r\n        if (_.transformsEnabled === false) {\r\n            if (_.options.vertical === false) {\r\n                _.$slideTrack.animate({\r\n                    left: targetLeft\r\n                }, _.options.speed, _.options.easing, callback);\r\n            } else {\r\n                _.$slideTrack.animate({\r\n                    top: targetLeft\r\n                }, _.options.speed, _.options.easing, callback);\r\n            }\r\n\r\n        } else {\r\n\r\n            if (_.cssTransitions === false) {\r\n                if (_.options.rtl === true) {\r\n                    _.currentLeft = -(_.currentLeft);\r\n                }\r\n                $({\r\n                    animStart: _.currentLeft\r\n                }).animate({\r\n                    animStart: targetLeft\r\n                }, {\r\n                    duration: _.options.speed,\r\n                    easing: _.options.easing,\r\n                    step: function(now) {\r\n                        now = Math.ceil(now);\r\n                        if (_.options.vertical === false) {\r\n                            animProps[_.animType] = 'translate(' +\r\n                                now + 'px, 0px)';\r\n                            _.$slideTrack.css(animProps);\r\n                        } else {\r\n                            animProps[_.animType] = 'translate(0px,' +\r\n                                now + 'px)';\r\n                            _.$slideTrack.css(animProps);\r\n                        }\r\n                    },\r\n                    complete: function() {\r\n                        if (callback) {\r\n                            callback.call();\r\n                        }\r\n                    }\r\n                });\r\n\r\n            } else {\r\n\r\n                _.applyTransition();\r\n                targetLeft = Math.ceil(targetLeft);\r\n\r\n                if (_.options.vertical === false) {\r\n                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';\r\n                } else {\r\n                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';\r\n                }\r\n                _.$slideTrack.css(animProps);\r\n\r\n                if (callback) {\r\n                    setTimeout(function() {\r\n\r\n                        _.disableTransition();\r\n\r\n                        callback.call();\r\n                    }, _.options.speed);\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.getNavTarget = function() {\r\n\r\n        var _ = this,\r\n            asNavFor = _.options.asNavFor;\r\n\r\n        if ( asNavFor && asNavFor !== null ) {\r\n            asNavFor = $(asNavFor).not(_.$slider);\r\n        }\r\n\r\n        return asNavFor;\r\n\r\n    };\r\n\r\n    Slick.prototype.asNavFor = function(index) {\r\n\r\n        var _ = this,\r\n            asNavFor = _.getNavTarget();\r\n\r\n        if ( asNavFor !== null && typeof asNavFor === 'object' ) {\r\n            asNavFor.each(function() {\r\n                var target = $(this).slick('getSlick');\r\n                if(!target.unslicked) {\r\n                    target.slideHandler(index, true);\r\n                }\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.applyTransition = function(slide) {\r\n\r\n        var _ = this,\r\n            transition = {};\r\n\r\n        if (_.options.fade === false) {\r\n            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;\r\n        } else {\r\n            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;\r\n        }\r\n\r\n        if (_.options.fade === false) {\r\n            _.$slideTrack.css(transition);\r\n        } else {\r\n            _.$slides.eq(slide).css(transition);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.autoPlay = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.autoPlayClear();\r\n\r\n        if ( _.slideCount > _.options.slidesToShow ) {\r\n            _.autoPlayTimer = setInterval( _.autoPlayIterator, _.options.autoplaySpeed );\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.autoPlayClear = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.autoPlayTimer) {\r\n            clearInterval(_.autoPlayTimer);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.autoPlayIterator = function() {\r\n\r\n        var _ = this,\r\n            slideTo = _.currentSlide + _.options.slidesToScroll;\r\n\r\n        if ( !_.paused && !_.interrupted && !_.focussed ) {\r\n\r\n            if ( _.options.infinite === false ) {\r\n\r\n                if ( _.direction === 1 && ( _.currentSlide + 1 ) === ( _.slideCount - 1 )) {\r\n                    _.direction = 0;\r\n                }\r\n\r\n                else if ( _.direction === 0 ) {\r\n\r\n                    slideTo = _.currentSlide - _.options.slidesToScroll;\r\n\r\n                    if ( _.currentSlide - 1 === 0 ) {\r\n                        _.direction = 1;\r\n                    }\r\n\r\n                }\r\n\r\n            }\r\n\r\n            _.slideHandler( slideTo );\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildArrows = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true ) {\r\n\r\n            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');\r\n            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');\r\n\r\n            if( _.slideCount > _.options.slidesToShow ) {\r\n\r\n                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');\r\n                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');\r\n\r\n                if (_.htmlExpr.test(_.options.prevArrow)) {\r\n                    _.$prevArrow.prependTo(_.options.appendArrows);\r\n                }\r\n\r\n                if (_.htmlExpr.test(_.options.nextArrow)) {\r\n                    _.$nextArrow.appendTo(_.options.appendArrows);\r\n                }\r\n\r\n                if (_.options.infinite !== true) {\r\n                    _.$prevArrow\r\n                        .addClass('slick-disabled')\r\n                        .attr('aria-disabled', 'true');\r\n                }\r\n\r\n            } else {\r\n\r\n                _.$prevArrow.add( _.$nextArrow )\r\n\r\n                    .addClass('slick-hidden')\r\n                    .attr({\r\n                        'aria-disabled': 'true',\r\n                        'tabindex': '-1'\r\n                    });\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildDots = function() {\r\n\r\n        var _ = this,\r\n            i, dot;\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$slider.addClass('slick-dotted');\r\n\r\n            dot = $('<ul />').addClass(_.options.dotsClass);\r\n\r\n            for (i = 0; i <= _.getDotCount(); i += 1) {\r\n                dot.append($('<li />').append(_.options.customPaging.call(this, _, i)));\r\n            }\r\n\r\n            _.$dots = dot.appendTo(_.options.appendDots);\r\n\r\n            _.$dots.find('li').first().addClass('slick-active');\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildOut = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.$slides =\r\n            _.$slider\r\n                .children( _.options.slide + ':not(.slick-cloned)')\r\n                .addClass('slick-slide');\r\n\r\n        _.slideCount = _.$slides.length;\r\n\r\n        _.$slides.each(function(index, element) {\r\n            $(element)\r\n                .attr('data-slick-index', index)\r\n                .data('originalStyling', $(element).attr('style') || '');\r\n        });\r\n\r\n        _.$slider.addClass('slick-slider');\r\n\r\n        _.$slideTrack = (_.slideCount === 0) ?\r\n            $('<div class=\"slick-track\"/>').appendTo(_.$slider) :\r\n            _.$slides.wrapAll('<div class=\"slick-track\"/>').parent();\r\n\r\n        _.$list = _.$slideTrack.wrap(\r\n            '<div class=\"slick-list\"/>').parent();\r\n        _.$slideTrack.css('opacity', 0);\r\n\r\n        if (_.options.centerMode === true || _.options.swipeToSlide === true) {\r\n            _.options.slidesToScroll = 1;\r\n        }\r\n\r\n        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');\r\n\r\n        _.setupInfinite();\r\n\r\n        _.buildArrows();\r\n\r\n        _.buildDots();\r\n\r\n        _.updateDots();\r\n\r\n\r\n        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);\r\n\r\n        if (_.options.draggable === true) {\r\n            _.$list.addClass('draggable');\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.buildRows = function() {\r\n\r\n        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;\r\n\r\n        newSlides = document.createDocumentFragment();\r\n        originalSlides = _.$slider.children();\r\n\r\n        if(_.options.rows > 0) {\r\n\r\n            slidesPerSection = _.options.slidesPerRow * _.options.rows;\r\n            numOfSlides = Math.ceil(\r\n                originalSlides.length / slidesPerSection\r\n            );\r\n\r\n            for(a = 0; a < numOfSlides; a++){\r\n                var slide = document.createElement('div');\r\n                for(b = 0; b < _.options.rows; b++) {\r\n                    var row = document.createElement('div');\r\n                    for(c = 0; c < _.options.slidesPerRow; c++) {\r\n                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));\r\n                        if (originalSlides.get(target)) {\r\n                            row.appendChild(originalSlides.get(target));\r\n                        }\r\n                    }\r\n                    slide.appendChild(row);\r\n                }\r\n                newSlides.appendChild(slide);\r\n            }\r\n\r\n            _.$slider.empty().append(newSlides);\r\n            _.$slider.children().children().children()\r\n                .css({\r\n                    'width':(100 / _.options.slidesPerRow) + '%',\r\n                    'display': 'inline-block'\r\n                });\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.checkResponsive = function(initial, forceUpdate) {\r\n\r\n        var _ = this,\r\n            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;\r\n        var sliderWidth = _.$slider.width();\r\n        var windowWidth = window.innerWidth || $(window).width();\r\n\r\n        if (_.respondTo === 'window') {\r\n            respondToWidth = windowWidth;\r\n        } else if (_.respondTo === 'slider') {\r\n            respondToWidth = sliderWidth;\r\n        } else if (_.respondTo === 'min') {\r\n            respondToWidth = Math.min(windowWidth, sliderWidth);\r\n        }\r\n\r\n        if ( _.options.responsive &&\r\n            _.options.responsive.length &&\r\n            _.options.responsive !== null) {\r\n\r\n            targetBreakpoint = null;\r\n\r\n            for (breakpoint in _.breakpoints) {\r\n                if (_.breakpoints.hasOwnProperty(breakpoint)) {\r\n                    if (_.originalSettings.mobileFirst === false) {\r\n                        if (respondToWidth < _.breakpoints[breakpoint]) {\r\n                            targetBreakpoint = _.breakpoints[breakpoint];\r\n                        }\r\n                    } else {\r\n                        if (respondToWidth > _.breakpoints[breakpoint]) {\r\n                            targetBreakpoint = _.breakpoints[breakpoint];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (targetBreakpoint !== null) {\r\n                if (_.activeBreakpoint !== null) {\r\n                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {\r\n                        _.activeBreakpoint =\r\n                            targetBreakpoint;\r\n                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\r\n                            _.unslick(targetBreakpoint);\r\n                        } else {\r\n                            _.options = $.extend({}, _.originalSettings,\r\n                                _.breakpointSettings[\r\n                                    targetBreakpoint]);\r\n                            if (initial === true) {\r\n                                _.currentSlide = _.options.initialSlide;\r\n                            }\r\n                            _.refresh(initial);\r\n                        }\r\n                        triggerBreakpoint = targetBreakpoint;\r\n                    }\r\n                } else {\r\n                    _.activeBreakpoint = targetBreakpoint;\r\n                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {\r\n                        _.unslick(targetBreakpoint);\r\n                    } else {\r\n                        _.options = $.extend({}, _.originalSettings,\r\n                            _.breakpointSettings[\r\n                                targetBreakpoint]);\r\n                        if (initial === true) {\r\n                            _.currentSlide = _.options.initialSlide;\r\n                        }\r\n                        _.refresh(initial);\r\n                    }\r\n                    triggerBreakpoint = targetBreakpoint;\r\n                }\r\n            } else {\r\n                if (_.activeBreakpoint !== null) {\r\n                    _.activeBreakpoint = null;\r\n                    _.options = _.originalSettings;\r\n                    if (initial === true) {\r\n                        _.currentSlide = _.options.initialSlide;\r\n                    }\r\n                    _.refresh(initial);\r\n                    triggerBreakpoint = targetBreakpoint;\r\n                }\r\n            }\r\n\r\n            // only trigger breakpoints during an actual break. not on initialize.\r\n            if( !initial && triggerBreakpoint !== false ) {\r\n                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.changeSlide = function(event, dontAnimate) {\r\n\r\n        var _ = this,\r\n            $target = $(event.currentTarget),\r\n            indexOffset, slideOffset, unevenOffset;\r\n\r\n        // If target is a link, prevent default action.\r\n        if($target.is('a')) {\r\n            event.preventDefault();\r\n        }\r\n\r\n        // If target is not the <li> element (ie: a child), find the <li>.\r\n        if(!$target.is('li')) {\r\n            $target = $target.closest('li');\r\n        }\r\n\r\n        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);\r\n        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;\r\n\r\n        switch (event.data.message) {\r\n\r\n            case 'previous':\r\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;\r\n                if (_.slideCount > _.options.slidesToShow) {\r\n                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);\r\n                }\r\n                break;\r\n\r\n            case 'next':\r\n                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;\r\n                if (_.slideCount > _.options.slidesToShow) {\r\n                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);\r\n                }\r\n                break;\r\n\r\n            case 'index':\r\n                var index = event.data.index === 0 ? 0 :\r\n                    event.data.index || $target.index() * _.options.slidesToScroll;\r\n\r\n                _.slideHandler(_.checkNavigable(index), false, dontAnimate);\r\n                $target.children().trigger('focus');\r\n                break;\r\n\r\n            default:\r\n                return;\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.checkNavigable = function(index) {\r\n\r\n        var _ = this,\r\n            navigables, prevNavigable;\r\n\r\n        navigables = _.getNavigableIndexes();\r\n        prevNavigable = 0;\r\n        if (index > navigables[navigables.length - 1]) {\r\n            index = navigables[navigables.length - 1];\r\n        } else {\r\n            for (var n in navigables) {\r\n                if (index < navigables[n]) {\r\n                    index = prevNavigable;\r\n                    break;\r\n                }\r\n                prevNavigable = navigables[n];\r\n            }\r\n        }\r\n\r\n        return index;\r\n    };\r\n\r\n    Slick.prototype.cleanUpEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.dots && _.$dots !== null) {\r\n\r\n            $('li', _.$dots)\r\n                .off('click.slick', _.changeSlide)\r\n                .off('mouseenter.slick', $.proxy(_.interrupt, _, true))\r\n                .off('mouseleave.slick', $.proxy(_.interrupt, _, false));\r\n\r\n            if (_.options.accessibility === true) {\r\n                _.$dots.off('keydown.slick', _.keyHandler);\r\n            }\r\n        }\r\n\r\n        _.$slider.off('focus.slick blur.slick');\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);\r\n            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);\r\n\r\n            if (_.options.accessibility === true) {\r\n                _.$prevArrow && _.$prevArrow.off('keydown.slick', _.keyHandler);\r\n                _.$nextArrow && _.$nextArrow.off('keydown.slick', _.keyHandler);\r\n            }\r\n        }\r\n\r\n        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);\r\n        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);\r\n        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);\r\n        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);\r\n\r\n        _.$list.off('click.slick', _.clickHandler);\r\n\r\n        $(document).off(_.visibilityChange, _.visibility);\r\n\r\n        _.cleanUpSlideEvents();\r\n\r\n        if (_.options.accessibility === true) {\r\n            _.$list.off('keydown.slick', _.keyHandler);\r\n        }\r\n\r\n        if (_.options.focusOnSelect === true) {\r\n            $(_.$slideTrack).children().off('click.slick', _.selectHandler);\r\n        }\r\n\r\n        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);\r\n\r\n        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);\r\n\r\n        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);\r\n\r\n        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);\r\n\r\n    };\r\n\r\n    Slick.prototype.cleanUpSlideEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.$list.off('mouseenter.slick', $.proxy(_.interrupt, _, true));\r\n        _.$list.off('mouseleave.slick', $.proxy(_.interrupt, _, false));\r\n\r\n    };\r\n\r\n    Slick.prototype.cleanUpRows = function() {\r\n\r\n        var _ = this, originalSlides;\r\n\r\n        if(_.options.rows > 0) {\r\n            originalSlides = _.$slides.children().children();\r\n            originalSlides.removeAttr('style');\r\n            _.$slider.empty().append(originalSlides);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.clickHandler = function(event) {\r\n\r\n        var _ = this;\r\n\r\n        if (_.shouldClick === false) {\r\n            event.stopImmediatePropagation();\r\n            event.stopPropagation();\r\n            event.preventDefault();\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.destroy = function(refresh) {\r\n\r\n        var _ = this;\r\n\r\n        _.autoPlayClear();\r\n\r\n        _.touchObject = {};\r\n\r\n        _.cleanUpEvents();\r\n\r\n        $('.slick-cloned', _.$slider).detach();\r\n\r\n        if (_.$dots) {\r\n            _.$dots.remove();\r\n        }\r\n\r\n        if ( _.$prevArrow && _.$prevArrow.length ) {\r\n\r\n            _.$prevArrow\r\n                .removeClass('slick-disabled slick-arrow slick-hidden')\r\n                .removeAttr('aria-hidden aria-disabled tabindex')\r\n                .css('display','');\r\n\r\n            if ( _.htmlExpr.test( _.options.prevArrow )) {\r\n                _.$prevArrow.remove();\r\n            }\r\n        }\r\n\r\n        if ( _.$nextArrow && _.$nextArrow.length ) {\r\n\r\n            _.$nextArrow\r\n                .removeClass('slick-disabled slick-arrow slick-hidden')\r\n                .removeAttr('aria-hidden aria-disabled tabindex')\r\n                .css('display','');\r\n\r\n            if ( _.htmlExpr.test( _.options.nextArrow )) {\r\n                _.$nextArrow.remove();\r\n            }\r\n        }\r\n\r\n\r\n        if (_.$slides) {\r\n\r\n            _.$slides\r\n                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')\r\n                .removeAttr('aria-hidden')\r\n                .removeAttr('data-slick-index')\r\n                .each(function(){\r\n                    $(this).attr('style', $(this).data('originalStyling'));\r\n                });\r\n\r\n            _.$slideTrack.children(this.options.slide).detach();\r\n\r\n            _.$slideTrack.detach();\r\n\r\n            _.$list.detach();\r\n\r\n            _.$slider.append(_.$slides);\r\n        }\r\n\r\n        _.cleanUpRows();\r\n\r\n        _.$slider.removeClass('slick-slider');\r\n        _.$slider.removeClass('slick-initialized');\r\n        _.$slider.removeClass('slick-dotted');\r\n\r\n        _.unslicked = true;\r\n\r\n        if(!refresh) {\r\n            _.$slider.trigger('destroy', [_]);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.disableTransition = function(slide) {\r\n\r\n        var _ = this,\r\n            transition = {};\r\n\r\n        transition[_.transitionType] = '';\r\n\r\n        if (_.options.fade === false) {\r\n            _.$slideTrack.css(transition);\r\n        } else {\r\n            _.$slides.eq(slide).css(transition);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.fadeSlide = function(slideIndex, callback) {\r\n\r\n        var _ = this;\r\n\r\n        if (_.cssTransitions === false) {\r\n\r\n            _.$slides.eq(slideIndex).css({\r\n                zIndex: _.options.zIndex\r\n            });\r\n\r\n            _.$slides.eq(slideIndex).animate({\r\n                opacity: 1\r\n            }, _.options.speed, _.options.easing, callback);\r\n\r\n        } else {\r\n\r\n            _.applyTransition(slideIndex);\r\n\r\n            _.$slides.eq(slideIndex).css({\r\n                opacity: 1,\r\n                zIndex: _.options.zIndex\r\n            });\r\n\r\n            if (callback) {\r\n                setTimeout(function() {\r\n\r\n                    _.disableTransition(slideIndex);\r\n\r\n                    callback.call();\r\n                }, _.options.speed);\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.fadeSlideOut = function(slideIndex) {\r\n\r\n        var _ = this;\r\n\r\n        if (_.cssTransitions === false) {\r\n\r\n            _.$slides.eq(slideIndex).animate({\r\n                opacity: 0,\r\n                zIndex: _.options.zIndex - 2\r\n            }, _.options.speed, _.options.easing);\r\n\r\n        } else {\r\n\r\n            _.applyTransition(slideIndex);\r\n\r\n            _.$slides.eq(slideIndex).css({\r\n                opacity: 0,\r\n                zIndex: _.options.zIndex - 2\r\n            });\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {\r\n\r\n        var _ = this;\r\n\r\n        if (filter !== null) {\r\n\r\n            _.$slidesCache = _.$slides;\r\n\r\n            _.unload();\r\n\r\n            _.$slideTrack.children(this.options.slide).detach();\r\n\r\n            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);\r\n\r\n            _.reinit();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.focusHandler = function() {\r\n\r\n        var _ = this;\r\n\r\n        // If any child element receives focus within the slider we need to pause the autoplay\r\n        _.$slider\r\n            .off('focus.slick blur.slick')\r\n            .on(\r\n                'focus.slick',\r\n                '*',\r\n                function(event) {\r\n                    var $sf = $(this);\r\n\r\n                    setTimeout(function() {\r\n                        if( _.options.pauseOnFocus ) {\r\n                            if ($sf.is(':focus')) {\r\n                                _.focussed = true;\r\n                                _.autoPlay();\r\n                            }\r\n                        }\r\n                    }, 0);\r\n                }\r\n            ).on(\r\n                'blur.slick',\r\n                '*',\r\n                function(event) {\r\n                    var $sf = $(this);\r\n\r\n                    // When a blur occurs on any elements within the slider we become unfocused\r\n                    if( _.options.pauseOnFocus ) {\r\n                        _.focussed = false;\r\n                        _.autoPlay();\r\n                    }\r\n                }\r\n            );\r\n    };\r\n\r\n    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {\r\n\r\n        var _ = this;\r\n        return _.currentSlide;\r\n\r\n    };\r\n\r\n    Slick.prototype.getDotCount = function() {\r\n\r\n        var _ = this;\r\n\r\n        var breakPoint = 0;\r\n        var counter = 0;\r\n        var pagerQty = 0;\r\n\r\n        if (_.options.infinite === true) {\r\n            if (_.slideCount <= _.options.slidesToShow) {\r\n                 ++pagerQty;\r\n            } else {\r\n                while (breakPoint < _.slideCount) {\r\n                    ++pagerQty;\r\n                    breakPoint = counter + _.options.slidesToScroll;\r\n                    counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\r\n                }\r\n            }\r\n        } else if (_.options.centerMode === true) {\r\n            pagerQty = _.slideCount;\r\n        } else if(!_.options.asNavFor) {\r\n            pagerQty = 1 + Math.ceil((_.slideCount - _.options.slidesToShow) / _.options.slidesToScroll);\r\n        }else {\r\n            while (breakPoint < _.slideCount) {\r\n                ++pagerQty;\r\n                breakPoint = counter + _.options.slidesToScroll;\r\n                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\r\n            }\r\n        }\r\n\r\n        return pagerQty - 1;\r\n\r\n    };\r\n\r\n    Slick.prototype.getLeft = function(slideIndex) {\r\n\r\n        var _ = this,\r\n            targetLeft,\r\n            verticalHeight,\r\n            verticalOffset = 0,\r\n            targetSlide,\r\n            coef;\r\n\r\n        _.slideOffset = 0;\r\n        verticalHeight = _.$slides.first().outerHeight(true);\r\n\r\n        if (_.options.infinite === true) {\r\n            if (_.slideCount > _.options.slidesToShow) {\r\n                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;\r\n                coef = -1\r\n\r\n                if (_.options.vertical === true && _.options.centerMode === true) {\r\n                    if (_.options.slidesToShow === 2) {\r\n                        coef = -1.5;\r\n                    } else if (_.options.slidesToShow === 1) {\r\n                        coef = -2\r\n                    }\r\n                }\r\n                verticalOffset = (verticalHeight * _.options.slidesToShow) * coef;\r\n            }\r\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\r\n                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {\r\n                    if (slideIndex > _.slideCount) {\r\n                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;\r\n                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;\r\n                    } else {\r\n                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;\r\n                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            if (slideIndex + _.options.slidesToShow > _.slideCount) {\r\n                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;\r\n                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;\r\n            }\r\n        }\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            _.slideOffset = 0;\r\n            verticalOffset = 0;\r\n        }\r\n\r\n        if (_.options.centerMode === true && _.slideCount <= _.options.slidesToShow) {\r\n            _.slideOffset = ((_.slideWidth * Math.floor(_.options.slidesToShow)) / 2) - ((_.slideWidth * _.slideCount) / 2);\r\n        } else if (_.options.centerMode === true && _.options.infinite === true) {\r\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;\r\n        } else if (_.options.centerMode === true) {\r\n            _.slideOffset = 0;\r\n            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);\r\n        }\r\n\r\n        if (_.options.vertical === false) {\r\n            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;\r\n        } else {\r\n            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;\r\n        }\r\n\r\n        if (_.options.variableWidth === true) {\r\n\r\n            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\r\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\r\n            } else {\r\n                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);\r\n            }\r\n\r\n            if (_.options.rtl === true) {\r\n                if (targetSlide[0]) {\r\n                    targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;\r\n                } else {\r\n                    targetLeft =  0;\r\n                }\r\n            } else {\r\n                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\r\n            }\r\n\r\n            if (_.options.centerMode === true) {\r\n                if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {\r\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);\r\n                } else {\r\n                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);\r\n                }\r\n\r\n                if (_.options.rtl === true) {\r\n                    if (targetSlide[0]) {\r\n                        targetLeft = (_.$slideTrack.width() - targetSlide[0].offsetLeft - targetSlide.width()) * -1;\r\n                    } else {\r\n                        targetLeft =  0;\r\n                    }\r\n                } else {\r\n                    targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;\r\n                }\r\n\r\n                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;\r\n            }\r\n        }\r\n\r\n        return targetLeft;\r\n\r\n    };\r\n\r\n    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {\r\n\r\n        var _ = this;\r\n\r\n        return _.options[option];\r\n\r\n    };\r\n\r\n    Slick.prototype.getNavigableIndexes = function() {\r\n\r\n        var _ = this,\r\n            breakPoint = 0,\r\n            counter = 0,\r\n            indexes = [],\r\n            max;\r\n\r\n        if (_.options.infinite === false) {\r\n            max = _.slideCount;\r\n        } else {\r\n            breakPoint = _.options.slidesToScroll * -1;\r\n            counter = _.options.slidesToScroll * -1;\r\n            max = _.slideCount * 2;\r\n        }\r\n\r\n        while (breakPoint < max) {\r\n            indexes.push(breakPoint);\r\n            breakPoint = counter + _.options.slidesToScroll;\r\n            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;\r\n        }\r\n\r\n        return indexes;\r\n\r\n    };\r\n\r\n    Slick.prototype.getSlick = function() {\r\n\r\n        return this;\r\n\r\n    };\r\n\r\n    Slick.prototype.getSlideCount = function() {\r\n\r\n        var _ = this,\r\n            slidesTraversed, swipedSlide, swipeTarget, centerOffset;\r\n\r\n        centerOffset = _.options.centerMode === true ? Math.floor(_.$list.width() / 2) : 0;\r\n        swipeTarget = (_.swipeLeft * -1) + centerOffset;\r\n\r\n        if (_.options.swipeToSlide === true) {\r\n\r\n            _.$slideTrack.find('.slick-slide').each(function(index, slide) {\r\n\r\n                var slideOuterWidth, slideOffset, slideRightBoundary;\r\n                slideOuterWidth = $(slide).outerWidth();\r\n                slideOffset = slide.offsetLeft;\r\n                if (_.options.centerMode !== true) {\r\n                    slideOffset += (slideOuterWidth / 2);\r\n                }\r\n\r\n                slideRightBoundary = slideOffset + (slideOuterWidth);\r\n\r\n                if (swipeTarget < slideRightBoundary) {\r\n                    swipedSlide = slide;\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;\r\n\r\n            return slidesTraversed;\r\n\r\n        } else {\r\n            return _.options.slidesToScroll;\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {\r\n\r\n        var _ = this;\r\n\r\n        _.changeSlide({\r\n            data: {\r\n                message: 'index',\r\n                index: parseInt(slide)\r\n            }\r\n        }, dontAnimate);\r\n\r\n    };\r\n\r\n    Slick.prototype.init = function(creation) {\r\n\r\n        var _ = this;\r\n\r\n        if (!$(_.$slider).hasClass('slick-initialized')) {\r\n\r\n            $(_.$slider).addClass('slick-initialized');\r\n\r\n            _.buildRows();\r\n            _.buildOut();\r\n            _.setProps();\r\n            _.startLoad();\r\n            _.loadSlider();\r\n            _.initializeEvents();\r\n            _.updateArrows();\r\n            _.updateDots();\r\n            _.checkResponsive(true);\r\n            _.focusHandler();\r\n\r\n        }\r\n\r\n        if (creation) {\r\n            _.$slider.trigger('init', [_]);\r\n        }\r\n\r\n        if (_.options.accessibility === true) {\r\n            _.initADA();\r\n        }\r\n\r\n        if ( _.options.autoplay ) {\r\n\r\n            _.paused = false;\r\n            _.autoPlay();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.initADA = function() {\r\n        var _ = this,\r\n                numDotGroups = Math.ceil(_.slideCount / _.options.slidesToShow),\r\n                tabControlIndexes = _.getNavigableIndexes().filter(function(val) {\r\n                    return (val >= 0) && (val < _.slideCount);\r\n                });\r\n\r\n        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({\r\n            'aria-hidden': 'true',\r\n            'tabindex': '-1'\r\n        }).find('a, input, button, select').attr({\r\n            'tabindex': '-1'\r\n        });\r\n\r\n        if (_.$dots !== null) {\r\n            _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i) {\r\n                var slideControlIndex = tabControlIndexes.indexOf(i);\r\n\r\n                $(this).attr({\r\n                    'role': 'tabpanel',\r\n                    'id': 'slick-slide' + _.instanceUid + i,\r\n                    'tabindex': -1\r\n                });\r\n\r\n                if (slideControlIndex !== -1) {\r\n                   var ariaButtonControl = 'slick-slide-control' + _.instanceUid + slideControlIndex\r\n                   if ($('#' + ariaButtonControl).length) {\r\n                     $(this).attr({\r\n                         'aria-describedby': ariaButtonControl\r\n                     });\r\n                   }\r\n                }\r\n            });\r\n\r\n            _.$dots.attr('role', 'tablist').find('li').each(function(i) {\r\n                var mappedSlideIndex = tabControlIndexes[i];\r\n\r\n                $(this).attr({\r\n                    'role': 'presentation'\r\n                });\r\n\r\n                $(this).find('button').first().attr({\r\n                    'role': 'tab',\r\n                    'id': 'slick-slide-control' + _.instanceUid + i,\r\n                    'aria-controls': 'slick-slide' + _.instanceUid + mappedSlideIndex,\r\n                    'aria-label': (i + 1) + ' of ' + numDotGroups,\r\n                    'aria-selected': null,\r\n                    'tabindex': '-1'\r\n                });\r\n\r\n            }).eq(_.currentSlide).find('button').attr({\r\n                'aria-selected': 'true',\r\n                'tabindex': '0'\r\n            }).end();\r\n        }\r\n\r\n        for (var i=_.currentSlide, max=i+_.options.slidesToShow; i < max; i++) {\r\n          if (_.options.focusOnChange) {\r\n            _.$slides.eq(i).attr({'tabindex': '0'});\r\n          } else {\r\n            _.$slides.eq(i).removeAttr('tabindex');\r\n          }\r\n        }\r\n\r\n        _.activateADA();\r\n\r\n    };\r\n\r\n    Slick.prototype.initArrowEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n            _.$prevArrow\r\n               .off('click.slick')\r\n               .on('click.slick', {\r\n                    message: 'previous'\r\n               }, _.changeSlide);\r\n            _.$nextArrow\r\n               .off('click.slick')\r\n               .on('click.slick', {\r\n                    message: 'next'\r\n               }, _.changeSlide);\r\n\r\n            if (_.options.accessibility === true) {\r\n                _.$prevArrow.on('keydown.slick', _.keyHandler);\r\n                _.$nextArrow.on('keydown.slick', _.keyHandler);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.initDotEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n            $('li', _.$dots).on('click.slick', {\r\n                message: 'index'\r\n            }, _.changeSlide);\r\n\r\n            if (_.options.accessibility === true) {\r\n                _.$dots.on('keydown.slick', _.keyHandler);\r\n            }\r\n        }\r\n\r\n        if (_.options.dots === true && _.options.pauseOnDotsHover === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            $('li', _.$dots)\r\n                .on('mouseenter.slick', $.proxy(_.interrupt, _, true))\r\n                .on('mouseleave.slick', $.proxy(_.interrupt, _, false));\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.initSlideEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        if ( _.options.pauseOnHover ) {\r\n\r\n            _.$list.on('mouseenter.slick', $.proxy(_.interrupt, _, true));\r\n            _.$list.on('mouseleave.slick', $.proxy(_.interrupt, _, false));\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.initializeEvents = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.initArrowEvents();\r\n\r\n        _.initDotEvents();\r\n        _.initSlideEvents();\r\n\r\n        _.$list.on('touchstart.slick mousedown.slick', {\r\n            action: 'start'\r\n        }, _.swipeHandler);\r\n        _.$list.on('touchmove.slick mousemove.slick', {\r\n            action: 'move'\r\n        }, _.swipeHandler);\r\n        _.$list.on('touchend.slick mouseup.slick', {\r\n            action: 'end'\r\n        }, _.swipeHandler);\r\n        _.$list.on('touchcancel.slick mouseleave.slick', {\r\n            action: 'end'\r\n        }, _.swipeHandler);\r\n\r\n        _.$list.on('click.slick', _.clickHandler);\r\n\r\n        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));\r\n\r\n        if (_.options.accessibility === true) {\r\n            _.$list.on('keydown.slick', _.keyHandler);\r\n        }\r\n\r\n        if (_.options.focusOnSelect === true) {\r\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\r\n        }\r\n\r\n        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));\r\n\r\n        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));\r\n\r\n        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);\r\n\r\n        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);\r\n        $(_.setPosition);\r\n\r\n    };\r\n\r\n    Slick.prototype.initUI = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$prevArrow.show();\r\n            _.$nextArrow.show();\r\n\r\n        }\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$dots.show();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.keyHandler = function(event) {\r\n\r\n        var _ = this;\r\n         //Dont slide if the cursor is inside the form fields and arrow keys are pressed\r\n        if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {\r\n            if (event.keyCode === 37 && _.options.accessibility === true) {\r\n                _.changeSlide({\r\n                    data: {\r\n                        message: _.options.rtl === true ? 'next' :  'previous'\r\n                    }\r\n                });\r\n            } else if (event.keyCode === 39 && _.options.accessibility === true) {\r\n                _.changeSlide({\r\n                    data: {\r\n                        message: _.options.rtl === true ? 'previous' : 'next'\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.lazyLoad = function() {\r\n\r\n        var _ = this,\r\n            loadRange, cloneRange, rangeStart, rangeEnd;\r\n\r\n        function loadImages(imagesScope) {\r\n\r\n            $('img[data-lazy]', imagesScope).each(function() {\r\n\r\n                var image = $(this),\r\n                    imageSource = $(this).attr('data-lazy'),\r\n                    imageSrcSet = $(this).attr('data-srcset'),\r\n                    imageSizes  = $(this).attr('data-sizes') || _.$slider.attr('data-sizes'),\r\n                    imageToLoad = document.createElement('img');\r\n\r\n                imageToLoad.onload = function() {\r\n\r\n                    image\r\n                        .animate({ opacity: 0 }, 100, function() {\r\n\r\n                            if (imageSrcSet) {\r\n                                image\r\n                                    .attr('srcset', imageSrcSet );\r\n\r\n                                if (imageSizes) {\r\n                                    image\r\n                                        .attr('sizes', imageSizes );\r\n                                }\r\n                            }\r\n\r\n                            image\r\n                                .attr('src', imageSource)\r\n                                .animate({ opacity: 1 }, 200, function() {\r\n                                    image\r\n                                        .removeAttr('data-lazy data-srcset data-sizes')\r\n                                        .removeClass('slick-loading');\r\n                                });\r\n                            _.$slider.trigger('lazyLoaded', [_, image, imageSource]);\r\n                        });\r\n\r\n                };\r\n\r\n                imageToLoad.onerror = function() {\r\n\r\n                    image\r\n                        .removeAttr( 'data-lazy' )\r\n                        .removeClass( 'slick-loading' )\r\n                        .addClass( 'slick-lazyload-error' );\r\n\r\n                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);\r\n\r\n                };\r\n\r\n                imageToLoad.src = imageSource;\r\n\r\n            });\r\n\r\n        }\r\n\r\n        if (_.options.centerMode === true) {\r\n            if (_.options.infinite === true) {\r\n                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);\r\n                rangeEnd = rangeStart + _.options.slidesToShow + 2;\r\n            } else {\r\n                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));\r\n                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;\r\n            }\r\n        } else {\r\n            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;\r\n            rangeEnd = Math.ceil(rangeStart + _.options.slidesToShow);\r\n            if (_.options.fade === true) {\r\n                if (rangeStart > 0) rangeStart--;\r\n                if (rangeEnd <= _.slideCount) rangeEnd++;\r\n            }\r\n        }\r\n\r\n        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);\r\n\r\n        if (_.options.lazyLoad === 'anticipated') {\r\n            var prevSlide = rangeStart - 1,\r\n                nextSlide = rangeEnd,\r\n                $slides = _.$slider.find('.slick-slide');\r\n\r\n            for (var i = 0; i < _.options.slidesToScroll; i++) {\r\n                if (prevSlide < 0) prevSlide = _.slideCount - 1;\r\n                loadRange = loadRange.add($slides.eq(prevSlide));\r\n                loadRange = loadRange.add($slides.eq(nextSlide));\r\n                prevSlide--;\r\n                nextSlide++;\r\n            }\r\n        }\r\n\r\n        loadImages(loadRange);\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            cloneRange = _.$slider.find('.slick-slide');\r\n            loadImages(cloneRange);\r\n        } else\r\n        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {\r\n            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);\r\n            loadImages(cloneRange);\r\n        } else if (_.currentSlide === 0) {\r\n            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);\r\n            loadImages(cloneRange);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.loadSlider = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.setPosition();\r\n\r\n        _.$slideTrack.css({\r\n            opacity: 1\r\n        });\r\n\r\n        _.$slider.removeClass('slick-loading');\r\n\r\n        _.initUI();\r\n\r\n        if (_.options.lazyLoad === 'progressive') {\r\n            _.progressiveLazyLoad();\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.next = Slick.prototype.slickNext = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.changeSlide({\r\n            data: {\r\n                message: 'next'\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.orientationChange = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.checkResponsive();\r\n        _.setPosition();\r\n\r\n    };\r\n\r\n    Slick.prototype.pause = Slick.prototype.slickPause = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.autoPlayClear();\r\n        _.paused = true;\r\n\r\n    };\r\n\r\n    Slick.prototype.play = Slick.prototype.slickPlay = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.autoPlay();\r\n        _.options.autoplay = true;\r\n        _.paused = false;\r\n        _.focussed = false;\r\n        _.interrupted = false;\r\n\r\n    };\r\n\r\n    Slick.prototype.postSlide = function(index) {\r\n\r\n        var _ = this;\r\n\r\n        if( !_.unslicked ) {\r\n\r\n            _.$slider.trigger('afterChange', [_, index]);\r\n\r\n            _.animating = false;\r\n\r\n            if (_.slideCount > _.options.slidesToShow) {\r\n                _.setPosition();\r\n            }\r\n\r\n            _.swipeLeft = null;\r\n\r\n            if ( _.options.autoplay ) {\r\n                _.autoPlay();\r\n            }\r\n\r\n            if (_.options.accessibility === true) {\r\n                _.initADA();\r\n\r\n                if (_.options.focusOnChange) {\r\n                    var $currentSlide = $(_.$slides.get(_.currentSlide));\r\n                    $currentSlide.attr('tabindex', 0).focus();\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.prev = Slick.prototype.slickPrev = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.changeSlide({\r\n            data: {\r\n                message: 'previous'\r\n            }\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.preventDefault = function(event) {\r\n\r\n        event.preventDefault();\r\n\r\n    };\r\n\r\n    Slick.prototype.progressiveLazyLoad = function( tryCount ) {\r\n\r\n        tryCount = tryCount || 1;\r\n\r\n        var _ = this,\r\n            $imgsToLoad = $( 'img[data-lazy]', _.$slider ),\r\n            image,\r\n            imageSource,\r\n            imageSrcSet,\r\n            imageSizes,\r\n            imageToLoad;\r\n\r\n        if ( $imgsToLoad.length ) {\r\n\r\n            image = $imgsToLoad.first();\r\n            imageSource = image.attr('data-lazy');\r\n            imageSrcSet = image.attr('data-srcset');\r\n            imageSizes  = image.attr('data-sizes') || _.$slider.attr('data-sizes');\r\n            imageToLoad = document.createElement('img');\r\n\r\n            imageToLoad.onload = function() {\r\n\r\n                if (imageSrcSet) {\r\n                    image\r\n                        .attr('srcset', imageSrcSet );\r\n\r\n                    if (imageSizes) {\r\n                        image\r\n                            .attr('sizes', imageSizes );\r\n                    }\r\n                }\r\n\r\n                image\r\n                    .attr( 'src', imageSource )\r\n                    .removeAttr('data-lazy data-srcset data-sizes')\r\n                    .removeClass('slick-loading');\r\n\r\n                if ( _.options.adaptiveHeight === true ) {\r\n                    _.setPosition();\r\n                }\r\n\r\n                _.$slider.trigger('lazyLoaded', [ _, image, imageSource ]);\r\n                _.progressiveLazyLoad();\r\n\r\n            };\r\n\r\n            imageToLoad.onerror = function() {\r\n\r\n                if ( tryCount < 3 ) {\r\n\r\n                    /**\r\n                     * try to load the image 3 times,\r\n                     * leave a slight delay so we don't get\r\n                     * servers blocking the request.\r\n                     */\r\n                    setTimeout( function() {\r\n                        _.progressiveLazyLoad( tryCount + 1 );\r\n                    }, 500 );\r\n\r\n                } else {\r\n\r\n                    image\r\n                        .removeAttr( 'data-lazy' )\r\n                        .removeClass( 'slick-loading' )\r\n                        .addClass( 'slick-lazyload-error' );\r\n\r\n                    _.$slider.trigger('lazyLoadError', [ _, image, imageSource ]);\r\n\r\n                    _.progressiveLazyLoad();\r\n\r\n                }\r\n\r\n            };\r\n\r\n            imageToLoad.src = imageSource;\r\n\r\n        } else {\r\n\r\n            _.$slider.trigger('allImagesLoaded', [ _ ]);\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.refresh = function( initializing ) {\r\n\r\n        var _ = this, currentSlide, lastVisibleIndex;\r\n\r\n        lastVisibleIndex = _.slideCount - _.options.slidesToShow;\r\n\r\n        // in non-infinite sliders, we don't want to go past the\r\n        // last visible index.\r\n        if( !_.options.infinite && ( _.currentSlide > lastVisibleIndex )) {\r\n            _.currentSlide = lastVisibleIndex;\r\n        }\r\n\r\n        // if less slides than to show, go to start.\r\n        if ( _.slideCount <= _.options.slidesToShow ) {\r\n            _.currentSlide = 0;\r\n\r\n        }\r\n\r\n        currentSlide = _.currentSlide;\r\n\r\n        _.destroy(true);\r\n\r\n        $.extend(_, _.initials, { currentSlide: currentSlide });\r\n\r\n        _.init();\r\n\r\n        if( !initializing ) {\r\n\r\n            _.changeSlide({\r\n                data: {\r\n                    message: 'index',\r\n                    index: currentSlide\r\n                }\r\n            }, false);\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.registerBreakpoints = function() {\r\n\r\n        var _ = this, breakpoint, currentBreakpoint, l,\r\n            responsiveSettings = _.options.responsive || null;\r\n\r\n        if ( $.type(responsiveSettings) === 'array' && responsiveSettings.length ) {\r\n\r\n            _.respondTo = _.options.respondTo || 'window';\r\n\r\n            for ( breakpoint in responsiveSettings ) {\r\n\r\n                l = _.breakpoints.length-1;\r\n\r\n                if (responsiveSettings.hasOwnProperty(breakpoint)) {\r\n                    currentBreakpoint = responsiveSettings[breakpoint].breakpoint;\r\n\r\n                    // loop through the breakpoints and cut out any existing\r\n                    // ones with the same breakpoint number, we don't want dupes.\r\n                    while( l >= 0 ) {\r\n                        if( _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint ) {\r\n                            _.breakpoints.splice(l,1);\r\n                        }\r\n                        l--;\r\n                    }\r\n\r\n                    _.breakpoints.push(currentBreakpoint);\r\n                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;\r\n\r\n                }\r\n\r\n            }\r\n\r\n            _.breakpoints.sort(function(a, b) {\r\n                return ( _.options.mobileFirst ) ? a-b : b-a;\r\n            });\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.reinit = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.$slides =\r\n            _.$slideTrack\r\n                .children(_.options.slide)\r\n                .addClass('slick-slide');\r\n\r\n        _.slideCount = _.$slides.length;\r\n\r\n        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {\r\n            _.currentSlide = _.currentSlide - _.options.slidesToScroll;\r\n        }\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n            _.currentSlide = 0;\r\n        }\r\n\r\n        _.registerBreakpoints();\r\n\r\n        _.setProps();\r\n        _.setupInfinite();\r\n        _.buildArrows();\r\n        _.updateArrows();\r\n        _.initArrowEvents();\r\n        _.buildDots();\r\n        _.updateDots();\r\n        _.initDotEvents();\r\n        _.cleanUpSlideEvents();\r\n        _.initSlideEvents();\r\n\r\n        _.checkResponsive(false, true);\r\n\r\n        if (_.options.focusOnSelect === true) {\r\n            $(_.$slideTrack).children().on('click.slick', _.selectHandler);\r\n        }\r\n\r\n        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);\r\n\r\n        _.setPosition();\r\n        _.focusHandler();\r\n\r\n        _.paused = !_.options.autoplay;\r\n        _.autoPlay();\r\n\r\n        _.$slider.trigger('reInit', [_]);\r\n\r\n    };\r\n\r\n    Slick.prototype.resize = function() {\r\n\r\n        var _ = this;\r\n\r\n        if ($(window).width() !== _.windowWidth) {\r\n            clearTimeout(_.windowDelay);\r\n            _.windowDelay = window.setTimeout(function() {\r\n                _.windowWidth = $(window).width();\r\n                _.checkResponsive();\r\n                if( !_.unslicked ) { _.setPosition(); }\r\n            }, 50);\r\n        }\r\n    };\r\n\r\n    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {\r\n\r\n        var _ = this;\r\n\r\n        if (typeof(index) === 'boolean') {\r\n            removeBefore = index;\r\n            index = removeBefore === true ? 0 : _.slideCount - 1;\r\n        } else {\r\n            index = removeBefore === true ? --index : index;\r\n        }\r\n\r\n        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {\r\n            return false;\r\n        }\r\n\r\n        _.unload();\r\n\r\n        if (removeAll === true) {\r\n            _.$slideTrack.children().remove();\r\n        } else {\r\n            _.$slideTrack.children(this.options.slide).eq(index).remove();\r\n        }\r\n\r\n        _.$slides = _.$slideTrack.children(this.options.slide);\r\n\r\n        _.$slideTrack.children(this.options.slide).detach();\r\n\r\n        _.$slideTrack.append(_.$slides);\r\n\r\n        _.$slidesCache = _.$slides;\r\n\r\n        _.reinit();\r\n\r\n    };\r\n\r\n    Slick.prototype.setCSS = function(position) {\r\n\r\n        var _ = this,\r\n            positionProps = {},\r\n            x, y;\r\n\r\n        if (_.options.rtl === true) {\r\n            position = -position;\r\n        }\r\n        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';\r\n        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';\r\n\r\n        positionProps[_.positionProp] = position;\r\n\r\n        if (_.transformsEnabled === false) {\r\n            _.$slideTrack.css(positionProps);\r\n        } else {\r\n            positionProps = {};\r\n            if (_.cssTransitions === false) {\r\n                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';\r\n                _.$slideTrack.css(positionProps);\r\n            } else {\r\n                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';\r\n                _.$slideTrack.css(positionProps);\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setDimensions = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.vertical === false) {\r\n            if (_.options.centerMode === true) {\r\n                _.$list.css({\r\n                    padding: ('0px ' + _.options.centerPadding)\r\n                });\r\n            }\r\n        } else {\r\n            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);\r\n            if (_.options.centerMode === true) {\r\n                _.$list.css({\r\n                    padding: (_.options.centerPadding + ' 0px')\r\n                });\r\n            }\r\n        }\r\n\r\n        _.listWidth = _.$list.width();\r\n        _.listHeight = _.$list.height();\r\n\r\n\r\n        if (_.options.vertical === false && _.options.variableWidth === false) {\r\n            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);\r\n            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));\r\n\r\n        } else if (_.options.variableWidth === true) {\r\n            _.$slideTrack.width(5000 * _.slideCount);\r\n        } else {\r\n            _.slideWidth = Math.ceil(_.listWidth);\r\n            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));\r\n        }\r\n\r\n        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();\r\n        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);\r\n\r\n    };\r\n\r\n    Slick.prototype.setFade = function() {\r\n\r\n        var _ = this,\r\n            targetLeft;\r\n\r\n        _.$slides.each(function(index, element) {\r\n            targetLeft = (_.slideWidth * index) * -1;\r\n            if (_.options.rtl === true) {\r\n                $(element).css({\r\n                    position: 'relative',\r\n                    right: targetLeft,\r\n                    top: 0,\r\n                    zIndex: _.options.zIndex - 2,\r\n                    opacity: 0\r\n                });\r\n            } else {\r\n                $(element).css({\r\n                    position: 'relative',\r\n                    left: targetLeft,\r\n                    top: 0,\r\n                    zIndex: _.options.zIndex - 2,\r\n                    opacity: 0\r\n                });\r\n            }\r\n        });\r\n\r\n        _.$slides.eq(_.currentSlide).css({\r\n            zIndex: _.options.zIndex - 1,\r\n            opacity: 1\r\n        });\r\n\r\n    };\r\n\r\n    Slick.prototype.setHeight = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {\r\n            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);\r\n            _.$list.css('height', targetHeight);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setOption =\r\n    Slick.prototype.slickSetOption = function() {\r\n\r\n        /**\r\n         * accepts arguments in format of:\r\n         *\r\n         *  - for changing a single option's value:\r\n         *     .slick(\"setOption\", option, value, refresh )\r\n         *\r\n         *  - for changing a set of responsive options:\r\n         *     .slick(\"setOption\", 'responsive', [{}, ...], refresh )\r\n         *\r\n         *  - for updating multiple values at once (not responsive)\r\n         *     .slick(\"setOption\", { 'option': value, ... }, refresh )\r\n         */\r\n\r\n        var _ = this, l, item, option, value, refresh = false, type;\r\n\r\n        if( $.type( arguments[0] ) === 'object' ) {\r\n\r\n            option =  arguments[0];\r\n            refresh = arguments[1];\r\n            type = 'multiple';\r\n\r\n        } else if ( $.type( arguments[0] ) === 'string' ) {\r\n\r\n            option =  arguments[0];\r\n            value = arguments[1];\r\n            refresh = arguments[2];\r\n\r\n            if ( arguments[0] === 'responsive' && $.type( arguments[1] ) === 'array' ) {\r\n\r\n                type = 'responsive';\r\n\r\n            } else if ( typeof arguments[1] !== 'undefined' ) {\r\n\r\n                type = 'single';\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if ( type === 'single' ) {\r\n\r\n            _.options[option] = value;\r\n\r\n\r\n        } else if ( type === 'multiple' ) {\r\n\r\n            $.each( option , function( opt, val ) {\r\n\r\n                _.options[opt] = val;\r\n\r\n            });\r\n\r\n\r\n        } else if ( type === 'responsive' ) {\r\n\r\n            for ( item in value ) {\r\n\r\n                if( $.type( _.options.responsive ) !== 'array' ) {\r\n\r\n                    _.options.responsive = [ value[item] ];\r\n\r\n                } else {\r\n\r\n                    l = _.options.responsive.length-1;\r\n\r\n                    // loop through the responsive object and splice out duplicates.\r\n                    while( l >= 0 ) {\r\n\r\n                        if( _.options.responsive[l].breakpoint === value[item].breakpoint ) {\r\n\r\n                            _.options.responsive.splice(l,1);\r\n\r\n                        }\r\n\r\n                        l--;\r\n\r\n                    }\r\n\r\n                    _.options.responsive.push( value[item] );\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if ( refresh ) {\r\n\r\n            _.unload();\r\n            _.reinit();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.setPosition = function() {\r\n\r\n        var _ = this;\r\n\r\n        _.setDimensions();\r\n\r\n        _.setHeight();\r\n\r\n        if (_.options.fade === false) {\r\n            _.setCSS(_.getLeft(_.currentSlide));\r\n        } else {\r\n            _.setFade();\r\n        }\r\n\r\n        _.$slider.trigger('setPosition', [_]);\r\n\r\n    };\r\n\r\n    Slick.prototype.setProps = function() {\r\n\r\n        var _ = this,\r\n            bodyStyle = document.body.style;\r\n\r\n        _.positionProp = _.options.vertical === true ? 'top' : 'left';\r\n\r\n        if (_.positionProp === 'top') {\r\n            _.$slider.addClass('slick-vertical');\r\n        } else {\r\n            _.$slider.removeClass('slick-vertical');\r\n        }\r\n\r\n        if (bodyStyle.WebkitTransition !== undefined ||\r\n            bodyStyle.MozTransition !== undefined ||\r\n            bodyStyle.msTransition !== undefined) {\r\n            if (_.options.useCSS === true) {\r\n                _.cssTransitions = true;\r\n            }\r\n        }\r\n\r\n        if ( _.options.fade ) {\r\n            if ( typeof _.options.zIndex === 'number' ) {\r\n                if( _.options.zIndex < 3 ) {\r\n                    _.options.zIndex = 3;\r\n                }\r\n            } else {\r\n                _.options.zIndex = _.defaults.zIndex;\r\n            }\r\n        }\r\n\r\n        if (bodyStyle.OTransform !== undefined) {\r\n            _.animType = 'OTransform';\r\n            _.transformType = '-o-transform';\r\n            _.transitionType = 'OTransition';\r\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.MozTransform !== undefined) {\r\n            _.animType = 'MozTransform';\r\n            _.transformType = '-moz-transform';\r\n            _.transitionType = 'MozTransition';\r\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.webkitTransform !== undefined) {\r\n            _.animType = 'webkitTransform';\r\n            _.transformType = '-webkit-transform';\r\n            _.transitionType = 'webkitTransition';\r\n            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.msTransform !== undefined) {\r\n            _.animType = 'msTransform';\r\n            _.transformType = '-ms-transform';\r\n            _.transitionType = 'msTransition';\r\n            if (bodyStyle.msTransform === undefined) _.animType = false;\r\n        }\r\n        if (bodyStyle.transform !== undefined && _.animType !== false) {\r\n            _.animType = 'transform';\r\n            _.transformType = 'transform';\r\n            _.transitionType = 'transition';\r\n        }\r\n        _.transformsEnabled = _.options.useTransform && (_.animType !== null && _.animType !== false);\r\n    };\r\n\r\n\r\n    Slick.prototype.setSlideClasses = function(index) {\r\n\r\n        var _ = this,\r\n            centerOffset, allSlides, indexOffset, remainder;\r\n\r\n        allSlides = _.$slider\r\n            .find('.slick-slide')\r\n            .removeClass('slick-active slick-center slick-current')\r\n            .attr('aria-hidden', 'true');\r\n\r\n        _.$slides\r\n            .eq(index)\r\n            .addClass('slick-current');\r\n\r\n        if (_.options.centerMode === true) {\r\n\r\n            var evenCoef = _.options.slidesToShow % 2 === 0 ? 1 : 0;\r\n\r\n            centerOffset = Math.floor(_.options.slidesToShow / 2);\r\n\r\n            if (_.options.infinite === true) {\r\n\r\n                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {\r\n                    _.$slides\r\n                        .slice(index - centerOffset + evenCoef, index + centerOffset + 1)\r\n                        .addClass('slick-active')\r\n                        .attr('aria-hidden', 'false');\r\n\r\n                } else {\r\n\r\n                    indexOffset = _.options.slidesToShow + index;\r\n                    allSlides\r\n                        .slice(indexOffset - centerOffset + 1 + evenCoef, indexOffset + centerOffset + 2)\r\n                        .addClass('slick-active')\r\n                        .attr('aria-hidden', 'false');\r\n\r\n                }\r\n\r\n                if (index === 0) {\r\n\r\n                    allSlides\r\n                        .eq(allSlides.length - 1 - _.options.slidesToShow)\r\n                        .addClass('slick-center');\r\n\r\n                } else if (index === _.slideCount - 1) {\r\n\r\n                    allSlides\r\n                        .eq(_.options.slidesToShow)\r\n                        .addClass('slick-center');\r\n\r\n                }\r\n\r\n            }\r\n\r\n            _.$slides\r\n                .eq(index)\r\n                .addClass('slick-center');\r\n\r\n        } else {\r\n\r\n            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {\r\n\r\n                _.$slides\r\n                    .slice(index, index + _.options.slidesToShow)\r\n                    .addClass('slick-active')\r\n                    .attr('aria-hidden', 'false');\r\n\r\n            } else if (allSlides.length <= _.options.slidesToShow) {\r\n\r\n                allSlides\r\n                    .addClass('slick-active')\r\n                    .attr('aria-hidden', 'false');\r\n\r\n            } else {\r\n\r\n                remainder = _.slideCount % _.options.slidesToShow;\r\n                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;\r\n\r\n                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {\r\n\r\n                    allSlides\r\n                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)\r\n                        .addClass('slick-active')\r\n                        .attr('aria-hidden', 'false');\r\n\r\n                } else {\r\n\r\n                    allSlides\r\n                        .slice(indexOffset, indexOffset + _.options.slidesToShow)\r\n                        .addClass('slick-active')\r\n                        .attr('aria-hidden', 'false');\r\n\r\n                }\r\n\r\n            }\r\n\r\n        }\r\n\r\n        if (_.options.lazyLoad === 'ondemand' || _.options.lazyLoad === 'anticipated') {\r\n            _.lazyLoad();\r\n        }\r\n    };\r\n\r\n    Slick.prototype.setupInfinite = function() {\r\n\r\n        var _ = this,\r\n            i, slideIndex, infiniteCount;\r\n\r\n        if (_.options.fade === true) {\r\n            _.options.centerMode = false;\r\n        }\r\n\r\n        if (_.options.infinite === true && _.options.fade === false) {\r\n\r\n            slideIndex = null;\r\n\r\n            if (_.slideCount > _.options.slidesToShow) {\r\n\r\n                if (_.options.centerMode === true) {\r\n                    infiniteCount = _.options.slidesToShow + 1;\r\n                } else {\r\n                    infiniteCount = _.options.slidesToShow;\r\n                }\r\n\r\n                for (i = _.slideCount; i > (_.slideCount -\r\n                        infiniteCount); i -= 1) {\r\n                    slideIndex = i - 1;\r\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\r\n                        .attr('data-slick-index', slideIndex - _.slideCount)\r\n                        .prependTo(_.$slideTrack).addClass('slick-cloned');\r\n                }\r\n                for (i = 0; i < infiniteCount  + _.slideCount; i += 1) {\r\n                    slideIndex = i;\r\n                    $(_.$slides[slideIndex]).clone(true).attr('id', '')\r\n                        .attr('data-slick-index', slideIndex + _.slideCount)\r\n                        .appendTo(_.$slideTrack).addClass('slick-cloned');\r\n                }\r\n                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {\r\n                    $(this).attr('id', '');\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.interrupt = function( toggle ) {\r\n\r\n        var _ = this;\r\n\r\n        if( !toggle ) {\r\n            _.autoPlay();\r\n        }\r\n        _.interrupted = toggle;\r\n\r\n    };\r\n\r\n    Slick.prototype.selectHandler = function(event) {\r\n\r\n        var _ = this;\r\n\r\n        var targetElement =\r\n            $(event.target).is('.slick-slide') ?\r\n                $(event.target) :\r\n                $(event.target).parents('.slick-slide');\r\n\r\n        var index = parseInt(targetElement.attr('data-slick-index'));\r\n\r\n        if (!index) index = 0;\r\n\r\n        if (_.slideCount <= _.options.slidesToShow) {\r\n\r\n            _.slideHandler(index, false, true);\r\n            return;\r\n\r\n        }\r\n\r\n        _.slideHandler(index);\r\n\r\n    };\r\n\r\n    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {\r\n\r\n        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,\r\n            _ = this, navTarget;\r\n\r\n        sync = sync || false;\r\n\r\n        if (_.animating === true && _.options.waitForAnimate === true) {\r\n            return;\r\n        }\r\n\r\n        if (_.options.fade === true && _.currentSlide === index) {\r\n            return;\r\n        }\r\n\r\n        if (sync === false) {\r\n            _.asNavFor(index);\r\n        }\r\n\r\n        targetSlide = index;\r\n        targetLeft = _.getLeft(targetSlide);\r\n        slideLeft = _.getLeft(_.currentSlide);\r\n\r\n        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;\r\n\r\n        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {\r\n            if (_.options.fade === false) {\r\n                targetSlide = _.currentSlide;\r\n                if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\r\n                    _.animateSlide(slideLeft, function() {\r\n                        _.postSlide(targetSlide);\r\n                    });\r\n                } else {\r\n                    _.postSlide(targetSlide);\r\n                }\r\n            }\r\n            return;\r\n        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {\r\n            if (_.options.fade === false) {\r\n                targetSlide = _.currentSlide;\r\n                if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\r\n                    _.animateSlide(slideLeft, function() {\r\n                        _.postSlide(targetSlide);\r\n                    });\r\n                } else {\r\n                    _.postSlide(targetSlide);\r\n                }\r\n            }\r\n            return;\r\n        }\r\n\r\n        if ( _.options.autoplay ) {\r\n            clearInterval(_.autoPlayTimer);\r\n        }\r\n\r\n        if (targetSlide < 0) {\r\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\r\n                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);\r\n            } else {\r\n                animSlide = _.slideCount + targetSlide;\r\n            }\r\n        } else if (targetSlide >= _.slideCount) {\r\n            if (_.slideCount % _.options.slidesToScroll !== 0) {\r\n                animSlide = 0;\r\n            } else {\r\n                animSlide = targetSlide - _.slideCount;\r\n            }\r\n        } else {\r\n            animSlide = targetSlide;\r\n        }\r\n\r\n        _.animating = true;\r\n\r\n        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);\r\n\r\n        oldSlide = _.currentSlide;\r\n        _.currentSlide = animSlide;\r\n\r\n        _.setSlideClasses(_.currentSlide);\r\n\r\n        if ( _.options.asNavFor ) {\r\n\r\n            navTarget = _.getNavTarget();\r\n            navTarget = navTarget.slick('getSlick');\r\n\r\n            if ( navTarget.slideCount <= navTarget.options.slidesToShow ) {\r\n                navTarget.setSlideClasses(_.currentSlide);\r\n            }\r\n\r\n        }\r\n\r\n        _.updateDots();\r\n        _.updateArrows();\r\n\r\n        if (_.options.fade === true) {\r\n            if (dontAnimate !== true) {\r\n\r\n                _.fadeSlideOut(oldSlide);\r\n\r\n                _.fadeSlide(animSlide, function() {\r\n                    _.postSlide(animSlide);\r\n                });\r\n\r\n            } else {\r\n                _.postSlide(animSlide);\r\n            }\r\n            _.animateHeight();\r\n            return;\r\n        }\r\n\r\n        if (dontAnimate !== true && _.slideCount > _.options.slidesToShow) {\r\n            _.animateSlide(targetLeft, function() {\r\n                _.postSlide(animSlide);\r\n            });\r\n        } else {\r\n            _.postSlide(animSlide);\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.startLoad = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$prevArrow.hide();\r\n            _.$nextArrow.hide();\r\n\r\n        }\r\n\r\n        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {\r\n\r\n            _.$dots.hide();\r\n\r\n        }\r\n\r\n        _.$slider.addClass('slick-loading');\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeDirection = function() {\r\n\r\n        var xDist, yDist, r, swipeAngle, _ = this;\r\n\r\n        xDist = _.touchObject.startX - _.touchObject.curX;\r\n        yDist = _.touchObject.startY - _.touchObject.curY;\r\n        r = Math.atan2(yDist, xDist);\r\n\r\n        swipeAngle = Math.round(r * 180 / Math.PI);\r\n        if (swipeAngle < 0) {\r\n            swipeAngle = 360 - Math.abs(swipeAngle);\r\n        }\r\n\r\n        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {\r\n            return (_.options.rtl === false ? 'left' : 'right');\r\n        }\r\n        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {\r\n            return (_.options.rtl === false ? 'left' : 'right');\r\n        }\r\n        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {\r\n            return (_.options.rtl === false ? 'right' : 'left');\r\n        }\r\n        if (_.options.verticalSwiping === true) {\r\n            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {\r\n                return 'down';\r\n            } else {\r\n                return 'up';\r\n            }\r\n        }\r\n\r\n        return 'vertical';\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeEnd = function(event) {\r\n\r\n        var _ = this,\r\n            slideCount,\r\n            direction;\r\n\r\n        _.dragging = false;\r\n        _.swiping = false;\r\n\r\n        if (_.scrolling) {\r\n            _.scrolling = false;\r\n            return false;\r\n        }\r\n\r\n        _.interrupted = false;\r\n        _.shouldClick = ( _.touchObject.swipeLength > 10 ) ? false : true;\r\n\r\n        if ( _.touchObject.curX === undefined ) {\r\n            return false;\r\n        }\r\n\r\n        if ( _.touchObject.edgeHit === true ) {\r\n            _.$slider.trigger('edge', [_, _.swipeDirection() ]);\r\n        }\r\n\r\n        if ( _.touchObject.swipeLength >= _.touchObject.minSwipe ) {\r\n\r\n            direction = _.swipeDirection();\r\n\r\n            switch ( direction ) {\r\n\r\n                case 'left':\r\n                case 'down':\r\n\r\n                    slideCount =\r\n                        _.options.swipeToSlide ?\r\n                            _.checkNavigable( _.currentSlide + _.getSlideCount() ) :\r\n                            _.currentSlide + _.getSlideCount();\r\n\r\n                    _.currentDirection = 0;\r\n\r\n                    break;\r\n\r\n                case 'right':\r\n                case 'up':\r\n\r\n                    slideCount =\r\n                        _.options.swipeToSlide ?\r\n                            _.checkNavigable( _.currentSlide - _.getSlideCount() ) :\r\n                            _.currentSlide - _.getSlideCount();\r\n\r\n                    _.currentDirection = 1;\r\n\r\n                    break;\r\n\r\n                default:\r\n\r\n\r\n            }\r\n\r\n            if( direction != 'vertical' ) {\r\n\r\n                _.slideHandler( slideCount );\r\n                _.touchObject = {};\r\n                _.$slider.trigger('swipe', [_, direction ]);\r\n\r\n            }\r\n\r\n        } else {\r\n\r\n            if ( _.touchObject.startX !== _.touchObject.curX ) {\r\n\r\n                _.slideHandler( _.currentSlide );\r\n                _.touchObject = {};\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeHandler = function(event) {\r\n\r\n        var _ = this;\r\n\r\n        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {\r\n            return;\r\n        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {\r\n            return;\r\n        }\r\n\r\n        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?\r\n            event.originalEvent.touches.length : 1;\r\n\r\n        _.touchObject.minSwipe = _.listWidth / _.options\r\n            .touchThreshold;\r\n\r\n        if (_.options.verticalSwiping === true) {\r\n            _.touchObject.minSwipe = _.listHeight / _.options\r\n                .touchThreshold;\r\n        }\r\n\r\n        switch (event.data.action) {\r\n\r\n            case 'start':\r\n                _.swipeStart(event);\r\n                break;\r\n\r\n            case 'move':\r\n                _.swipeMove(event);\r\n                break;\r\n\r\n            case 'end':\r\n                _.swipeEnd(event);\r\n                break;\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeMove = function(event) {\r\n\r\n        var _ = this,\r\n            edgeWasHit = false,\r\n            curLeft, swipeDirection, swipeLength, positionOffset, touches, verticalSwipeLength;\r\n\r\n        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;\r\n\r\n        if (!_.dragging || _.scrolling || touches && touches.length !== 1) {\r\n            return false;\r\n        }\r\n\r\n        curLeft = _.getLeft(_.currentSlide);\r\n\r\n        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;\r\n        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;\r\n\r\n        _.touchObject.swipeLength = Math.round(Math.sqrt(\r\n            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));\r\n\r\n        verticalSwipeLength = Math.round(Math.sqrt(\r\n            Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));\r\n\r\n        if (!_.options.verticalSwiping && !_.swiping && verticalSwipeLength > 4) {\r\n            _.scrolling = true;\r\n            return false;\r\n        }\r\n\r\n        if (_.options.verticalSwiping === true) {\r\n            _.touchObject.swipeLength = verticalSwipeLength;\r\n        }\r\n\r\n        swipeDirection = _.swipeDirection();\r\n\r\n        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {\r\n            _.swiping = true;\r\n            event.preventDefault();\r\n        }\r\n\r\n        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);\r\n        if (_.options.verticalSwiping === true) {\r\n            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;\r\n        }\r\n\r\n\r\n        swipeLength = _.touchObject.swipeLength;\r\n\r\n        _.touchObject.edgeHit = false;\r\n\r\n        if (_.options.infinite === false) {\r\n            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {\r\n                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;\r\n                _.touchObject.edgeHit = true;\r\n            }\r\n        }\r\n\r\n        if (_.options.vertical === false) {\r\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\r\n        } else {\r\n            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;\r\n        }\r\n        if (_.options.verticalSwiping === true) {\r\n            _.swipeLeft = curLeft + swipeLength * positionOffset;\r\n        }\r\n\r\n        if (_.options.fade === true || _.options.touchMove === false) {\r\n            return false;\r\n        }\r\n\r\n        if (_.animating === true) {\r\n            _.swipeLeft = null;\r\n            return false;\r\n        }\r\n\r\n        _.setCSS(_.swipeLeft);\r\n\r\n    };\r\n\r\n    Slick.prototype.swipeStart = function(event) {\r\n\r\n        var _ = this,\r\n            touches;\r\n\r\n        _.interrupted = true;\r\n\r\n        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {\r\n            _.touchObject = {};\r\n            return false;\r\n        }\r\n\r\n        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {\r\n            touches = event.originalEvent.touches[0];\r\n        }\r\n\r\n        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;\r\n        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;\r\n\r\n        _.dragging = true;\r\n\r\n    };\r\n\r\n    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.$slidesCache !== null) {\r\n\r\n            _.unload();\r\n\r\n            _.$slideTrack.children(this.options.slide).detach();\r\n\r\n            _.$slidesCache.appendTo(_.$slideTrack);\r\n\r\n            _.reinit();\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.unload = function() {\r\n\r\n        var _ = this;\r\n\r\n        $('.slick-cloned', _.$slider).remove();\r\n\r\n        if (_.$dots) {\r\n            _.$dots.remove();\r\n        }\r\n\r\n        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {\r\n            _.$prevArrow.remove();\r\n        }\r\n\r\n        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {\r\n            _.$nextArrow.remove();\r\n        }\r\n\r\n        _.$slides\r\n            .removeClass('slick-slide slick-active slick-visible slick-current')\r\n            .attr('aria-hidden', 'true')\r\n            .css('width', '');\r\n\r\n    };\r\n\r\n    Slick.prototype.unslick = function(fromBreakpoint) {\r\n\r\n        var _ = this;\r\n        _.$slider.trigger('unslick', [_, fromBreakpoint]);\r\n        _.destroy();\r\n\r\n    };\r\n\r\n    Slick.prototype.updateArrows = function() {\r\n\r\n        var _ = this,\r\n            centerOffset;\r\n\r\n        centerOffset = Math.floor(_.options.slidesToShow / 2);\r\n\r\n        if ( _.options.arrows === true &&\r\n            _.slideCount > _.options.slidesToShow &&\r\n            !_.options.infinite ) {\r\n\r\n            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\r\n            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\r\n\r\n            if (_.currentSlide === 0) {\r\n\r\n                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\r\n                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\r\n\r\n            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {\r\n\r\n                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\r\n                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\r\n\r\n            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {\r\n\r\n                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');\r\n                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.updateDots = function() {\r\n\r\n        var _ = this;\r\n\r\n        if (_.$dots !== null) {\r\n\r\n            _.$dots\r\n                .find('li')\r\n                    .removeClass('slick-active')\r\n                    .end();\r\n\r\n            _.$dots\r\n                .find('li')\r\n                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))\r\n                .addClass('slick-active');\r\n\r\n        }\r\n\r\n    };\r\n\r\n    Slick.prototype.visibility = function() {\r\n\r\n        var _ = this;\r\n\r\n        if ( _.options.autoplay ) {\r\n\r\n            if ( document[_.hidden] ) {\r\n\r\n                _.interrupted = true;\r\n\r\n            } else {\r\n\r\n                _.interrupted = false;\r\n\r\n            }\r\n\r\n        }\r\n\r\n    };\r\n\r\n    $.fn.slick = function() {\r\n        var _ = this,\r\n            opt = arguments[0],\r\n            args = Array.prototype.slice.call(arguments, 1),\r\n            l = _.length,\r\n            i,\r\n            ret;\r\n        for (i = 0; i < l; i++) {\r\n            if (typeof opt == 'object' || typeof opt == 'undefined')\r\n                _[i].slick = new Slick(_[i], opt);\r\n            else\r\n                ret = _[i].slick[opt].apply(_[i].slick, args);\r\n            if (typeof ret != 'undefined') return ret;\r\n        }\r\n        return _;\r\n    };\r\n\r\n}));\r\n","// Generated by CoffeeScript 1.9.2\r\n\r\n/**\r\n@license Sticky-kit v1.1.2 | WTFPL | Leaf Corcoran 2015 | http://leafo.net\r\n */\r\n\r\n(function() {\r\n  var $, win;\r\n\r\n  $ = this.jQuery || window.jQuery;\r\n\r\n  win = $(window);\r\n\r\n  $.fn.stick_in_parent = function(opts) {\r\n    var doc, elm, enable_bottoming, fn, i, inner_scrolling, len, manual_spacer, offset_top, parent_selector, recalc_every, sticky_class;\r\n    if (opts == null) {\r\n      opts = {};\r\n    }\r\n    sticky_class = opts.sticky_class, inner_scrolling = opts.inner_scrolling, recalc_every = opts.recalc_every, parent_selector = opts.parent, offset_top = opts.offset_top, manual_spacer = opts.spacer, enable_bottoming = opts.bottoming;\r\n    if (offset_top == null) {\r\n      offset_top = 0;\r\n    }\r\n    if (parent_selector == null) {\r\n      parent_selector = void 0;\r\n    }\r\n    if (inner_scrolling == null) {\r\n      inner_scrolling = true;\r\n    }\r\n    if (sticky_class == null) {\r\n      sticky_class = \"is_stuck\";\r\n    }\r\n    doc = $(document);\r\n    if (enable_bottoming == null) {\r\n      enable_bottoming = true;\r\n    }\r\n    fn = function(elm, padding_bottom, parent_top, parent_height, top, height, el_float, detached) {\r\n      var bottomed, detach, fixed, last_pos, last_scroll_height, offset, parent, recalc, recalc_and_tick, recalc_counter, spacer, tick;\r\n      if (elm.data(\"sticky_kit\")) {\r\n        return;\r\n      }\r\n      elm.data(\"sticky_kit\", true);\r\n      last_scroll_height = doc.height();\r\n      parent = elm.parent();\r\n      if (parent_selector != null) {\r\n        parent = parent.closest(parent_selector);\r\n      }\r\n      if (!parent.length) {\r\n        throw \"failed to find stick parent\";\r\n      }\r\n      fixed = false;\r\n      bottomed = false;\r\n      spacer = manual_spacer != null ? manual_spacer && elm.closest(manual_spacer) : $(\"<div />\");\r\n      if (spacer) {\r\n        spacer.css('position', elm.css('position'));\r\n      }\r\n      recalc = function() {\r\n        var border_top, padding_top, restore;\r\n        if (detached) {\r\n          return;\r\n        }\r\n        last_scroll_height = doc.height();\r\n        border_top = parseInt(parent.css(\"border-top-width\"), 10);\r\n        padding_top = parseInt(parent.css(\"padding-top\"), 10);\r\n        padding_bottom = parseInt(parent.css(\"padding-bottom\"), 10);\r\n        parent_top = parent.offset().top + border_top + padding_top;\r\n        parent_height = parent.height();\r\n        if (fixed) {\r\n          fixed = false;\r\n          bottomed = false;\r\n          if (manual_spacer == null) {\r\n            elm.insertAfter(spacer);\r\n            spacer.detach();\r\n          }\r\n          elm.css({\r\n            position: \"\",\r\n            top: \"\",\r\n            width: \"\",\r\n            bottom: \"\"\r\n          }).removeClass(sticky_class);\r\n          restore = true;\r\n        }\r\n        top = elm.offset().top - (parseInt(elm.css(\"margin-top\"), 10) || 0) - offset_top;\r\n        height = elm.outerHeight(true);\r\n        el_float = elm.css(\"float\");\r\n        if (spacer) {\r\n          spacer.css({\r\n            width: elm.outerWidth(true),\r\n            height: height,\r\n            display: elm.css(\"display\"),\r\n            \"vertical-align\": elm.css(\"vertical-align\"),\r\n            \"float\": el_float\r\n          });\r\n        }\r\n        if (restore) {\r\n          return tick();\r\n        }\r\n      };\r\n      recalc();\r\n      if (height === parent_height) {\r\n        return;\r\n      }\r\n      last_pos = void 0;\r\n      offset = offset_top;\r\n      recalc_counter = recalc_every;\r\n      tick = function() {\r\n        var css, delta, recalced, scroll, will_bottom, win_height;\r\n        if (detached) {\r\n          return;\r\n        }\r\n        recalced = false;\r\n        if (recalc_counter != null) {\r\n          recalc_counter -= 1;\r\n          if (recalc_counter <= 0) {\r\n            recalc_counter = recalc_every;\r\n            recalc();\r\n            recalced = true;\r\n          }\r\n        }\r\n        if (!recalced && doc.height() !== last_scroll_height) {\r\n          recalc();\r\n          recalced = true;\r\n        }\r\n        scroll = win.scrollTop();\r\n        if (last_pos != null) {\r\n          delta = scroll - last_pos;\r\n        }\r\n        last_pos = scroll;\r\n        if (fixed) {\r\n          if (enable_bottoming) {\r\n            will_bottom = scroll + height + offset > parent_height + parent_top;\r\n            if (bottomed && !will_bottom) {\r\n              bottomed = false;\r\n              elm.css({\r\n                position: \"fixed\",\r\n                bottom: \"\",\r\n                top: offset\r\n              }).trigger(\"sticky_kit:unbottom\");\r\n            }\r\n          }\r\n          if (scroll < top) {\r\n            fixed = false;\r\n            offset = offset_top;\r\n            if (manual_spacer == null) {\r\n              if (el_float === \"left\" || el_float === \"right\") {\r\n                elm.insertAfter(spacer);\r\n              }\r\n              spacer.detach();\r\n            }\r\n            css = {\r\n              position: \"\",\r\n              width: \"\",\r\n              top: \"\"\r\n            };\r\n            elm.css(css).removeClass(sticky_class).trigger(\"sticky_kit:unstick\");\r\n          }\r\n          if (inner_scrolling) {\r\n            win_height = win.height();\r\n            if (height + offset_top > win_height) {\r\n              if (!bottomed) {\r\n                offset -= delta;\r\n                offset = Math.max(win_height - height, offset);\r\n                offset = Math.min(offset_top, offset);\r\n                if (fixed) {\r\n                  elm.css({\r\n                    top: offset + \"px\"\r\n                  });\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          if (scroll > top) {\r\n            fixed = true;\r\n            css = {\r\n              position: \"fixed\",\r\n              top: offset\r\n            };\r\n            css.width = elm.css(\"box-sizing\") === \"border-box\" ? elm.outerWidth() + \"px\" : elm.width() + \"px\";\r\n            elm.css(css).addClass(sticky_class);\r\n            if (manual_spacer == null) {\r\n              elm.after(spacer);\r\n              if (el_float === \"left\" || el_float === \"right\") {\r\n                spacer.append(elm);\r\n              }\r\n            }\r\n            elm.trigger(\"sticky_kit:stick\");\r\n          }\r\n        }\r\n        if (fixed && enable_bottoming) {\r\n          if (will_bottom == null) {\r\n            will_bottom = scroll + height + offset > parent_height + parent_top;\r\n          }\r\n          if (!bottomed && will_bottom) {\r\n            bottomed = true;\r\n            if (parent.css(\"position\") === \"static\") {\r\n              parent.css({\r\n                position: \"relative\"\r\n              });\r\n            }\r\n            return elm.css({\r\n              position: \"absolute\",\r\n              bottom: padding_bottom,\r\n              top: \"auto\"\r\n            }).trigger(\"sticky_kit:bottom\");\r\n          }\r\n        }\r\n      };\r\n      recalc_and_tick = function() {\r\n        recalc();\r\n        return tick();\r\n      };\r\n      detach = function() {\r\n        detached = true;\r\n        win.off(\"touchmove\", tick);\r\n        win.off(\"scroll\", tick);\r\n        win.off(\"resize\", recalc_and_tick);\r\n        $(document.body).off(\"sticky_kit:recalc\", recalc_and_tick);\r\n        elm.off(\"sticky_kit:detach\", detach);\r\n        elm.removeData(\"sticky_kit\");\r\n        elm.css({\r\n          position: \"\",\r\n          bottom: \"\",\r\n          top: \"\",\r\n          width: \"\"\r\n        });\r\n        parent.position(\"position\", \"\");\r\n        if (fixed) {\r\n          if (manual_spacer == null) {\r\n            if (el_float === \"left\" || el_float === \"right\") {\r\n              elm.insertAfter(spacer);\r\n            }\r\n            spacer.remove();\r\n          }\r\n          return elm.removeClass(sticky_class);\r\n        }\r\n      };\r\n      win.on(\"touchmove\", tick);\r\n      win.on(\"scroll\", tick);\r\n      win.on(\"resize\", recalc_and_tick);\r\n      $(document.body).on(\"sticky_kit:recalc\", recalc_and_tick);\r\n      elm.on(\"sticky_kit:detach\", detach);\r\n      return setTimeout(tick, 0);\r\n    };\r\n    for (i = 0, len = this.length; i < len; i++) {\r\n      elm = this[i];\r\n      fn($(elm));\r\n    }\r\n    return this;\r\n  };\r\n\r\n}).call(this);\r\n"]}